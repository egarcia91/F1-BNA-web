(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function zv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rm={exports:{}},Oa={},Pm={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=Symbol.for("react.element"),Bv=Symbol.for("react.portal"),Uv=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),qv=Symbol.for("react.profiler"),Hv=Symbol.for("react.provider"),Gv=Symbol.for("react.context"),Kv=Symbol.for("react.forward_ref"),Wv=Symbol.for("react.suspense"),Qv=Symbol.for("react.memo"),Yv=Symbol.for("react.lazy"),Jd=Symbol.iterator;function Xv(t){return t===null||typeof t!="object"?null:(t=Jd&&t[Jd]||t["@@iterator"],typeof t=="function"?t:null)}var km={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xm=Object.assign,Nm={};function wi(t,e,n){this.props=t,this.context=e,this.refs=Nm,this.updater=n||km}wi.prototype.isReactComponent={};wi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vm(){}Vm.prototype=wi.prototype;function Mc(t,e,n){this.props=t,this.context=e,this.refs=Nm,this.updater=n||km}var Oc=Mc.prototype=new Vm;Oc.constructor=Mc;xm(Oc,wi.prototype);Oc.isPureReactComponent=!0;var Zd=Array.isArray,Dm=Object.prototype.hasOwnProperty,bc={current:null},Lm={key:!0,ref:!0,__self:!0,__source:!0};function Mm(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Dm.call(e,r)&&!Lm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Hs,type:t,key:s,ref:a,props:i,_owner:bc.current}}function Jv(t,e){return{$$typeof:Hs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hs}function Zv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ef=/\/+/g;function Nl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zv(""+t.key):e.toString(36)}function bo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Hs:case Bv:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Nl(a,0):r,Zd(i)?(n="",t!=null&&(n=t.replace(ef,"$&/")+"/"),bo(i,e,n,"",function(h){return h})):i!=null&&(jc(i)&&(i=Jv(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ef,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Zd(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Nl(s,l);a+=bo(s,e,n,c,i)}else if(c=Xv(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Nl(s,l++),a+=bo(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function po(t,e,n){if(t==null)return t;var r=[],i=0;return bo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function e1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},jo={transition:null},t1={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:jo,ReactCurrentOwner:bc};function Om(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:po,forEach:function(t,e,n){po(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return po(t,function(){e++}),e},toArray:function(t){return po(t,function(e){return e})||[]},only:function(t){if(!jc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=wi;ee.Fragment=Uv;ee.Profiler=qv;ee.PureComponent=Mc;ee.StrictMode=$v;ee.Suspense=Wv;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t1;ee.act=Om;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xm({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=bc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Dm.call(e,c)&&!Lm.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Hs,type:t.type,key:i,ref:s,props:r,_owner:a}};ee.createContext=function(t){return t={$$typeof:Gv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hv,_context:t},t.Consumer=t};ee.createElement=Mm;ee.createFactory=function(t){var e=Mm.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:Kv,render:t}};ee.isValidElement=jc;ee.lazy=function(t){return{$$typeof:Yv,_payload:{_status:-1,_result:t},_init:e1}};ee.memo=function(t,e){return{$$typeof:Qv,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=jo.transition;jo.transition={};try{t()}finally{jo.transition=e}};ee.unstable_act=Om;ee.useCallback=function(t,e){return ot.current.useCallback(t,e)};ee.useContext=function(t){return ot.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};ee.useEffect=function(t,e){return ot.current.useEffect(t,e)};ee.useId=function(){return ot.current.useId()};ee.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return ot.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};ee.useRef=function(t){return ot.current.useRef(t)};ee.useState=function(t){return ot.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return ot.current.useTransition()};ee.version="18.3.1";Pm.exports=ee;var K=Pm.exports;const n1=zv(K);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1=K,i1=Symbol.for("react.element"),s1=Symbol.for("react.fragment"),o1=Object.prototype.hasOwnProperty,a1=r1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l1={key:!0,ref:!0,__self:!0,__source:!0};function bm(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)o1.call(e,r)&&!l1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:i1,type:t,key:s,ref:a,props:i,_owner:a1.current}}Oa.Fragment=s1;Oa.jsx=bm;Oa.jsxs=bm;Rm.exports=Oa;var S=Rm.exports,jm={exports:{}},vt={},Fm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,Q){var J=B.length;B.push(Q);e:for(;0<J;){var pe=J-1>>>1,Se=B[pe];if(0<i(Se,Q))B[pe]=Q,B[J]=Se,J=pe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Q=B[0],J=B.pop();if(J!==Q){B[0]=J;e:for(var pe=0,Se=B.length,Zn=Se>>>1;pe<Zn;){var wt=2*(pe+1)-1,er=B[wt],kt=wt+1,dn=B[kt];if(0>i(er,J))kt<Se&&0>i(dn,er)?(B[pe]=dn,B[kt]=J,pe=kt):(B[pe]=er,B[wt]=J,pe=wt);else if(kt<Se&&0>i(dn,J))B[pe]=dn,B[kt]=J,pe=kt;else break e}}return Q}function i(B,Q){var J=B.sortIndex-Q.sortIndex;return J!==0?J:B.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],f=1,y=null,_=3,P=!1,R=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(B){for(var Q=n(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=B)r(h),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(h)}}function D(B){if(N=!1,A(B),!R)if(n(c)!==null)R=!0,Pi(O);else{var Q=n(h);Q!==null&&ki(D,Q.startTime-B)}}function O(B,Q){R=!1,N&&(N=!1,m(g),g=-1),P=!0;var J=_;try{for(A(Q),y=n(c);y!==null&&(!(y.expirationTime>Q)||B&&!C());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,_=y.priorityLevel;var Se=pe(y.expirationTime<=Q);Q=t.unstable_now(),typeof Se=="function"?y.callback=Se:y===n(c)&&r(c),A(Q)}else r(c);y=n(c)}if(y!==null)var Zn=!0;else{var wt=n(h);wt!==null&&ki(D,wt.startTime-Q),Zn=!1}return Zn}finally{y=null,_=J,P=!1}}var j=!1,E=null,g=-1,v=5,I=-1;function C(){return!(t.unstable_now()-I<v)}function k(){if(E!==null){var B=t.unstable_now();I=B;var Q=!0;try{Q=E(!0,B)}finally{Q?T():(j=!1,E=null)}}else j=!1}var T;if(typeof w=="function")T=function(){w(k)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Xt=Be.port2;Be.port1.onmessage=k,T=function(){Xt.postMessage(null)}}else T=function(){M(k,0)};function Pi(B){E=B,j||(j=!0,T())}function ki(B,Q){g=M(function(){B(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,Pi(O))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var J=_;_=Q;try{return B()}finally{_=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=_;_=B;try{return Q()}finally{_=J}},t.unstable_scheduleCallback=function(B,Q,J){var pe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?pe+J:pe):J=pe,B){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=J+Se,B={id:f++,callback:Q,priorityLevel:B,startTime:J,expirationTime:Se,sortIndex:-1},J>pe?(B.sortIndex=J,e(h,B),n(c)===null&&B===n(h)&&(N?(m(g),g=-1):N=!0,ki(D,J-pe))):(B.sortIndex=Se,e(c,B),R||P||(R=!0,Pi(O))),B},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(B){var Q=_;return function(){var J=_;_=Q;try{return B.apply(this,arguments)}finally{_=J}}}})(zm);Fm.exports=zm;var u1=Fm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1=K,_t=u1;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bm=new Set,Ts={};function Ar(t,e){li(t,e),li(t+"Capture",e)}function li(t,e){for(Ts[t]=e,t=0;t<e.length;t++)Bm.add(e[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mu=Object.prototype.hasOwnProperty,h1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tf={},nf={};function d1(t){return mu.call(nf,t)?!0:mu.call(tf,t)?!1:h1.test(t)?nf[t]=!0:(tf[t]=!0,!1)}function f1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function p1(t,e,n,r){if(e===null||typeof e>"u"||f1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fc=/[\-:]([a-z])/g;function zc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fc,zc);He[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fc,zc);He[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fc,zc);He[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bc(t,e,n,r){var i=He.hasOwnProperty(e)?He[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(p1(e,n,i,r)&&(n=null),r||i===null?d1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hn=c1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mo=Symbol.for("react.element"),br=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),Uc=Symbol.for("react.strict_mode"),gu=Symbol.for("react.profiler"),Um=Symbol.for("react.provider"),$m=Symbol.for("react.context"),$c=Symbol.for("react.forward_ref"),yu=Symbol.for("react.suspense"),_u=Symbol.for("react.suspense_list"),qc=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),qm=Symbol.for("react.offscreen"),rf=Symbol.iterator;function Gi(t){return t===null||typeof t!="object"?null:(t=rf&&t[rf]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,Vl;function ts(t){if(Vl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vl=e&&e[1]||""}return`
`+Vl+t}var Dl=!1;function Ll(t,e){if(!t||Dl)return"";Dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Dl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ts(t):""}function m1(t){switch(t.tag){case 5:return ts(t.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 2:case 15:return t=Ll(t.type,!1),t;case 11:return t=Ll(t.type.render,!1),t;case 1:return t=Ll(t.type,!0),t;default:return""}}function vu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jr:return"Fragment";case br:return"Portal";case gu:return"Profiler";case Uc:return"StrictMode";case yu:return"Suspense";case _u:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $m:return(t.displayName||"Context")+".Consumer";case Um:return(t._context.displayName||"Context")+".Provider";case $c:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qc:return e=t.displayName||null,e!==null?e:vu(t.type)||"Memo";case wn:e=t._payload,t=t._init;try{return vu(t(e))}catch{}}return null}function g1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vu(e);case 8:return e===Uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function y1(t){var e=Hm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function go(t){t._valueTracker||(t._valueTracker=y1(t))}function Gm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eu(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Un(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Km(t,e){e=e.checked,e!=null&&Bc(t,"checked",e,!1)}function wu(t,e){Km(t,e);var n=Un(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tu(t,e.type,Un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function of(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tu(t,e,n){(e!=="number"||ta(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ns=Array.isArray;function Qr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Un(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Su(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function af(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(ns(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Un(n)}}function Wm(t,e){var n=Un(e.value),r=Un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yo,Ym=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ss(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_1=["Webkit","ms","Moz","O"];Object.keys(ls).forEach(function(t){_1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ls[e]=ls[t]})});function Xm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ls.hasOwnProperty(t)&&ls[t]?(""+e).trim():e+"px"}function Jm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var v1=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cu(t,e){if(e){if(v1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Au(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=null;function Hc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pu=null,Yr=null,Xr=null;function uf(t){if(t=Ws(t)){if(typeof Pu!="function")throw Error(b(280));var e=t.stateNode;e&&(e=Ba(e),Pu(t.stateNode,t.type,e))}}function Zm(t){Yr?Xr?Xr.push(t):Xr=[t]:Yr=t}function eg(){if(Yr){var t=Yr,e=Xr;if(Xr=Yr=null,uf(t),e)for(t=0;t<e.length;t++)uf(e[t])}}function tg(t,e){return t(e)}function ng(){}var Ml=!1;function rg(t,e,n){if(Ml)return t(e,n);Ml=!0;try{return tg(t,e,n)}finally{Ml=!1,(Yr!==null||Xr!==null)&&(ng(),eg())}}function Is(t,e){var n=t.stateNode;if(n===null)return null;var r=Ba(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var ku=!1;if(sn)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){ku=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{ku=!1}function E1(t,e,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var us=!1,na=null,ra=!1,xu=null,w1={onError:function(t){us=!0,na=t}};function T1(t,e,n,r,i,s,a,l,c){us=!1,na=null,E1.apply(w1,arguments)}function S1(t,e,n,r,i,s,a,l,c){if(T1.apply(this,arguments),us){if(us){var h=na;us=!1,na=null}else throw Error(b(198));ra||(ra=!0,xu=h)}}function Rr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ig(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cf(t){if(Rr(t)!==t)throw Error(b(188))}function I1(t){var e=t.alternate;if(!e){if(e=Rr(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return cf(i),t;if(s===r)return cf(i),e;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function sg(t){return t=I1(t),t!==null?og(t):null}function og(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=og(t);if(e!==null)return e;t=t.sibling}return null}var ag=_t.unstable_scheduleCallback,hf=_t.unstable_cancelCallback,C1=_t.unstable_shouldYield,A1=_t.unstable_requestPaint,Ce=_t.unstable_now,R1=_t.unstable_getCurrentPriorityLevel,Gc=_t.unstable_ImmediatePriority,lg=_t.unstable_UserBlockingPriority,ia=_t.unstable_NormalPriority,P1=_t.unstable_LowPriority,ug=_t.unstable_IdlePriority,ba=null,Gt=null;function k1(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ba,t,void 0,(t.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:V1,x1=Math.log,N1=Math.LN2;function V1(t){return t>>>=0,t===0?32:31-(x1(t)/N1|0)|0}var _o=64,vo=4194304;function rs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=rs(l):(s&=a,s!==0&&(r=rs(s)))}else a=n&~i,a!==0?r=rs(a):s!==0&&(r=rs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Lt(e),i=1<<n,r|=t[n],e&=~i;return r}function D1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Lt(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=D1(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Nu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cg(){var t=_o;return _o<<=1,!(_o&4194240)&&(_o=64),t}function Ol(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lt(e),t[e]=n}function M1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Lt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Kc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Lt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function hg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dg,Wc,fg,pg,mg,Vu=!1,Eo=[],kn=null,xn=null,Nn=null,Cs=new Map,As=new Map,Sn=[],O1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function df(t,e){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Cs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(e.pointerId)}}function Wi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ws(e),e!==null&&Wc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function b1(t,e,n,r,i){switch(e){case"focusin":return kn=Wi(kn,t,e,n,r,i),!0;case"dragenter":return xn=Wi(xn,t,e,n,r,i),!0;case"mouseover":return Nn=Wi(Nn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cs.set(s,Wi(Cs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,As.set(s,Wi(As.get(s)||null,t,e,n,r,i)),!0}return!1}function gg(t){var e=cr(t.target);if(e!==null){var n=Rr(e);if(n!==null){if(e=n.tag,e===13){if(e=ig(n),e!==null){t.blockedOn=e,mg(t.priority,function(){fg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Du(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ru=r,n.target.dispatchEvent(r),Ru=null}else return e=Ws(n),e!==null&&Wc(e),t.blockedOn=n,!1;e.shift()}return!0}function ff(t,e,n){Fo(t)&&n.delete(e)}function j1(){Vu=!1,kn!==null&&Fo(kn)&&(kn=null),xn!==null&&Fo(xn)&&(xn=null),Nn!==null&&Fo(Nn)&&(Nn=null),Cs.forEach(ff),As.forEach(ff)}function Qi(t,e){t.blockedOn===e&&(t.blockedOn=null,Vu||(Vu=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,j1)))}function Rs(t){function e(i){return Qi(i,t)}if(0<Eo.length){Qi(Eo[0],t);for(var n=1;n<Eo.length;n++){var r=Eo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kn!==null&&Qi(kn,t),xn!==null&&Qi(xn,t),Nn!==null&&Qi(Nn,t),Cs.forEach(e),As.forEach(e),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)gg(n),n.blockedOn===null&&Sn.shift()}var Jr=hn.ReactCurrentBatchConfig,oa=!0;function F1(t,e,n,r){var i=ae,s=Jr.transition;Jr.transition=null;try{ae=1,Qc(t,e,n,r)}finally{ae=i,Jr.transition=s}}function z1(t,e,n,r){var i=ae,s=Jr.transition;Jr.transition=null;try{ae=4,Qc(t,e,n,r)}finally{ae=i,Jr.transition=s}}function Qc(t,e,n,r){if(oa){var i=Du(t,e,n,r);if(i===null)Gl(t,e,r,aa,n),df(t,r);else if(b1(i,t,e,n,r))r.stopPropagation();else if(df(t,r),e&4&&-1<O1.indexOf(t)){for(;i!==null;){var s=Ws(i);if(s!==null&&dg(s),s=Du(t,e,n,r),s===null&&Gl(t,e,r,aa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gl(t,e,r,null,n)}}var aa=null;function Du(t,e,n,r){if(aa=null,t=Hc(r),t=cr(t),t!==null)if(e=Rr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ig(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return aa=t,null}function yg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R1()){case Gc:return 1;case lg:return 4;case ia:case P1:return 16;case ug:return 536870912;default:return 16}default:return 16}}var Cn=null,Yc=null,zo=null;function _g(){if(zo)return zo;var t,e=Yc,n=e.length,r,i="value"in Cn?Cn.value:Cn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return zo=i.slice(t,1<r?1-r:void 0)}function Bo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wo(){return!0}function pf(){return!1}function Et(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wo:pf,this.isPropagationStopped=pf,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),e}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xc=Et(Ti),Ks=Ee({},Ti,{view:0,detail:0}),B1=Et(Ks),bl,jl,Yi,ja=Ee({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yi&&(Yi&&t.type==="mousemove"?(bl=t.screenX-Yi.screenX,jl=t.screenY-Yi.screenY):jl=bl=0,Yi=t),bl)},movementY:function(t){return"movementY"in t?t.movementY:jl}}),mf=Et(ja),U1=Ee({},ja,{dataTransfer:0}),$1=Et(U1),q1=Ee({},Ks,{relatedTarget:0}),Fl=Et(q1),H1=Ee({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),G1=Et(H1),K1=Ee({},Ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W1=Et(K1),Q1=Ee({},Ti,{data:0}),gf=Et(Q1),Y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=J1[t])?!!e[t]:!1}function Jc(){return Z1}var e0=Ee({},Ks,{key:function(t){if(t.key){var e=Y1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(t){return t.type==="keypress"?Bo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),t0=Et(e0),n0=Ee({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=Et(n0),r0=Ee({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),i0=Et(r0),s0=Ee({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),o0=Et(s0),a0=Ee({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),l0=Et(a0),u0=[9,13,27,32],Zc=sn&&"CompositionEvent"in window,cs=null;sn&&"documentMode"in document&&(cs=document.documentMode);var c0=sn&&"TextEvent"in window&&!cs,vg=sn&&(!Zc||cs&&8<cs&&11>=cs),_f=" ",vf=!1;function Eg(t,e){switch(t){case"keyup":return u0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fr=!1;function h0(t,e){switch(t){case"compositionend":return wg(e);case"keypress":return e.which!==32?null:(vf=!0,_f);case"textInput":return t=e.data,t===_f&&vf?null:t;default:return null}}function d0(t,e){if(Fr)return t==="compositionend"||!Zc&&Eg(t,e)?(t=_g(),zo=Yc=Cn=null,Fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vg&&e.locale!=="ko"?null:e.data;default:return null}}var f0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!f0[t.type]:e==="textarea"}function Tg(t,e,n,r){Zm(r),e=la(e,"onChange"),0<e.length&&(n=new Xc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hs=null,Ps=null;function p0(t){Dg(t,0)}function Fa(t){var e=Ur(t);if(Gm(e))return t}function m0(t,e){if(t==="change")return e}var Sg=!1;if(sn){var zl;if(sn){var Bl="oninput"in document;if(!Bl){var wf=document.createElement("div");wf.setAttribute("oninput","return;"),Bl=typeof wf.oninput=="function"}zl=Bl}else zl=!1;Sg=zl&&(!document.documentMode||9<document.documentMode)}function Tf(){hs&&(hs.detachEvent("onpropertychange",Ig),Ps=hs=null)}function Ig(t){if(t.propertyName==="value"&&Fa(Ps)){var e=[];Tg(e,Ps,t,Hc(t)),rg(p0,e)}}function g0(t,e,n){t==="focusin"?(Tf(),hs=e,Ps=n,hs.attachEvent("onpropertychange",Ig)):t==="focusout"&&Tf()}function y0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fa(Ps)}function _0(t,e){if(t==="click")return Fa(e)}function v0(t,e){if(t==="input"||t==="change")return Fa(e)}function E0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ot=typeof Object.is=="function"?Object.is:E0;function ks(t,e){if(Ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mu.call(e,i)||!Ot(t[i],e[i]))return!1}return!0}function Sf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function If(t,e){var n=Sf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sf(n)}}function Cg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ag(){for(var t=window,e=ta();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ta(t.document)}return e}function eh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function w0(t){var e=Ag(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Cg(n.ownerDocument.documentElement,n)){if(r!==null&&eh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=If(n,s);var a=If(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var T0=sn&&"documentMode"in document&&11>=document.documentMode,zr=null,Lu=null,ds=null,Mu=!1;function Cf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mu||zr==null||zr!==ta(r)||(r=zr,"selectionStart"in r&&eh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ds&&ks(ds,r)||(ds=r,r=la(Lu,"onSelect"),0<r.length&&(e=new Xc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zr)))}function To(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Br={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionend:To("Transition","TransitionEnd")},Ul={},Rg={};sn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function za(t){if(Ul[t])return Ul[t];if(!Br[t])return t;var e=Br[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rg)return Ul[t]=e[n];return t}var Pg=za("animationend"),kg=za("animationiteration"),xg=za("animationstart"),Ng=za("transitionend"),Vg=new Map,Af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(t,e){Vg.set(t,e),Ar(e,[t])}for(var $l=0;$l<Af.length;$l++){var ql=Af[$l],S0=ql.toLowerCase(),I0=ql[0].toUpperCase()+ql.slice(1);Yn(S0,"on"+I0)}Yn(Pg,"onAnimationEnd");Yn(kg,"onAnimationIteration");Yn(xg,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(Ng,"onTransitionEnd");li("onMouseEnter",["mouseout","mouseover"]);li("onMouseLeave",["mouseout","mouseover"]);li("onPointerEnter",["pointerout","pointerover"]);li("onPointerLeave",["pointerout","pointerover"]);Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C0=new Set("cancel close invalid load scroll toggle".split(" ").concat(is));function Rf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,S1(r,e,void 0,t),t.currentTarget=null}function Dg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Rf(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Rf(i,l,h),s=c}}}if(ra)throw t=xu,ra=!1,xu=null,t}function de(t,e){var n=e[zu];n===void 0&&(n=e[zu]=new Set);var r=t+"__bubble";n.has(r)||(Lg(e,t,2,!1),n.add(r))}function Hl(t,e,n){var r=0;e&&(r|=4),Lg(n,t,r,e)}var So="_reactListening"+Math.random().toString(36).slice(2);function xs(t){if(!t[So]){t[So]=!0,Bm.forEach(function(n){n!=="selectionchange"&&(C0.has(n)||Hl(n,!1,t),Hl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[So]||(e[So]=!0,Hl("selectionchange",!1,e))}}function Lg(t,e,n,r){switch(yg(e)){case 1:var i=F1;break;case 4:i=z1;break;default:i=Qc}n=i.bind(null,e,n,t),i=void 0,!ku||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=cr(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}rg(function(){var h=s,f=Hc(n),y=[];e:{var _=Vg.get(t);if(_!==void 0){var P=Xc,R=t;switch(t){case"keypress":if(Bo(n)===0)break e;case"keydown":case"keyup":P=t0;break;case"focusin":R="focus",P=Fl;break;case"focusout":R="blur",P=Fl;break;case"beforeblur":case"afterblur":P=Fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=i0;break;case Pg:case kg:case xg:P=G1;break;case Ng:P=o0;break;case"scroll":P=B1;break;case"wheel":P=l0;break;case"copy":case"cut":case"paste":P=W1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=yf}var N=(e&4)!==0,M=!N&&t==="scroll",m=N?_!==null?_+"Capture":null:_;N=[];for(var w=h,A;w!==null;){A=w;var D=A.stateNode;if(A.tag===5&&D!==null&&(A=D,m!==null&&(D=Is(w,m),D!=null&&N.push(Ns(w,D,A)))),M)break;w=w.return}0<N.length&&(_=new P(_,R,null,n,f),y.push({event:_,listeners:N}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",_&&n!==Ru&&(R=n.relatedTarget||n.fromElement)&&(cr(R)||R[on]))break e;if((P||_)&&(_=f.window===f?f:(_=f.ownerDocument)?_.defaultView||_.parentWindow:window,P?(R=n.relatedTarget||n.toElement,P=h,R=R?cr(R):null,R!==null&&(M=Rr(R),R!==M||R.tag!==5&&R.tag!==6)&&(R=null)):(P=null,R=h),P!==R)){if(N=mf,D="onMouseLeave",m="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(N=yf,D="onPointerLeave",m="onPointerEnter",w="pointer"),M=P==null?_:Ur(P),A=R==null?_:Ur(R),_=new N(D,w+"leave",P,n,f),_.target=M,_.relatedTarget=A,D=null,cr(f)===h&&(N=new N(m,w+"enter",R,n,f),N.target=A,N.relatedTarget=M,D=N),M=D,P&&R)t:{for(N=P,m=R,w=0,A=N;A;A=Vr(A))w++;for(A=0,D=m;D;D=Vr(D))A++;for(;0<w-A;)N=Vr(N),w--;for(;0<A-w;)m=Vr(m),A--;for(;w--;){if(N===m||m!==null&&N===m.alternate)break t;N=Vr(N),m=Vr(m)}N=null}else N=null;P!==null&&Pf(y,_,P,N,!1),R!==null&&M!==null&&Pf(y,M,R,N,!0)}}e:{if(_=h?Ur(h):window,P=_.nodeName&&_.nodeName.toLowerCase(),P==="select"||P==="input"&&_.type==="file")var O=m0;else if(Ef(_))if(Sg)O=v0;else{O=y0;var j=g0}else(P=_.nodeName)&&P.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(O=_0);if(O&&(O=O(t,h))){Tg(y,O,n,f);break e}j&&j(t,_,h),t==="focusout"&&(j=_._wrapperState)&&j.controlled&&_.type==="number"&&Tu(_,"number",_.value)}switch(j=h?Ur(h):window,t){case"focusin":(Ef(j)||j.contentEditable==="true")&&(zr=j,Lu=h,ds=null);break;case"focusout":ds=Lu=zr=null;break;case"mousedown":Mu=!0;break;case"contextmenu":case"mouseup":case"dragend":Mu=!1,Cf(y,n,f);break;case"selectionchange":if(T0)break;case"keydown":case"keyup":Cf(y,n,f)}var E;if(Zc)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Fr?Eg(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(vg&&n.locale!=="ko"&&(Fr||g!=="onCompositionStart"?g==="onCompositionEnd"&&Fr&&(E=_g()):(Cn=f,Yc="value"in Cn?Cn.value:Cn.textContent,Fr=!0)),j=la(h,g),0<j.length&&(g=new gf(g,t,null,n,f),y.push({event:g,listeners:j}),E?g.data=E:(E=wg(n),E!==null&&(g.data=E)))),(E=c0?h0(t,n):d0(t,n))&&(h=la(h,"onBeforeInput"),0<h.length&&(f=new gf("onBeforeInput","beforeinput",null,n,f),y.push({event:f,listeners:h}),f.data=E))}Dg(y,e)})}function Ns(t,e,n){return{instance:t,listener:e,currentTarget:n}}function la(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Is(t,n),s!=null&&r.unshift(Ns(t,s,i)),s=Is(t,e),s!=null&&r.push(Ns(t,s,i))),t=t.return}return r}function Vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pf(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=Is(n,s),c!=null&&a.unshift(Ns(n,c,l))):i||(c=Is(n,s),c!=null&&a.push(Ns(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var A0=/\r\n?/g,R0=/\u0000|\uFFFD/g;function kf(t){return(typeof t=="string"?t:""+t).replace(A0,`
`).replace(R0,"")}function Io(t,e,n){if(e=kf(e),kf(t)!==e&&n)throw Error(b(425))}function ua(){}var Ou=null,bu=null;function ju(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fu=typeof setTimeout=="function"?setTimeout:void 0,P0=typeof clearTimeout=="function"?clearTimeout:void 0,xf=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof xf<"u"?function(t){return xf.resolve(null).then(t).catch(x0)}:Fu;function x0(t){setTimeout(function(){throw t})}function Kl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Rs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rs(e)}function Vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Si=Math.random().toString(36).slice(2),$t="__reactFiber$"+Si,Vs="__reactProps$"+Si,on="__reactContainer$"+Si,zu="__reactEvents$"+Si,N0="__reactListeners$"+Si,V0="__reactHandles$"+Si;function cr(t){var e=t[$t];if(e)return e;for(var n=t.parentNode;n;){if(e=n[on]||n[$t]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nf(t);t!==null;){if(n=t[$t])return n;t=Nf(t)}return e}t=n,n=t.parentNode}return null}function Ws(t){return t=t[$t]||t[on],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function Ba(t){return t[Vs]||null}var Bu=[],$r=-1;function Xn(t){return{current:t}}function fe(t){0>$r||(t.current=Bu[$r],Bu[$r]=null,$r--)}function ue(t,e){$r++,Bu[$r]=t.current,t.current=e}var $n={},et=Xn($n),ht=Xn(!1),vr=$n;function ui(t,e){var n=t.type.contextTypes;if(!n)return $n;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dt(t){return t=t.childContextTypes,t!=null}function ca(){fe(ht),fe(et)}function Vf(t,e,n){if(et.current!==$n)throw Error(b(168));ue(et,e),ue(ht,n)}function Mg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,g1(t)||"Unknown",i));return Ee({},n,r)}function ha(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$n,vr=et.current,ue(et,t),ue(ht,ht.current),!0}function Df(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=Mg(t,e,vr),r.__reactInternalMemoizedMergedChildContext=t,fe(ht),fe(et),ue(et,t)):fe(ht),ue(ht,n)}var en=null,Ua=!1,Wl=!1;function Og(t){en===null?en=[t]:en.push(t)}function D0(t){Ua=!0,Og(t)}function Jn(){if(!Wl&&en!==null){Wl=!0;var t=0,e=ae;try{var n=en;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}en=null,Ua=!1}catch(i){throw en!==null&&(en=en.slice(t+1)),ag(Gc,Jn),i}finally{ae=e,Wl=!1}}return null}var qr=[],Hr=0,da=null,fa=0,Tt=[],St=0,Er=null,tn=1,nn="";function ar(t,e){qr[Hr++]=fa,qr[Hr++]=da,da=t,fa=e}function bg(t,e,n){Tt[St++]=tn,Tt[St++]=nn,Tt[St++]=Er,Er=t;var r=tn;t=nn;var i=32-Lt(r)-1;r&=~(1<<i),n+=1;var s=32-Lt(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,tn=1<<32-Lt(e)+i|n<<i|r,nn=s+t}else tn=1<<s|n<<i|r,nn=t}function th(t){t.return!==null&&(ar(t,1),bg(t,1,0))}function nh(t){for(;t===da;)da=qr[--Hr],qr[Hr]=null,fa=qr[--Hr],qr[Hr]=null;for(;t===Er;)Er=Tt[--St],Tt[St]=null,nn=Tt[--St],Tt[St]=null,tn=Tt[--St],Tt[St]=null}var yt=null,gt=null,me=!1,Dt=null;function jg(t,e){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,gt=Vn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Er!==null?{id:tn,overflow:nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yt=t,gt=null,!0):!1;default:return!1}}function Uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $u(t){if(me){var e=gt;if(e){var n=e;if(!Lf(t,e)){if(Uu(t))throw Error(b(418));e=Vn(n.nextSibling);var r=yt;e&&Lf(t,e)?jg(r,n):(t.flags=t.flags&-4097|2,me=!1,yt=t)}}else{if(Uu(t))throw Error(b(418));t.flags=t.flags&-4097|2,me=!1,yt=t}}}function Mf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function Co(t){if(t!==yt)return!1;if(!me)return Mf(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ju(t.type,t.memoizedProps)),e&&(e=gt)){if(Uu(t))throw Fg(),Error(b(418));for(;e;)jg(t,e),e=Vn(e.nextSibling)}if(Mf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gt=Vn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gt=null}}else gt=yt?Vn(t.stateNode.nextSibling):null;return!0}function Fg(){for(var t=gt;t;)t=Vn(t.nextSibling)}function ci(){gt=yt=null,me=!1}function rh(t){Dt===null?Dt=[t]:Dt.push(t)}var L0=hn.ReactCurrentBatchConfig;function Xi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function Ao(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Of(t){var e=t._init;return e(t._payload)}function zg(t){function e(m,w){if(t){var A=m.deletions;A===null?(m.deletions=[w],m.flags|=16):A.push(w)}}function n(m,w){if(!t)return null;for(;w!==null;)e(m,w),w=w.sibling;return null}function r(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function i(m,w){return m=On(m,w),m.index=0,m.sibling=null,m}function s(m,w,A){return m.index=A,t?(A=m.alternate,A!==null?(A=A.index,A<w?(m.flags|=2,w):A):(m.flags|=2,w)):(m.flags|=1048576,w)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,w,A,D){return w===null||w.tag!==6?(w=tu(A,m.mode,D),w.return=m,w):(w=i(w,A),w.return=m,w)}function c(m,w,A,D){var O=A.type;return O===jr?f(m,w,A.props.children,D,A.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===wn&&Of(O)===w.type)?(D=i(w,A.props),D.ref=Xi(m,w,A),D.return=m,D):(D=Wo(A.type,A.key,A.props,null,m.mode,D),D.ref=Xi(m,w,A),D.return=m,D)}function h(m,w,A,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=nu(A,m.mode,D),w.return=m,w):(w=i(w,A.children||[]),w.return=m,w)}function f(m,w,A,D,O){return w===null||w.tag!==7?(w=mr(A,m.mode,D,O),w.return=m,w):(w=i(w,A),w.return=m,w)}function y(m,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=tu(""+w,m.mode,A),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mo:return A=Wo(w.type,w.key,w.props,null,m.mode,A),A.ref=Xi(m,null,w),A.return=m,A;case br:return w=nu(w,m.mode,A),w.return=m,w;case wn:var D=w._init;return y(m,D(w._payload),A)}if(ns(w)||Gi(w))return w=mr(w,m.mode,A,null),w.return=m,w;Ao(m,w)}return null}function _(m,w,A,D){var O=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return O!==null?null:l(m,w,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case mo:return A.key===O?c(m,w,A,D):null;case br:return A.key===O?h(m,w,A,D):null;case wn:return O=A._init,_(m,w,O(A._payload),D)}if(ns(A)||Gi(A))return O!==null?null:f(m,w,A,D,null);Ao(m,A)}return null}function P(m,w,A,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return m=m.get(A)||null,l(w,m,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case mo:return m=m.get(D.key===null?A:D.key)||null,c(w,m,D,O);case br:return m=m.get(D.key===null?A:D.key)||null,h(w,m,D,O);case wn:var j=D._init;return P(m,w,A,j(D._payload),O)}if(ns(D)||Gi(D))return m=m.get(A)||null,f(w,m,D,O,null);Ao(w,D)}return null}function R(m,w,A,D){for(var O=null,j=null,E=w,g=w=0,v=null;E!==null&&g<A.length;g++){E.index>g?(v=E,E=null):v=E.sibling;var I=_(m,E,A[g],D);if(I===null){E===null&&(E=v);break}t&&E&&I.alternate===null&&e(m,E),w=s(I,w,g),j===null?O=I:j.sibling=I,j=I,E=v}if(g===A.length)return n(m,E),me&&ar(m,g),O;if(E===null){for(;g<A.length;g++)E=y(m,A[g],D),E!==null&&(w=s(E,w,g),j===null?O=E:j.sibling=E,j=E);return me&&ar(m,g),O}for(E=r(m,E);g<A.length;g++)v=P(E,m,g,A[g],D),v!==null&&(t&&v.alternate!==null&&E.delete(v.key===null?g:v.key),w=s(v,w,g),j===null?O=v:j.sibling=v,j=v);return t&&E.forEach(function(C){return e(m,C)}),me&&ar(m,g),O}function N(m,w,A,D){var O=Gi(A);if(typeof O!="function")throw Error(b(150));if(A=O.call(A),A==null)throw Error(b(151));for(var j=O=null,E=w,g=w=0,v=null,I=A.next();E!==null&&!I.done;g++,I=A.next()){E.index>g?(v=E,E=null):v=E.sibling;var C=_(m,E,I.value,D);if(C===null){E===null&&(E=v);break}t&&E&&C.alternate===null&&e(m,E),w=s(C,w,g),j===null?O=C:j.sibling=C,j=C,E=v}if(I.done)return n(m,E),me&&ar(m,g),O;if(E===null){for(;!I.done;g++,I=A.next())I=y(m,I.value,D),I!==null&&(w=s(I,w,g),j===null?O=I:j.sibling=I,j=I);return me&&ar(m,g),O}for(E=r(m,E);!I.done;g++,I=A.next())I=P(E,m,g,I.value,D),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?g:I.key),w=s(I,w,g),j===null?O=I:j.sibling=I,j=I);return t&&E.forEach(function(k){return e(m,k)}),me&&ar(m,g),O}function M(m,w,A,D){if(typeof A=="object"&&A!==null&&A.type===jr&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case mo:e:{for(var O=A.key,j=w;j!==null;){if(j.key===O){if(O=A.type,O===jr){if(j.tag===7){n(m,j.sibling),w=i(j,A.props.children),w.return=m,m=w;break e}}else if(j.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===wn&&Of(O)===j.type){n(m,j.sibling),w=i(j,A.props),w.ref=Xi(m,j,A),w.return=m,m=w;break e}n(m,j);break}else e(m,j);j=j.sibling}A.type===jr?(w=mr(A.props.children,m.mode,D,A.key),w.return=m,m=w):(D=Wo(A.type,A.key,A.props,null,m.mode,D),D.ref=Xi(m,w,A),D.return=m,m=D)}return a(m);case br:e:{for(j=A.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){n(m,w.sibling),w=i(w,A.children||[]),w.return=m,m=w;break e}else{n(m,w);break}else e(m,w);w=w.sibling}w=nu(A,m.mode,D),w.return=m,m=w}return a(m);case wn:return j=A._init,M(m,w,j(A._payload),D)}if(ns(A))return R(m,w,A,D);if(Gi(A))return N(m,w,A,D);Ao(m,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(n(m,w.sibling),w=i(w,A),w.return=m,m=w):(n(m,w),w=tu(A,m.mode,D),w.return=m,m=w),a(m)):n(m,w)}return M}var hi=zg(!0),Bg=zg(!1),pa=Xn(null),ma=null,Gr=null,ih=null;function sh(){ih=Gr=ma=null}function oh(t){var e=pa.current;fe(pa),t._currentValue=e}function qu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zr(t,e){ma=t,ih=Gr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ct=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(ih!==t)if(t={context:t,memoizedValue:e,next:null},Gr===null){if(ma===null)throw Error(b(308));Gr=t,ma.dependencies={lanes:0,firstContext:t}}else Gr=Gr.next=t;return e}var hr=null;function ah(t){hr===null?hr=[t]:hr.push(t)}function Ug(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ah(e)):(n.next=i.next,i.next=n),e.interleaved=n,an(t,r)}function an(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tn=!1;function lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $g(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,an(t,n)}return i=r.interleaved,i===null?(e.next=e,ah(r)):(e.next=i.next,i.next=e),r.interleaved=e,an(t,n)}function Uo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kc(t,n)}}function bf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ga(t,e,n,r){var i=t.updateQueue;Tn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=c))}if(s!==null){var y=i.baseState;a=0,f=h=c=null,l=s;do{var _=l.lane,P=l.eventTime;if((r&_)===_){f!==null&&(f=f.next={eventTime:P,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var R=t,N=l;switch(_=e,P=n,N.tag){case 1:if(R=N.payload,typeof R=="function"){y=R.call(P,y,_);break e}y=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=N.payload,_=typeof R=="function"?R.call(P,y,_):R,_==null)break e;y=Ee({},y,_);break e;case 2:Tn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[l]:_.push(l))}else P={eventTime:P,lane:_,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=P,c=y):f=f.next=P,a|=_;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;_=l,l=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(f===null&&(c=y),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Tr|=a,t.lanes=a,t.memoizedState=y}}function jf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var Qs={},Kt=Xn(Qs),Ds=Xn(Qs),Ls=Xn(Qs);function dr(t){if(t===Qs)throw Error(b(174));return t}function uh(t,e){switch(ue(Ls,e),ue(Ds,t),ue(Kt,Qs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Iu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Iu(e,t)}fe(Kt),ue(Kt,e)}function di(){fe(Kt),fe(Ds),fe(Ls)}function qg(t){dr(Ls.current);var e=dr(Kt.current),n=Iu(e,t.type);e!==n&&(ue(Ds,t),ue(Kt,n))}function ch(t){Ds.current===t&&(fe(Kt),fe(Ds))}var ge=Xn(0);function ya(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ql=[];function hh(){for(var t=0;t<Ql.length;t++)Ql[t]._workInProgressVersionPrimary=null;Ql.length=0}var $o=hn.ReactCurrentDispatcher,Yl=hn.ReactCurrentBatchConfig,wr=0,_e=null,De=null,Fe=null,_a=!1,fs=!1,Ms=0,M0=0;function We(){throw Error(b(321))}function dh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ot(t[n],e[n]))return!1;return!0}function fh(t,e,n,r,i,s){if(wr=s,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$o.current=t===null||t.memoizedState===null?F0:z0,t=n(r,i),fs){s=0;do{if(fs=!1,Ms=0,25<=s)throw Error(b(301));s+=1,Fe=De=null,e.updateQueue=null,$o.current=B0,t=n(r,i)}while(fs)}if($o.current=va,e=De!==null&&De.next!==null,wr=0,Fe=De=_e=null,_a=!1,e)throw Error(b(300));return t}function ph(){var t=Ms!==0;return Ms=0,t}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?_e.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Pt(){if(De===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=Fe===null?_e.memoizedState:Fe.next;if(e!==null)Fe=e,De=t;else{if(t===null)throw Error(b(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Fe===null?_e.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function Os(t,e){return typeof e=="function"?e(t):e}function Xl(t){var e=Pt(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=De,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var f=h.lane;if((wr&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var y={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=y,a=r):c=c.next=y,_e.lanes|=f,Tr|=f}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,Ot(r,e.memoizedState)||(ct=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,_e.lanes|=s,Tr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jl(t){var e=Pt(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ot(s,e.memoizedState)||(ct=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Hg(){}function Gg(t,e){var n=_e,r=Pt(),i=e(),s=!Ot(r.memoizedState,i);if(s&&(r.memoizedState=i,ct=!0),r=r.queue,mh(Qg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,bs(9,Wg.bind(null,n,r,i,e),void 0,null),ze===null)throw Error(b(349));wr&30||Kg(n,e,i)}return i}function Kg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wg(t,e,n,r){e.value=n,e.getSnapshot=r,Yg(e)&&Xg(t)}function Qg(t,e,n){return n(function(){Yg(e)&&Xg(t)})}function Yg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ot(t,n)}catch{return!0}}function Xg(t){var e=an(t,1);e!==null&&Mt(e,t,1,-1)}function Ff(t){var e=Bt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:t},e.queue=t,t=t.dispatch=j0.bind(null,_e,t),[e.memoizedState,t]}function bs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Jg(){return Pt().memoizedState}function qo(t,e,n,r){var i=Bt();_e.flags|=t,i.memoizedState=bs(1|e,n,void 0,r===void 0?null:r)}function $a(t,e,n,r){var i=Pt();r=r===void 0?null:r;var s=void 0;if(De!==null){var a=De.memoizedState;if(s=a.destroy,r!==null&&dh(r,a.deps)){i.memoizedState=bs(e,n,s,r);return}}_e.flags|=t,i.memoizedState=bs(1|e,n,s,r)}function zf(t,e){return qo(8390656,8,t,e)}function mh(t,e){return $a(2048,8,t,e)}function Zg(t,e){return $a(4,2,t,e)}function ey(t,e){return $a(4,4,t,e)}function ty(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ny(t,e,n){return n=n!=null?n.concat([t]):null,$a(4,4,ty.bind(null,e,t),n)}function gh(){}function ry(t,e){var n=Pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iy(t,e){var n=Pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sy(t,e,n){return wr&21?(Ot(n,e)||(n=cg(),_e.lanes|=n,Tr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ct=!0),t.memoizedState=n)}function O0(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=Yl.transition;Yl.transition={};try{t(!1),e()}finally{ae=n,Yl.transition=r}}function oy(){return Pt().memoizedState}function b0(t,e,n){var r=Mn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ay(t))ly(e,n);else if(n=Ug(t,e,n,r),n!==null){var i=st();Mt(n,t,r,i),uy(n,e,r)}}function j0(t,e,n){var r=Mn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ay(t))ly(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Ot(l,a)){var c=e.interleaved;c===null?(i.next=i,ah(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Ug(t,e,i,r),n!==null&&(i=st(),Mt(n,t,r,i),uy(n,e,r))}}function ay(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function ly(t,e){fs=_a=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kc(t,n)}}var va={readContext:Rt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},F0={readContext:Rt,useCallback:function(t,e){return Bt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:zf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qo(4194308,4,ty.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qo(4194308,4,t,e)},useInsertionEffect:function(t,e){return qo(4,2,t,e)},useMemo:function(t,e){var n=Bt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b0.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=Bt();return t={current:t},e.memoizedState=t},useState:Ff,useDebugValue:gh,useDeferredValue:function(t){return Bt().memoizedState=t},useTransition:function(){var t=Ff(!1),e=t[0];return t=O0.bind(null,t[1]),Bt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_e,i=Bt();if(me){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),ze===null)throw Error(b(349));wr&30||Kg(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,zf(Qg.bind(null,r,s,t),[t]),r.flags|=2048,bs(9,Wg.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Bt(),e=ze.identifierPrefix;if(me){var n=nn,r=tn;n=(r&~(1<<32-Lt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ms++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},z0={readContext:Rt,useCallback:ry,useContext:Rt,useEffect:mh,useImperativeHandle:ny,useInsertionEffect:Zg,useLayoutEffect:ey,useMemo:iy,useReducer:Xl,useRef:Jg,useState:function(){return Xl(Os)},useDebugValue:gh,useDeferredValue:function(t){var e=Pt();return sy(e,De.memoizedState,t)},useTransition:function(){var t=Xl(Os)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:Hg,useSyncExternalStore:Gg,useId:oy,unstable_isNewReconciler:!1},B0={readContext:Rt,useCallback:ry,useContext:Rt,useEffect:mh,useImperativeHandle:ny,useInsertionEffect:Zg,useLayoutEffect:ey,useMemo:iy,useReducer:Jl,useRef:Jg,useState:function(){return Jl(Os)},useDebugValue:gh,useDeferredValue:function(t){var e=Pt();return De===null?e.memoizedState=t:sy(e,De.memoizedState,t)},useTransition:function(){var t=Jl(Os)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:Hg,useSyncExternalStore:Gg,useId:oy,unstable_isNewReconciler:!1};function Nt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qa={isMounted:function(t){return(t=t._reactInternals)?Rr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=st(),i=Mn(t),s=rn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Dn(t,s,i),e!==null&&(Mt(e,t,i,r),Uo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=st(),i=Mn(t),s=rn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Dn(t,s,i),e!==null&&(Mt(e,t,i,r),Uo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=st(),r=Mn(t),i=rn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Dn(t,i,r),e!==null&&(Mt(e,t,r,n),Uo(e,t,r))}};function Bf(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ks(n,r)||!ks(i,s):!0}function cy(t,e,n){var r=!1,i=$n,s=e.contextType;return typeof s=="object"&&s!==null?s=Rt(s):(i=dt(e)?vr:et.current,r=e.contextTypes,s=(r=r!=null)?ui(t,i):$n),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Uf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qa.enqueueReplaceState(e,e.state,null)}function Gu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},lh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rt(s):(s=dt(e)?vr:et.current,i.context=ui(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qa.enqueueReplaceState(i,i.state,null),ga(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fi(t,e){try{var n="",r=e;do n+=m1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ku(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var U0=typeof WeakMap=="function"?WeakMap:Map;function hy(t,e,n){n=rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wa||(wa=!0,rc=r),Ku(t,e)},n}function dy(t,e,n){n=rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ku(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ku(t,e),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function $f(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new U0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nE.bind(null,t,e,n),e.then(t,t))}function qf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rn(-1,1),e.tag=2,Dn(n,e,1))),n.lanes|=1),t)}var $0=hn.ReactCurrentOwner,ct=!1;function rt(t,e,n,r){e.child=t===null?Bg(e,null,n,r):hi(e,t.child,n,r)}function Gf(t,e,n,r,i){n=n.render;var s=e.ref;return Zr(e,i),r=fh(t,e,n,r,s,i),n=ph(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ln(t,e,i)):(me&&n&&th(e),e.flags|=1,rt(t,e,r,i),e.child)}function Kf(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ih(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,fy(t,e,s,r,i)):(t=Wo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ks,n(a,r)&&t.ref===e.ref)return ln(t,e,i)}return e.flags|=1,t=On(s,r),t.ref=e.ref,t.return=e,e.child=t}function fy(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ks(s,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ct=!0);else return e.lanes=t.lanes,ln(t,e,i)}return Wu(t,e,n,r,i)}function py(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Wr,mt),mt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(Wr,mt),mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ue(Wr,mt),mt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ue(Wr,mt),mt|=r;return rt(t,e,i,n),e.child}function my(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wu(t,e,n,r,i){var s=dt(n)?vr:et.current;return s=ui(e,s),Zr(e,i),n=fh(t,e,n,r,s,i),r=ph(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ln(t,e,i)):(me&&r&&th(e),e.flags|=1,rt(t,e,n,i),e.child)}function Wf(t,e,n,r,i){if(dt(n)){var s=!0;ha(e)}else s=!1;if(Zr(e,i),e.stateNode===null)Ho(t,e),cy(e,n,r),Gu(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Rt(h):(h=dt(n)?vr:et.current,h=ui(e,h));var f=n.getDerivedStateFromProps,y=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";y||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&Uf(e,a,r,h),Tn=!1;var _=e.memoizedState;a.state=_,ga(e,r,a,i),c=e.memoizedState,l!==r||_!==c||ht.current||Tn?(typeof f=="function"&&(Hu(e,n,f,r),c=e.memoizedState),(l=Tn||Bf(e,n,l,r,_,c,h))?(y||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,$g(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Nt(e.type,l),a.props=h,y=e.pendingProps,_=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Rt(c):(c=dt(n)?vr:et.current,c=ui(e,c));var P=n.getDerivedStateFromProps;(f=typeof P=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==y||_!==c)&&Uf(e,a,r,c),Tn=!1,_=e.memoizedState,a.state=_,ga(e,r,a,i);var R=e.memoizedState;l!==y||_!==R||ht.current||Tn?(typeof P=="function"&&(Hu(e,n,P,r),R=e.memoizedState),(h=Tn||Bf(e,n,h,r,_,R,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,R,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,R,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),a.props=r,a.state=R,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return Qu(t,e,n,r,s,i)}function Qu(t,e,n,r,i,s){my(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Df(e,n,!1),ln(t,e,s);r=e.stateNode,$0.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=hi(e,t.child,null,s),e.child=hi(e,null,l,s)):rt(t,e,l,s),e.memoizedState=r.state,i&&Df(e,n,!0),e.child}function gy(t){var e=t.stateNode;e.pendingContext?Vf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vf(t,e.context,!1),uh(t,e.containerInfo)}function Qf(t,e,n,r,i){return ci(),rh(i),e.flags|=256,rt(t,e,n,r),e.child}var Yu={dehydrated:null,treeContext:null,retryLane:0};function Xu(t){return{baseLanes:t,cachePool:null,transitions:null}}function yy(t,e,n){var r=e.pendingProps,i=ge.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ue(ge,i&1),t===null)return $u(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ka(a,r,0,null),t=mr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xu(n),e.memoizedState=Yu,t):yh(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return q0(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=On(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=On(l,s):(s=mr(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Xu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Yu,r}return s=t.child,t=s.sibling,r=On(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yh(t,e){return e=Ka({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ro(t,e,n,r){return r!==null&&rh(r),hi(e,t.child,null,n),t=yh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q0(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Zl(Error(b(422))),Ro(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ka({mode:"visible",children:r.children},i,0,null),s=mr(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&hi(e,t.child,null,a),e.child.memoizedState=Xu(a),e.memoizedState=Yu,s);if(!(e.mode&1))return Ro(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(b(419)),r=Zl(s,r,void 0),Ro(t,e,a,r)}if(l=(a&t.childLanes)!==0,ct||l){if(r=ze,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,an(t,i),Mt(r,t,i,-1))}return Sh(),r=Zl(Error(b(421))),Ro(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rE.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gt=Vn(i.nextSibling),yt=e,me=!0,Dt=null,t!==null&&(Tt[St++]=tn,Tt[St++]=nn,Tt[St++]=Er,tn=t.id,nn=t.overflow,Er=e),e=yh(e,r.children),e.flags|=4096,e)}function Yf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qu(t.return,e,n)}function eu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _y(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rt(t,e,r.children,n),r=ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yf(t,n,e);else if(t.tag===19)Yf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ue(ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ya(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),eu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ya(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}eu(e,!0,n,null,s);break;case"together":eu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ho(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ln(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=On(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=On(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function H0(t,e,n){switch(e.tag){case 3:gy(e),ci();break;case 5:qg(e);break;case 1:dt(e.type)&&ha(e);break;case 4:uh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ue(pa,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ue(ge,ge.current&1),e.flags|=128,null):n&e.child.childLanes?yy(t,e,n):(ue(ge,ge.current&1),t=ln(t,e,n),t!==null?t.sibling:null);ue(ge,ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _y(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(ge,ge.current),r)break;return null;case 22:case 23:return e.lanes=0,py(t,e,n)}return ln(t,e,n)}var vy,Ju,Ey,wy;vy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ju=function(){};Ey=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,dr(Kt.current);var s=null;switch(n){case"input":i=Eu(t,i),r=Eu(t,r),s=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),s=[];break;case"textarea":i=Su(t,i),r=Su(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ua)}Cu(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ts.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ts.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&de("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};wy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ji(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function G0(t,e,n){var r=e.pendingProps;switch(nh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return dt(e.type)&&ca(),Qe(e),null;case 3:return r=e.stateNode,di(),fe(ht),fe(et),hh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Co(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dt!==null&&(oc(Dt),Dt=null))),Ju(t,e),Qe(e),null;case 5:ch(e);var i=dr(Ls.current);if(n=e.type,t!==null&&e.stateNode!=null)Ey(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return Qe(e),null}if(t=dr(Kt.current),Co(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[$t]=e,r[Vs]=s,t=(e.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<is.length;i++)de(is[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":sf(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":af(r,s),de("invalid",r)}Cu(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Io(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Io(r.textContent,l,t),i=["children",""+l]):Ts.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&de("scroll",r)}switch(n){case"input":go(r),of(r,s,!0);break;case"textarea":go(r),lf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ua)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[$t]=e,t[Vs]=r,vy(t,e,!1,!1),e.stateNode=t;e:{switch(a=Au(n,r),n){case"dialog":de("cancel",t),de("close",t),i=r;break;case"iframe":case"object":case"embed":de("load",t),i=r;break;case"video":case"audio":for(i=0;i<is.length;i++)de(is[i],t);i=r;break;case"source":de("error",t),i=r;break;case"img":case"image":case"link":de("error",t),de("load",t),i=r;break;case"details":de("toggle",t),i=r;break;case"input":sf(t,r),i=Eu(t,r),de("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),de("invalid",t);break;case"textarea":af(t,r),i=Su(t,r),de("invalid",t);break;default:i=r}Cu(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Jm(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ym(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ss(t,c):typeof c=="number"&&Ss(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ts.hasOwnProperty(s)?c!=null&&s==="onScroll"&&de("scroll",t):c!=null&&Bc(t,s,c,a))}switch(n){case"input":go(t),of(t,r,!1);break;case"textarea":go(t),lf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Un(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ua)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)wy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=dr(Ls.current),dr(Kt.current),Co(e)){if(r=e.stateNode,n=e.memoizedProps,r[$t]=e,(s=r.nodeValue!==n)&&(t=yt,t!==null))switch(t.tag){case 3:Io(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Io(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$t]=e,e.stateNode=r}return Qe(e),null;case 13:if(fe(ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&gt!==null&&e.mode&1&&!(e.flags&128))Fg(),ci(),e.flags|=98560,s=!1;else if(s=Co(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(b(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[$t]=e}else ci(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),s=!1}else Dt!==null&&(oc(Dt),Dt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ge.current&1?Me===0&&(Me=3):Sh())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return di(),Ju(t,e),t===null&&xs(e.stateNode.containerInfo),Qe(e),null;case 10:return oh(e.type._context),Qe(e),null;case 17:return dt(e.type)&&ca(),Qe(e),null;case 19:if(fe(ge),s=e.memoizedState,s===null)return Qe(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Ji(s,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ya(t),a!==null){for(e.flags|=128,Ji(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ue(ge,ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ce()>pi&&(e.flags|=128,r=!0,Ji(s,!1),e.lanes=4194304)}else{if(!r)if(t=ya(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ji(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!me)return Qe(e),null}else 2*Ce()-s.renderingStartTime>pi&&n!==1073741824&&(e.flags|=128,r=!0,Ji(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ce(),e.sibling=null,n=ge.current,ue(ge,r?n&1|2:n&1),e):(Qe(e),null);case 22:case 23:return Th(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mt&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function K0(t,e){switch(nh(e),e.tag){case 1:return dt(e.type)&&ca(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return di(),fe(ht),fe(et),hh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ch(e),null;case 13:if(fe(ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));ci()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fe(ge),null;case 4:return di(),null;case 10:return oh(e.type._context),null;case 22:case 23:return Th(),null;case 24:return null;default:return null}}var Po=!1,Je=!1,W0=typeof WeakSet=="function"?WeakSet:Set,$=null;function Kr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function Zu(t,e,n){try{n()}catch(r){Te(t,e,r)}}var Xf=!1;function Q0(t,e){if(Ou=oa,t=Ag(),eh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,f=0,y=t,_=null;t:for(;;){for(var P;y!==n||i!==0&&y.nodeType!==3||(l=a+i),y!==s||r!==0&&y.nodeType!==3||(c=a+r),y.nodeType===3&&(a+=y.nodeValue.length),(P=y.firstChild)!==null;)_=y,y=P;for(;;){if(y===t)break t;if(_===n&&++h===i&&(l=a),_===s&&++f===r&&(c=a),(P=y.nextSibling)!==null)break;y=_,_=y.parentNode}y=P}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bu={focusedElem:t,selectionRange:n},oa=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var N=R.memoizedProps,M=R.memoizedState,m=e.stateNode,w=m.getSnapshotBeforeUpdate(e.elementType===e.type?N:Nt(e.type,N),M);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(D){Te(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return R=Xf,Xf=!1,R}function ps(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zu(e,n,s)}i=i.next}while(i!==r)}}function Ha(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ec(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ty(t){var e=t.alternate;e!==null&&(t.alternate=null,Ty(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$t],delete e[Vs],delete e[zu],delete e[N0],delete e[V0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sy(t){return t.tag===5||t.tag===3||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ua));else if(r!==4&&(t=t.child,t!==null))for(tc(t,e,n),t=t.sibling;t!==null;)tc(t,e,n),t=t.sibling}function nc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nc(t,e,n),t=t.sibling;t!==null;)nc(t,e,n),t=t.sibling}var Ue=null,Vt=!1;function vn(t,e,n){for(n=n.child;n!==null;)Iy(t,e,n),n=n.sibling}function Iy(t,e,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ba,n)}catch{}switch(n.tag){case 5:Je||Kr(n,e);case 6:var r=Ue,i=Vt;Ue=null,vn(t,e,n),Ue=r,Vt=i,Ue!==null&&(Vt?(t=Ue,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(Vt?(t=Ue,n=n.stateNode,t.nodeType===8?Kl(t.parentNode,n):t.nodeType===1&&Kl(t,n),Rs(t)):Kl(Ue,n.stateNode));break;case 4:r=Ue,i=Vt,Ue=n.stateNode.containerInfo,Vt=!0,vn(t,e,n),Ue=r,Vt=i;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Zu(n,e,a),i=i.next}while(i!==r)}vn(t,e,n);break;case 1:if(!Je&&(Kr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,e,l)}vn(t,e,n);break;case 21:vn(t,e,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,vn(t,e,n),Je=r):vn(t,e,n);break;default:vn(t,e,n)}}function Zf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new W0),e.forEach(function(r){var i=iE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ue=l.stateNode,Vt=!1;break e;case 3:Ue=l.stateNode.containerInfo,Vt=!0;break e;case 4:Ue=l.stateNode.containerInfo,Vt=!0;break e}l=l.return}if(Ue===null)throw Error(b(160));Iy(s,a,i),Ue=null,Vt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){Te(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cy(e,t),e=e.sibling}function Cy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(e,t),Ft(t),r&4){try{ps(3,t,t.return),Ha(3,t)}catch(N){Te(t,t.return,N)}try{ps(5,t,t.return)}catch(N){Te(t,t.return,N)}}break;case 1:xt(e,t),Ft(t),r&512&&n!==null&&Kr(n,n.return);break;case 5:if(xt(e,t),Ft(t),r&512&&n!==null&&Kr(n,n.return),t.flags&32){var i=t.stateNode;try{Ss(i,"")}catch(N){Te(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Km(i,s),Au(l,a);var h=Au(l,s);for(a=0;a<c.length;a+=2){var f=c[a],y=c[a+1];f==="style"?Jm(i,y):f==="dangerouslySetInnerHTML"?Ym(i,y):f==="children"?Ss(i,y):Bc(i,f,y,h)}switch(l){case"input":wu(i,s);break;case"textarea":Wm(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var P=s.value;P!=null?Qr(i,!!s.multiple,P,!1):_!==!!s.multiple&&(s.defaultValue!=null?Qr(i,!!s.multiple,s.defaultValue,!0):Qr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vs]=s}catch(N){Te(t,t.return,N)}}break;case 6:if(xt(e,t),Ft(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){Te(t,t.return,N)}}break;case 3:if(xt(e,t),Ft(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rs(e.containerInfo)}catch(N){Te(t,t.return,N)}break;case 4:xt(e,t),Ft(t);break;case 13:xt(e,t),Ft(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Eh=Ce())),r&4&&Zf(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Je=(h=Je)||f,xt(e,t),Je=h):xt(e,t),Ft(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for($=t,f=t.child;f!==null;){for(y=$=f;$!==null;){switch(_=$,P=_.child,_.tag){case 0:case 11:case 14:case 15:ps(4,_,_.return);break;case 1:Kr(_,_.return);var R=_.stateNode;if(typeof R.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(N){Te(r,n,N)}}break;case 5:Kr(_,_.return);break;case 22:if(_.memoizedState!==null){tp(y);continue}}P!==null?(P.return=_,$=P):tp(y)}f=f.sibling}e:for(f=null,y=t;;){if(y.tag===5){if(f===null){f=y;try{i=y.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=y.stateNode,c=y.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Xm("display",a))}catch(N){Te(t,t.return,N)}}}else if(y.tag===6){if(f===null)try{y.stateNode.nodeValue=h?"":y.memoizedProps}catch(N){Te(t,t.return,N)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;f===y&&(f=null),y=y.return}f===y&&(f=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:xt(e,t),Ft(t),r&4&&Zf(t);break;case 21:break;default:xt(e,t),Ft(t)}}function Ft(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Sy(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ss(i,""),r.flags&=-33);var s=Jf(t);nc(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Jf(t);tc(t,l,a);break;default:throw Error(b(161))}}catch(c){Te(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y0(t,e,n){$=t,Ay(t)}function Ay(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Po;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Je;l=Po;var h=Je;if(Po=a,(Je=c)&&!h)for($=i;$!==null;)a=$,c=a.child,a.tag===22&&a.memoizedState!==null?np(i):c!==null?(c.return=a,$=c):np(i);for(;s!==null;)$=s,Ay(s),s=s.sibling;$=i,Po=l,Je=h}ep(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):ep(t)}}function ep(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||Ha(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Je)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&jf(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jf(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var y=f.dehydrated;y!==null&&Rs(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Je||e.flags&512&&ec(e)}catch(_){Te(e,e.return,_)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function tp(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function np(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ha(4,e)}catch(c){Te(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Te(e,i,c)}}var s=e.return;try{ec(e)}catch(c){Te(e,s,c)}break;case 5:var a=e.return;try{ec(e)}catch(c){Te(e,a,c)}}}catch(c){Te(e,e.return,c)}if(e===t){$=null;break}var l=e.sibling;if(l!==null){l.return=e.return,$=l;break}$=e.return}}var X0=Math.ceil,Ea=hn.ReactCurrentDispatcher,_h=hn.ReactCurrentOwner,At=hn.ReactCurrentBatchConfig,oe=0,ze=null,xe=null,qe=0,mt=0,Wr=Xn(0),Me=0,js=null,Tr=0,Ga=0,vh=0,ms=null,ut=null,Eh=0,pi=1/0,Jt=null,wa=!1,rc=null,Ln=null,ko=!1,An=null,Ta=0,gs=0,ic=null,Go=-1,Ko=0;function st(){return oe&6?Ce():Go!==-1?Go:Go=Ce()}function Mn(t){return t.mode&1?oe&2&&qe!==0?qe&-qe:L0.transition!==null?(Ko===0&&(Ko=cg()),Ko):(t=ae,t!==0||(t=window.event,t=t===void 0?16:yg(t.type)),t):1}function Mt(t,e,n,r){if(50<gs)throw gs=0,ic=null,Error(b(185));Gs(t,n,r),(!(oe&2)||t!==ze)&&(t===ze&&(!(oe&2)&&(Ga|=n),Me===4&&In(t,qe)),ft(t,r),n===1&&oe===0&&!(e.mode&1)&&(pi=Ce()+500,Ua&&Jn()))}function ft(t,e){var n=t.callbackNode;L1(t,e);var r=sa(t,t===ze?qe:0);if(r===0)n!==null&&hf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hf(n),e===1)t.tag===0?D0(rp.bind(null,t)):Og(rp.bind(null,t)),k0(function(){!(oe&6)&&Jn()}),n=null;else{switch(hg(r)){case 1:n=Gc;break;case 4:n=lg;break;case 16:n=ia;break;case 536870912:n=ug;break;default:n=ia}n=Ly(n,Ry.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ry(t,e){if(Go=-1,Ko=0,oe&6)throw Error(b(327));var n=t.callbackNode;if(ei()&&t.callbackNode!==n)return null;var r=sa(t,t===ze?qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sa(t,r);else{e=r;var i=oe;oe|=2;var s=ky();(ze!==t||qe!==e)&&(Jt=null,pi=Ce()+500,pr(t,e));do try{eE();break}catch(l){Py(t,l)}while(!0);sh(),Ea.current=s,oe=i,xe!==null?e=0:(ze=null,qe=0,e=Me)}if(e!==0){if(e===2&&(i=Nu(t),i!==0&&(r=i,e=sc(t,i))),e===1)throw n=js,pr(t,0),In(t,r),ft(t,Ce()),n;if(e===6)In(t,r);else{if(i=t.current.alternate,!(r&30)&&!J0(i)&&(e=Sa(t,r),e===2&&(s=Nu(t),s!==0&&(r=s,e=sc(t,s))),e===1))throw n=js,pr(t,0),In(t,r),ft(t,Ce()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:lr(t,ut,Jt);break;case 3:if(In(t,r),(r&130023424)===r&&(e=Eh+500-Ce(),10<e)){if(sa(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){st(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fu(lr.bind(null,t,ut,Jt),e);break}lr(t,ut,Jt);break;case 4:if(In(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Lt(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*X0(r/1960))-r,10<r){t.timeoutHandle=Fu(lr.bind(null,t,ut,Jt),r);break}lr(t,ut,Jt);break;case 5:lr(t,ut,Jt);break;default:throw Error(b(329))}}}return ft(t,Ce()),t.callbackNode===n?Ry.bind(null,t):null}function sc(t,e){var n=ms;return t.current.memoizedState.isDehydrated&&(pr(t,e).flags|=256),t=Sa(t,e),t!==2&&(e=ut,ut=n,e!==null&&oc(e)),t}function oc(t){ut===null?ut=t:ut.push.apply(ut,t)}function J0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ot(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function In(t,e){for(e&=~vh,e&=~Ga,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lt(e),r=1<<n;t[n]=-1,e&=~r}}function rp(t){if(oe&6)throw Error(b(327));ei();var e=sa(t,0);if(!(e&1))return ft(t,Ce()),null;var n=Sa(t,e);if(t.tag!==0&&n===2){var r=Nu(t);r!==0&&(e=r,n=sc(t,r))}if(n===1)throw n=js,pr(t,0),In(t,e),ft(t,Ce()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lr(t,ut,Jt),ft(t,Ce()),null}function wh(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(pi=Ce()+500,Ua&&Jn())}}function Sr(t){An!==null&&An.tag===0&&!(oe&6)&&ei();var e=oe;oe|=1;var n=At.transition,r=ae;try{if(At.transition=null,ae=1,t)return t()}finally{ae=r,At.transition=n,oe=e,!(oe&6)&&Jn()}}function Th(){mt=Wr.current,fe(Wr)}function pr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,P0(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(nh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ca();break;case 3:di(),fe(ht),fe(et),hh();break;case 5:ch(r);break;case 4:di();break;case 13:fe(ge);break;case 19:fe(ge);break;case 10:oh(r.type._context);break;case 22:case 23:Th()}n=n.return}if(ze=t,xe=t=On(t.current,null),qe=mt=e,Me=0,js=null,vh=Ga=Tr=0,ut=ms=null,hr!==null){for(e=0;e<hr.length;e++)if(n=hr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}hr=null}return t}function Py(t,e){do{var n=xe;try{if(sh(),$o.current=va,_a){for(var r=_e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_a=!1}if(wr=0,Fe=De=_e=null,fs=!1,Ms=0,_h.current=null,n===null||n.return===null){Me=1,js=e,xe=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=qe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=l,y=f.tag;if(!(f.mode&1)&&(y===0||y===11||y===15)){var _=f.alternate;_?(f.updateQueue=_.updateQueue,f.memoizedState=_.memoizedState,f.lanes=_.lanes):(f.updateQueue=null,f.memoizedState=null)}var P=qf(a);if(P!==null){P.flags&=-257,Hf(P,a,l,s,e),P.mode&1&&$f(s,h,e),e=P,c=h;var R=e.updateQueue;if(R===null){var N=new Set;N.add(c),e.updateQueue=N}else R.add(c);break e}else{if(!(e&1)){$f(s,h,e),Sh();break e}c=Error(b(426))}}else if(me&&l.mode&1){var M=qf(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Hf(M,a,l,s,e),rh(fi(c,l));break e}}s=c=fi(c,l),Me!==4&&(Me=2),ms===null?ms=[s]:ms.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=hy(s,c,e);bf(s,m);break e;case 1:l=c;var w=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ln===null||!Ln.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=dy(s,l,e);bf(s,D);break e}}s=s.return}while(s!==null)}Ny(n)}catch(O){e=O,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function ky(){var t=Ea.current;return Ea.current=va,t===null?va:t}function Sh(){(Me===0||Me===3||Me===2)&&(Me=4),ze===null||!(Tr&268435455)&&!(Ga&268435455)||In(ze,qe)}function Sa(t,e){var n=oe;oe|=2;var r=ky();(ze!==t||qe!==e)&&(Jt=null,pr(t,e));do try{Z0();break}catch(i){Py(t,i)}while(!0);if(sh(),oe=n,Ea.current=r,xe!==null)throw Error(b(261));return ze=null,qe=0,Me}function Z0(){for(;xe!==null;)xy(xe)}function eE(){for(;xe!==null&&!C1();)xy(xe)}function xy(t){var e=Dy(t.alternate,t,mt);t.memoizedProps=t.pendingProps,e===null?Ny(t):xe=e,_h.current=null}function Ny(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=K0(n,e),n!==null){n.flags&=32767,xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,xe=null;return}}else if(n=G0(n,e,mt),n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);Me===0&&(Me=5)}function lr(t,e,n){var r=ae,i=At.transition;try{At.transition=null,ae=1,tE(t,e,n,r)}finally{At.transition=i,ae=r}return null}function tE(t,e,n,r){do ei();while(An!==null);if(oe&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(M1(t,s),t===ze&&(xe=ze=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ko||(ko=!0,Ly(ia,function(){return ei(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=At.transition,At.transition=null;var a=ae;ae=1;var l=oe;oe|=4,_h.current=null,Q0(t,n),Cy(n,t),w0(bu),oa=!!Ou,bu=Ou=null,t.current=n,Y0(n),A1(),oe=l,ae=a,At.transition=s}else t.current=n;if(ko&&(ko=!1,An=t,Ta=i),s=t.pendingLanes,s===0&&(Ln=null),k1(n.stateNode),ft(t,Ce()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wa)throw wa=!1,t=rc,rc=null,t;return Ta&1&&t.tag!==0&&ei(),s=t.pendingLanes,s&1?t===ic?gs++:(gs=0,ic=t):gs=0,Jn(),null}function ei(){if(An!==null){var t=hg(Ta),e=At.transition,n=ae;try{if(At.transition=null,ae=16>t?16:t,An===null)var r=!1;else{if(t=An,An=null,Ta=0,oe&6)throw Error(b(331));var i=oe;for(oe|=4,$=t.current;$!==null;){var s=$,a=s.child;if($.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for($=h;$!==null;){var f=$;switch(f.tag){case 0:case 11:case 15:ps(8,f,s)}var y=f.child;if(y!==null)y.return=f,$=y;else for(;$!==null;){f=$;var _=f.sibling,P=f.return;if(Ty(f),f===h){$=null;break}if(_!==null){_.return=P,$=_;break}$=P}}}var R=s.alternate;if(R!==null){var N=R.child;if(N!==null){R.child=null;do{var M=N.sibling;N.sibling=null,N=M}while(N!==null)}}$=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,$=a;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ps(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,$=m;break e}$=s.return}}var w=t.current;for($=w;$!==null;){a=$;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,$=A;else e:for(a=w;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ha(9,l)}}catch(O){Te(l,l.return,O)}if(l===a){$=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,$=D;break e}$=l.return}}if(oe=i,Jn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ba,t)}catch{}r=!0}return r}finally{ae=n,At.transition=e}}return!1}function ip(t,e,n){e=fi(n,e),e=hy(t,e,1),t=Dn(t,e,1),e=st(),t!==null&&(Gs(t,1,e),ft(t,e))}function Te(t,e,n){if(t.tag===3)ip(t,t,n);else for(;e!==null;){if(e.tag===3){ip(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){t=fi(n,t),t=dy(e,t,1),e=Dn(e,t,1),t=st(),e!==null&&(Gs(e,1,t),ft(e,t));break}}e=e.return}}function nE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=st(),t.pingedLanes|=t.suspendedLanes&n,ze===t&&(qe&n)===n&&(Me===4||Me===3&&(qe&130023424)===qe&&500>Ce()-Eh?pr(t,0):vh|=n),ft(t,e)}function Vy(t,e){e===0&&(t.mode&1?(e=vo,vo<<=1,!(vo&130023424)&&(vo=4194304)):e=1);var n=st();t=an(t,e),t!==null&&(Gs(t,e,n),ft(t,n))}function rE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Vy(t,n)}function iE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),Vy(t,n)}var Dy;Dy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ct=!1,H0(t,e,n);ct=!!(t.flags&131072)}else ct=!1,me&&e.flags&1048576&&bg(e,fa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ho(t,e),t=e.pendingProps;var i=ui(e,et.current);Zr(e,n),i=fh(null,e,r,t,i,n);var s=ph();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(r)?(s=!0,ha(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lh(e),i.updater=qa,e.stateNode=i,i._reactInternals=e,Gu(e,r,t,n),e=Qu(null,e,r,!0,s,n)):(e.tag=0,me&&s&&th(e),rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ho(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oE(r),t=Nt(r,t),i){case 0:e=Wu(null,e,r,t,n);break e;case 1:e=Wf(null,e,r,t,n);break e;case 11:e=Gf(null,e,r,t,n);break e;case 14:e=Kf(null,e,r,Nt(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),Wu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),Wf(t,e,r,i,n);case 3:e:{if(gy(e),t===null)throw Error(b(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$g(t,e),ga(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fi(Error(b(423)),e),e=Qf(t,e,r,n,i);break e}else if(r!==i){i=fi(Error(b(424)),e),e=Qf(t,e,r,n,i);break e}else for(gt=Vn(e.stateNode.containerInfo.firstChild),yt=e,me=!0,Dt=null,n=Bg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ci(),r===i){e=ln(t,e,n);break e}rt(t,e,r,n)}e=e.child}return e;case 5:return qg(e),t===null&&$u(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,ju(r,i)?a=null:s!==null&&ju(r,s)&&(e.flags|=32),my(t,e),rt(t,e,a,n),e.child;case 6:return t===null&&$u(e),null;case 13:return yy(t,e,n);case 4:return uh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hi(e,null,r,n):rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),Gf(t,e,r,i,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ue(pa,r._currentValue),r._currentValue=a,s!==null)if(Ot(s.value,a)){if(s.children===i.children&&!ht.current){e=ln(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=rn(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),qu(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(b(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),qu(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zr(e,n),i=Rt(i),r=r(i),e.flags|=1,rt(t,e,r,n),e.child;case 14:return r=e.type,i=Nt(r,e.pendingProps),i=Nt(r.type,i),Kf(t,e,r,i,n);case 15:return fy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),Ho(t,e),e.tag=1,dt(r)?(t=!0,ha(e)):t=!1,Zr(e,n),cy(e,r,i),Gu(e,r,i,n),Qu(null,e,r,!0,t,n);case 19:return _y(t,e,n);case 22:return py(t,e,n)}throw Error(b(156,e.tag))};function Ly(t,e){return ag(t,e)}function sE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,n,r){return new sE(t,e,n,r)}function Ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oE(t){if(typeof t=="function")return Ih(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$c)return 11;if(t===qc)return 14}return 2}function On(t,e){var n=t.alternate;return n===null?(n=It(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wo(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Ih(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case jr:return mr(n.children,i,s,e);case Uc:a=8,i|=8;break;case gu:return t=It(12,n,e,i|2),t.elementType=gu,t.lanes=s,t;case yu:return t=It(13,n,e,i),t.elementType=yu,t.lanes=s,t;case _u:return t=It(19,n,e,i),t.elementType=_u,t.lanes=s,t;case qm:return Ka(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Um:a=10;break e;case $m:a=9;break e;case $c:a=11;break e;case qc:a=14;break e;case wn:a=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=It(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function mr(t,e,n,r){return t=It(7,t,r,e),t.lanes=n,t}function Ka(t,e,n,r){return t=It(22,t,r,e),t.elementType=qm,t.lanes=n,t.stateNode={isHidden:!1},t}function tu(t,e,n){return t=It(6,t,null,e),t.lanes=n,t}function nu(t,e,n){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ch(t,e,n,r,i,s,a,l,c){return t=new aE(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=It(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lh(s),t}function lE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:br,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function My(t){if(!t)return $n;t=t._reactInternals;e:{if(Rr(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(dt(n))return Mg(t,n,e)}return e}function Oy(t,e,n,r,i,s,a,l,c){return t=Ch(n,r,!0,t,i,s,a,l,c),t.context=My(null),n=t.current,r=st(),i=Mn(n),s=rn(r,i),s.callback=e??null,Dn(n,s,i),t.current.lanes=i,Gs(t,i,r),ft(t,r),t}function Wa(t,e,n,r){var i=e.current,s=st(),a=Mn(i);return n=My(n),e.context===null?e.context=n:e.pendingContext=n,e=rn(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Dn(i,e,a),t!==null&&(Mt(t,i,a,s),Uo(t,i,a)),a}function Ia(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ah(t,e){sp(t,e),(t=t.alternate)&&sp(t,e)}function uE(){return null}var by=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rh(t){this._internalRoot=t}Qa.prototype.render=Rh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Wa(t,e,null,null)};Qa.prototype.unmount=Rh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sr(function(){Wa(null,t,null,null)}),e[on]=null}};function Qa(t){this._internalRoot=t}Qa.prototype.unstable_scheduleHydration=function(t){if(t){var e=pg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sn.length&&e!==0&&e<Sn[n].priority;n++);Sn.splice(n,0,t),n===0&&gg(t)}};function Ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ya(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function op(){}function cE(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Ia(a);s.call(h)}}var a=Oy(e,r,t,0,null,!1,!1,"",op);return t._reactRootContainer=a,t[on]=a.current,xs(t.nodeType===8?t.parentNode:t),Sr(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Ia(c);l.call(h)}}var c=Ch(t,0,!1,null,null,!1,!1,"",op);return t._reactRootContainer=c,t[on]=c.current,xs(t.nodeType===8?t.parentNode:t),Sr(function(){Wa(e,c,n,r)}),c}function Xa(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Ia(a);l.call(c)}}Wa(e,a,t,i)}else a=cE(n,e,t,i,r);return Ia(a)}dg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rs(e.pendingLanes);n!==0&&(Kc(e,n|1),ft(e,Ce()),!(oe&6)&&(pi=Ce()+500,Jn()))}break;case 13:Sr(function(){var r=an(t,1);if(r!==null){var i=st();Mt(r,t,1,i)}}),Ah(t,1)}};Wc=function(t){if(t.tag===13){var e=an(t,134217728);if(e!==null){var n=st();Mt(e,t,134217728,n)}Ah(t,134217728)}};fg=function(t){if(t.tag===13){var e=Mn(t),n=an(t,e);if(n!==null){var r=st();Mt(n,t,e,r)}Ah(t,e)}};pg=function(){return ae};mg=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};Pu=function(t,e,n){switch(e){case"input":if(wu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ba(r);if(!i)throw Error(b(90));Gm(r),wu(r,i)}}}break;case"textarea":Wm(t,n);break;case"select":e=n.value,e!=null&&Qr(t,!!n.multiple,e,!1)}};tg=wh;ng=Sr;var hE={usingClientEntryPoint:!1,Events:[Ws,Ur,Ba,Zm,eg,wh]},Zi={findFiberByHostInstance:cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dE={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sg(t),t===null?null:t.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance||uE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{ba=xo.inject(dE),Gt=xo}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hE;vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ph(e))throw Error(b(200));return lE(t,e,null,n)};vt.createRoot=function(t,e){if(!Ph(t))throw Error(b(299));var n=!1,r="",i=by;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ch(t,1,!1,null,null,n,!1,r,i),t[on]=e.current,xs(t.nodeType===8?t.parentNode:t),new Rh(e)};vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=sg(e),t=t===null?null:t.stateNode,t};vt.flushSync=function(t){return Sr(t)};vt.hydrate=function(t,e,n){if(!Ya(e))throw Error(b(200));return Xa(null,t,e,!0,n)};vt.hydrateRoot=function(t,e,n){if(!Ph(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=by;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Oy(e,null,t,1,n??null,i,!1,s,a),t[on]=e.current,xs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qa(e)};vt.render=function(t,e,n){if(!Ya(e))throw Error(b(200));return Xa(null,t,e,!1,n)};vt.unmountComponentAtNode=function(t){if(!Ya(t))throw Error(b(40));return t._reactRootContainer?(Sr(function(){Xa(null,null,t,!1,function(){t._reactRootContainer=null,t[on]=null})}),!0):!1};vt.unstable_batchedUpdates=wh;vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ya(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Xa(t,e,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jy)}catch(t){console.error(t)}}jy(),jm.exports=vt;var fE=jm.exports,Fy,ap=fE;Fy=ap.createRoot,ap.hydrateRoot;function pE(t={}){const{nonce:e,locale:n,onScriptLoadSuccess:r,onScriptLoadError:i}=t,[s,a]=K.useState(!1),l=K.useRef(r);l.current=r;const c=K.useRef(i);return c.current=i,K.useEffect(()=>{const h=document.createElement("script");return h.src="https://accounts.google.com/gsi/client",n&&(h.src+=`?hl=${n}`),h.async=!0,h.defer=!0,h.nonce=e,h.onload=()=>{var f;a(!0),(f=l.current)===null||f===void 0||f.call(l)},h.onerror=()=>{var f;a(!1),(f=c.current)===null||f===void 0||f.call(c)},document.body.appendChild(h),()=>{document.body.removeChild(h)}},[e]),s}const zy=K.createContext(null);function mE({clientId:t,nonce:e,locale:n,onScriptLoadSuccess:r,onScriptLoadError:i,children:s}){const a=pE({nonce:e,onScriptLoadSuccess:r,onScriptLoadError:i,locale:n}),l=K.useMemo(()=>({locale:n,clientId:t,scriptLoadedSuccessfully:a}),[t,a]);return n1.createElement(zy.Provider,{value:l},s)}function gE(){const t=K.useContext(zy);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function yE({flow:t="implicit",scope:e="",onSuccess:n,onError:r,onNonOAuthError:i,overrideScope:s,state:a,...l}){const{clientId:c,scriptLoadedSuccessfully:h}=gE(),f=K.useRef(),y=K.useRef(n);y.current=n;const _=K.useRef(r);_.current=r;const P=K.useRef(i);P.current=i,K.useEffect(()=>{var M,m;if(!h)return;const w=t==="implicit"?"initTokenClient":"initCodeClient",A=(m=(M=window==null?void 0:window.google)===null||M===void 0?void 0:M.accounts)===null||m===void 0?void 0:m.oauth2[w]({client_id:c,scope:s?e:`openid profile email ${e}`,callback:D=>{var O,j;if(D.error)return(O=_.current)===null||O===void 0?void 0:O.call(_,D);(j=y.current)===null||j===void 0||j.call(y,D)},error_callback:D=>{var O;(O=P.current)===null||O===void 0||O.call(P,D)},state:a,...l});f.current=A},[c,h,t,e,a]);const R=K.useCallback(M=>{var m;return(m=f.current)===null||m===void 0?void 0:m.requestAccessToken(M)},[]),N=K.useCallback(()=>{var M;return(M=f.current)===null||M===void 0?void 0:M.requestCode()},[]);return t==="implicit"?R:N}const Qo="karting-bna-user",By=K.createContext(null);function _E(){try{const t=localStorage.getItem(Qo);if(!t)return null;const e=JSON.parse(t);return e!=null&&e.name?e:null}catch{return null}}const lp={name:"Invitado",email:""};function vE({children:t}){const[e,n]=K.useState(null),[r,i]=K.useState(!0);K.useEffect(()=>{n(_E()),i(!1)},[]);const s=K.useCallback(c=>{n(c);try{localStorage.setItem(Qo,JSON.stringify(c))}catch{}},[]),a=K.useCallback(()=>{n(lp);try{localStorage.setItem(Qo,JSON.stringify(lp))}catch{}},[]),l=K.useCallback(()=>{n(null);try{localStorage.removeItem(Qo)}catch{}},[]);return S.jsx(By.Provider,{value:{user:e,isLoading:r,login:s,loginAsGuest:a,logout:l},children:t})}function kh(){const t=K.useContext(By);if(!t)throw new Error("useAuth debe usarse dentro de AuthProvider");return t}const EE=()=>{};var up={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},$y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,f=s>>2,y=(s&3)<<4|l>>4;let _=(l&15)<<2|h>>6,P=h&63;c||(P=64,a||(_=64)),r.push(n[f],n[y],n[_],n[P])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Uy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||y==null)throw new TE;const _=s<<2|l>>4;if(r.push(_),h!==64){const P=l<<4&240|h>>2;if(r.push(P),y!==64){const R=h<<6&192|y;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SE=function(t){const e=Uy(t);return $y.encodeByteArray(e,!0)},Ca=function(t){return SE(t).replace(/\./g,"")},IE=function(t){try{return $y.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=()=>CE().__FIREBASE_DEFAULTS__,RE=()=>{if(typeof process>"u"||typeof up>"u")return;const t=up.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IE(t[1]);return e&&JSON.parse(e)},xh=()=>{try{return EE()||AE()||RE()||PE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kE=t=>{var e,n;return(n=(e=xh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},xE=t=>{const e=kE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qy=()=>{var t;return(t=xh())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ca(JSON.stringify(n)),Ca(JSON.stringify(a)),""].join(".")}const ys={};function LE(){const t={prod:[],emulator:[]};for(const e of Object.keys(ys))ys[e]?t.emulator.push(e):t.prod.push(e);return t}function ME(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cp=!1;function OE(t,e){if(typeof window>"u"||typeof document>"u"||!Nh(window.location.host)||ys[t]===e||ys[t]||cp)return;ys[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",s=LE().prod.length>0;function a(){const _=document.getElementById(r);_&&_.remove()}function l(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,P){_.setAttribute("width","24"),_.setAttribute("id",P),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{cp=!0,a()},_}function f(_,P){_.setAttribute("id",P),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=ME(r),P=n("text"),R=document.getElementById(P)||document.createElement("span"),N=n("learnmore"),M=document.getElementById(N)||document.createElement("a"),m=n("preprendIcon"),w=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const A=_.element;l(A),f(M,N);const D=h();c(w,m),A.append(w,R,M,D),document.body.appendChild(A)}s?(R.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jE(){var e;const t=(e=xh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FE(){return!jE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zE(){try{return typeof indexedDB=="object"}catch{return!1}}function BE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="FirebaseError";class Ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UE,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hy.prototype.create)}}class Hy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?$E(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Ii(i,l,r)}}function $E(t,e){return t.replace(qE,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qE=/\{\$([^}]+)}/g;function Aa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(hp(s)&&hp(a)){if(!Aa(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){return t&&t._delegate?t._delegate:t}class Fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KE(e))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ur){return this.instances.has(e)}getOptions(e=ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ur){return this.component?this.component.multipleInstances?e:ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GE(t){return t===ur?void 0:t}function KE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const QE={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},YE=re.INFO,XE={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},JE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XE[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ky{constructor(e){this.name=e,this._logLevel=YE,this._logHandler=JE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const ZE=(t,e)=>e.some(n=>t instanceof n);let dp,fp;function ew(){return dp||(dp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tw(){return fp||(fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wy=new WeakMap,ac=new WeakMap,Qy=new WeakMap,ru=new WeakMap,Vh=new WeakMap;function nw(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(bn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Wy.set(n,t)}).catch(()=>{}),Vh.set(e,t),e}function rw(t){if(ac.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ac.set(t,e)}let lc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ac.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Qy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iw(t){lc=t(lc)}function sw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(iu(this),e,...n);return Qy.set(r,e.sort?e.sort():[e]),bn(r)}:tw().includes(t)?function(...e){return t.apply(iu(this),e),bn(Wy.get(this))}:function(...e){return bn(t.apply(iu(this),e))}}function ow(t){return typeof t=="function"?sw(t):(t instanceof IDBTransaction&&rw(t),ZE(t,ew())?new Proxy(t,lc):t)}function bn(t){if(t instanceof IDBRequest)return nw(t);if(ru.has(t))return ru.get(t);const e=ow(t);return e!==t&&(ru.set(t,e),Vh.set(e,t)),e}const iu=t=>Vh.get(t);function aw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=bn(a);return r&&a.addEventListener("upgradeneeded",c=>{r(bn(a.result),c.oldVersion,c.newVersion,bn(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const lw=["get","getKey","getAll","getAllKeys","count"],uw=["put","add","delete","clear"],su=new Map;function pp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(su.get(e))return su.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=uw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lw.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return su.set(e,s),s}iw(t=>({...t,get:(e,n,r)=>pp(e,n)||t.get(e,n,r),has:(e,n)=>!!pp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uc="@firebase/app",mp="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new Ky("@firebase/app"),dw="@firebase/app-compat",fw="@firebase/analytics-compat",pw="@firebase/analytics",mw="@firebase/app-check-compat",gw="@firebase/app-check",yw="@firebase/auth",_w="@firebase/auth-compat",vw="@firebase/database",Ew="@firebase/data-connect",ww="@firebase/database-compat",Tw="@firebase/functions",Sw="@firebase/functions-compat",Iw="@firebase/installations",Cw="@firebase/installations-compat",Aw="@firebase/messaging",Rw="@firebase/messaging-compat",Pw="@firebase/performance",kw="@firebase/performance-compat",xw="@firebase/remote-config",Nw="@firebase/remote-config-compat",Vw="@firebase/storage",Dw="@firebase/storage-compat",Lw="@firebase/firestore",Mw="@firebase/ai",Ow="@firebase/firestore-compat",bw="firebase",jw="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="[DEFAULT]",Fw={[uc]:"fire-core",[dw]:"fire-core-compat",[pw]:"fire-analytics",[fw]:"fire-analytics-compat",[gw]:"fire-app-check",[mw]:"fire-app-check-compat",[yw]:"fire-auth",[_w]:"fire-auth-compat",[vw]:"fire-rtdb",[Ew]:"fire-data-connect",[ww]:"fire-rtdb-compat",[Tw]:"fire-fn",[Sw]:"fire-fn-compat",[Iw]:"fire-iid",[Cw]:"fire-iid-compat",[Aw]:"fire-fcm",[Rw]:"fire-fcm-compat",[Pw]:"fire-perf",[kw]:"fire-perf-compat",[xw]:"fire-rc",[Nw]:"fire-rc-compat",[Vw]:"fire-gcs",[Dw]:"fire-gcs-compat",[Lw]:"fire-fst",[Ow]:"fire-fst-compat",[Mw]:"fire-vertex","fire-js":"fire-js",[bw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Map,zw=new Map,hc=new Map;function gp(t,e){try{t.container.addComponent(e)}catch(n){un.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pa(t){const e=t.name;if(hc.has(e))return un.debug(`There were multiple attempts to register component ${e}.`),!1;hc.set(e,t);for(const n of Ra.values())gp(n,t);for(const n of zw.values())gp(n,t);return!0}function Bw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Uw(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jn=new Hy("app","Firebase",$w);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=jw;function Yy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:cc,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw jn.create("bad-app-name",{appName:String(i)});if(n||(n=qy()),!n)throw jn.create("no-options");const s=Ra.get(i);if(s){if(Aa(n,s.options)&&Aa(r,s.config))return s;throw jn.create("duplicate-app",{appName:i})}const a=new WE(i);for(const c of hc.values())a.addComponent(c);const l=new qw(n,r,a);return Ra.set(i,l),l}function Gw(t=cc){const e=Ra.get(t);if(!e&&t===cc&&qy())return Yy();if(!e)throw jn.create("no-app",{appName:t});return e}function ti(t,e,n){let r=Fw[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),un.warn(a.join(" "));return}Pa(new Fs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="firebase-heartbeat-database",Ww=1,zs="firebase-heartbeat-store";let ou=null;function Xy(){return ou||(ou=aw(Kw,Ww,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zs)}catch(n){console.warn(n)}}}}).catch(t=>{throw jn.create("idb-open",{originalErrorMessage:t.message})})),ou}async function Qw(t){try{const n=(await Xy()).transaction(zs),r=await n.objectStore(zs).get(Jy(t));return await n.done,r}catch(e){if(e instanceof Ii)un.warn(e.message);else{const n=jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});un.warn(n.message)}}}async function yp(t,e){try{const r=(await Xy()).transaction(zs,"readwrite");await r.objectStore(zs).put(e,Jy(t)),await r.done}catch(n){if(n instanceof Ii)un.warn(n.message);else{const r=jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});un.warn(r.message)}}}function Jy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=1024,Xw=30;class Jw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_p();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Xw){const a=tT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){un.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_p(),{heartbeatsToSend:r,unsentEntries:i}=Zw(this._heartbeatsCache.heartbeats),s=Ca(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return un.warn(n),""}}}function _p(){return new Date().toISOString().substring(0,10)}function Zw(t,e=Yw){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),vp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zE()?BE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vp(t){return Ca(JSON.stringify({version:2,heartbeats:t})).length}function tT(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){Pa(new Fs("platform-logger",e=>new cw(e),"PRIVATE")),Pa(new Fs("heartbeat",e=>new Jw(e),"PRIVATE")),ti(uc,mp,t),ti(uc,mp,"esm2020"),ti("fire-js","")}nT("");var Ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fn,Zy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,g){function v(){}v.prototype=g.prototype,E.F=g.prototype,E.prototype=new v,E.prototype.constructor=E,E.D=function(I,C,k){for(var T=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)T[Be-2]=arguments[Be];return g.prototype[C].apply(I,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,g,v){v||(v=0);const I=Array(16);if(typeof g=="string")for(var C=0;C<16;++C)I[C]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(C=0;C<16;++C)I[C]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=E.g[0],v=E.g[1],C=E.g[2];let k=E.g[3],T;T=g+(k^v&(C^k))+I[0]+3614090360&4294967295,g=v+(T<<7&4294967295|T>>>25),T=k+(C^g&(v^C))+I[1]+3905402710&4294967295,k=g+(T<<12&4294967295|T>>>20),T=C+(v^k&(g^v))+I[2]+606105819&4294967295,C=k+(T<<17&4294967295|T>>>15),T=v+(g^C&(k^g))+I[3]+3250441966&4294967295,v=C+(T<<22&4294967295|T>>>10),T=g+(k^v&(C^k))+I[4]+4118548399&4294967295,g=v+(T<<7&4294967295|T>>>25),T=k+(C^g&(v^C))+I[5]+1200080426&4294967295,k=g+(T<<12&4294967295|T>>>20),T=C+(v^k&(g^v))+I[6]+2821735955&4294967295,C=k+(T<<17&4294967295|T>>>15),T=v+(g^C&(k^g))+I[7]+4249261313&4294967295,v=C+(T<<22&4294967295|T>>>10),T=g+(k^v&(C^k))+I[8]+1770035416&4294967295,g=v+(T<<7&4294967295|T>>>25),T=k+(C^g&(v^C))+I[9]+2336552879&4294967295,k=g+(T<<12&4294967295|T>>>20),T=C+(v^k&(g^v))+I[10]+4294925233&4294967295,C=k+(T<<17&4294967295|T>>>15),T=v+(g^C&(k^g))+I[11]+2304563134&4294967295,v=C+(T<<22&4294967295|T>>>10),T=g+(k^v&(C^k))+I[12]+1804603682&4294967295,g=v+(T<<7&4294967295|T>>>25),T=k+(C^g&(v^C))+I[13]+4254626195&4294967295,k=g+(T<<12&4294967295|T>>>20),T=C+(v^k&(g^v))+I[14]+2792965006&4294967295,C=k+(T<<17&4294967295|T>>>15),T=v+(g^C&(k^g))+I[15]+1236535329&4294967295,v=C+(T<<22&4294967295|T>>>10),T=g+(C^k&(v^C))+I[1]+4129170786&4294967295,g=v+(T<<5&4294967295|T>>>27),T=k+(v^C&(g^v))+I[6]+3225465664&4294967295,k=g+(T<<9&4294967295|T>>>23),T=C+(g^v&(k^g))+I[11]+643717713&4294967295,C=k+(T<<14&4294967295|T>>>18),T=v+(k^g&(C^k))+I[0]+3921069994&4294967295,v=C+(T<<20&4294967295|T>>>12),T=g+(C^k&(v^C))+I[5]+3593408605&4294967295,g=v+(T<<5&4294967295|T>>>27),T=k+(v^C&(g^v))+I[10]+38016083&4294967295,k=g+(T<<9&4294967295|T>>>23),T=C+(g^v&(k^g))+I[15]+3634488961&4294967295,C=k+(T<<14&4294967295|T>>>18),T=v+(k^g&(C^k))+I[4]+3889429448&4294967295,v=C+(T<<20&4294967295|T>>>12),T=g+(C^k&(v^C))+I[9]+568446438&4294967295,g=v+(T<<5&4294967295|T>>>27),T=k+(v^C&(g^v))+I[14]+3275163606&4294967295,k=g+(T<<9&4294967295|T>>>23),T=C+(g^v&(k^g))+I[3]+4107603335&4294967295,C=k+(T<<14&4294967295|T>>>18),T=v+(k^g&(C^k))+I[8]+1163531501&4294967295,v=C+(T<<20&4294967295|T>>>12),T=g+(C^k&(v^C))+I[13]+2850285829&4294967295,g=v+(T<<5&4294967295|T>>>27),T=k+(v^C&(g^v))+I[2]+4243563512&4294967295,k=g+(T<<9&4294967295|T>>>23),T=C+(g^v&(k^g))+I[7]+1735328473&4294967295,C=k+(T<<14&4294967295|T>>>18),T=v+(k^g&(C^k))+I[12]+2368359562&4294967295,v=C+(T<<20&4294967295|T>>>12),T=g+(v^C^k)+I[5]+4294588738&4294967295,g=v+(T<<4&4294967295|T>>>28),T=k+(g^v^C)+I[8]+2272392833&4294967295,k=g+(T<<11&4294967295|T>>>21),T=C+(k^g^v)+I[11]+1839030562&4294967295,C=k+(T<<16&4294967295|T>>>16),T=v+(C^k^g)+I[14]+4259657740&4294967295,v=C+(T<<23&4294967295|T>>>9),T=g+(v^C^k)+I[1]+2763975236&4294967295,g=v+(T<<4&4294967295|T>>>28),T=k+(g^v^C)+I[4]+1272893353&4294967295,k=g+(T<<11&4294967295|T>>>21),T=C+(k^g^v)+I[7]+4139469664&4294967295,C=k+(T<<16&4294967295|T>>>16),T=v+(C^k^g)+I[10]+3200236656&4294967295,v=C+(T<<23&4294967295|T>>>9),T=g+(v^C^k)+I[13]+681279174&4294967295,g=v+(T<<4&4294967295|T>>>28),T=k+(g^v^C)+I[0]+3936430074&4294967295,k=g+(T<<11&4294967295|T>>>21),T=C+(k^g^v)+I[3]+3572445317&4294967295,C=k+(T<<16&4294967295|T>>>16),T=v+(C^k^g)+I[6]+76029189&4294967295,v=C+(T<<23&4294967295|T>>>9),T=g+(v^C^k)+I[9]+3654602809&4294967295,g=v+(T<<4&4294967295|T>>>28),T=k+(g^v^C)+I[12]+3873151461&4294967295,k=g+(T<<11&4294967295|T>>>21),T=C+(k^g^v)+I[15]+530742520&4294967295,C=k+(T<<16&4294967295|T>>>16),T=v+(C^k^g)+I[2]+3299628645&4294967295,v=C+(T<<23&4294967295|T>>>9),T=g+(C^(v|~k))+I[0]+4096336452&4294967295,g=v+(T<<6&4294967295|T>>>26),T=k+(v^(g|~C))+I[7]+1126891415&4294967295,k=g+(T<<10&4294967295|T>>>22),T=C+(g^(k|~v))+I[14]+2878612391&4294967295,C=k+(T<<15&4294967295|T>>>17),T=v+(k^(C|~g))+I[5]+4237533241&4294967295,v=C+(T<<21&4294967295|T>>>11),T=g+(C^(v|~k))+I[12]+1700485571&4294967295,g=v+(T<<6&4294967295|T>>>26),T=k+(v^(g|~C))+I[3]+2399980690&4294967295,k=g+(T<<10&4294967295|T>>>22),T=C+(g^(k|~v))+I[10]+4293915773&4294967295,C=k+(T<<15&4294967295|T>>>17),T=v+(k^(C|~g))+I[1]+2240044497&4294967295,v=C+(T<<21&4294967295|T>>>11),T=g+(C^(v|~k))+I[8]+1873313359&4294967295,g=v+(T<<6&4294967295|T>>>26),T=k+(v^(g|~C))+I[15]+4264355552&4294967295,k=g+(T<<10&4294967295|T>>>22),T=C+(g^(k|~v))+I[6]+2734768916&4294967295,C=k+(T<<15&4294967295|T>>>17),T=v+(k^(C|~g))+I[13]+1309151649&4294967295,v=C+(T<<21&4294967295|T>>>11),T=g+(C^(v|~k))+I[4]+4149444226&4294967295,g=v+(T<<6&4294967295|T>>>26),T=k+(v^(g|~C))+I[11]+3174756917&4294967295,k=g+(T<<10&4294967295|T>>>22),T=C+(g^(k|~v))+I[2]+718787259&4294967295,C=k+(T<<15&4294967295|T>>>17),T=v+(k^(C|~g))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+g&4294967295,E.g[1]=E.g[1]+(C+(T<<21&4294967295|T>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+k&4294967295}r.prototype.v=function(E,g){g===void 0&&(g=E.length);const v=g-this.blockSize,I=this.C;let C=this.h,k=0;for(;k<g;){if(C==0)for(;k<=v;)i(this,E,k),k+=this.blockSize;if(typeof E=="string"){for(;k<g;)if(I[C++]=E.charCodeAt(k++),C==this.blockSize){i(this,I),C=0;break}}else for(;k<g;)if(I[C++]=E[k++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=g},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var g=1;g<E.length-8;++g)E[g]=0;g=this.o*8;for(var v=E.length-8;v<E.length;++v)E[v]=g&255,g/=256;for(this.v(E),E=Array(16),g=0,v=0;v<4;++v)for(let I=0;I<32;I+=8)E[g++]=this.g[v]>>>I&255;return E};function s(E,g){var v=l;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=g(E)}function a(E,g){this.h=g;const v=[];let I=!0;for(let C=E.length-1;C>=0;C--){const k=E[C]|0;I&&k==g||(v[C]=k,I=!1)}this.g=v}var l={};function c(E){return-128<=E&&E<128?s(E,function(g){return new a([g|0],g<0?-1:0)}):new a([E|0],E<0?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return y;if(E<0)return M(h(-E));const g=[];let v=1;for(let I=0;E>=v;I++)g[I]=E/v|0,v*=4294967296;return new a(g,0)}function f(E,g){if(E.length==0)throw Error("number format error: empty string");if(g=g||10,g<2||36<g)throw Error("radix out of range: "+g);if(E.charAt(0)=="-")return M(f(E.substring(1),g));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const v=h(Math.pow(g,8));let I=y;for(let k=0;k<E.length;k+=8){var C=Math.min(8,E.length-k);const T=parseInt(E.substring(k,k+C),g);C<8?(C=h(Math.pow(g,C)),I=I.j(C).add(h(T))):(I=I.j(v),I=I.add(h(T)))}return I}var y=c(0),_=c(1),P=c(16777216);t=a.prototype,t.m=function(){if(N(this))return-M(this).m();let E=0,g=1;for(let v=0;v<this.g.length;v++){const I=this.i(v);E+=(I>=0?I:4294967296+I)*g,g*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(R(this))return"0";if(N(this))return"-"+M(this).toString(E);const g=h(Math.pow(E,6));var v=this;let I="";for(;;){const C=D(v,g).g;v=m(v,C.j(g));let k=((v.g.length>0?v.g[0]:v.h)>>>0).toString(E);if(v=C,R(v))return k+I;for(;k.length<6;)k="0"+k;I=k+I}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function R(E){if(E.h!=0)return!1;for(let g=0;g<E.g.length;g++)if(E.g[g]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=m(this,E),N(E)?-1:R(E)?0:1};function M(E){const g=E.g.length,v=[];for(let I=0;I<g;I++)v[I]=~E.g[I];return new a(v,~E.h).add(_)}t.abs=function(){return N(this)?M(this):this},t.add=function(E){const g=Math.max(this.g.length,E.g.length),v=[];let I=0;for(let C=0;C<=g;C++){let k=I+(this.i(C)&65535)+(E.i(C)&65535),T=(k>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);I=T>>>16,k&=65535,T&=65535,v[C]=T<<16|k}return new a(v,v[v.length-1]&-2147483648?-1:0)};function m(E,g){return E.add(M(g))}t.j=function(E){if(R(this)||R(E))return y;if(N(this))return N(E)?M(this).j(M(E)):M(M(this).j(E));if(N(E))return M(this.j(M(E)));if(this.l(P)<0&&E.l(P)<0)return h(this.m()*E.m());const g=this.g.length+E.g.length,v=[];for(var I=0;I<2*g;I++)v[I]=0;for(I=0;I<this.g.length;I++)for(let C=0;C<E.g.length;C++){const k=this.i(I)>>>16,T=this.i(I)&65535,Be=E.i(C)>>>16,Xt=E.i(C)&65535;v[2*I+2*C]+=T*Xt,w(v,2*I+2*C),v[2*I+2*C+1]+=k*Xt,w(v,2*I+2*C+1),v[2*I+2*C+1]+=T*Be,w(v,2*I+2*C+1),v[2*I+2*C+2]+=k*Be,w(v,2*I+2*C+2)}for(E=0;E<g;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=g;E<2*g;E++)v[E]=0;return new a(v,0)};function w(E,g){for(;(E[g]&65535)!=E[g];)E[g+1]+=E[g]>>>16,E[g]&=65535,g++}function A(E,g){this.g=E,this.h=g}function D(E,g){if(R(g))throw Error("division by zero");if(R(E))return new A(y,y);if(N(E))return g=D(M(E),g),new A(M(g.g),M(g.h));if(N(g))return g=D(E,M(g)),new A(M(g.g),g.h);if(E.g.length>30){if(N(E)||N(g))throw Error("slowDivide_ only works with positive integers.");for(var v=_,I=g;I.l(E)<=0;)v=O(v),I=O(I);var C=j(v,1),k=j(I,1);for(I=j(I,2),v=j(v,2);!R(I);){var T=k.add(I);T.l(E)<=0&&(C=C.add(v),k=T),I=j(I,1),v=j(v,1)}return g=m(E,C.j(g)),new A(C,g)}for(C=y;E.l(g)>=0;){for(v=Math.max(1,Math.floor(E.m()/g.m())),I=Math.ceil(Math.log(v)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),k=h(v),T=k.j(g);N(T)||T.l(E)>0;)v-=I,k=h(v),T=k.j(g);R(k)&&(k=_),C=C.add(k),E=m(E,T)}return new A(C,E)}t.B=function(E){return D(this,E).h},t.and=function(E){const g=Math.max(this.g.length,E.g.length),v=[];for(let I=0;I<g;I++)v[I]=this.i(I)&E.i(I);return new a(v,this.h&E.h)},t.or=function(E){const g=Math.max(this.g.length,E.g.length),v=[];for(let I=0;I<g;I++)v[I]=this.i(I)|E.i(I);return new a(v,this.h|E.h)},t.xor=function(E){const g=Math.max(this.g.length,E.g.length),v=[];for(let I=0;I<g;I++)v[I]=this.i(I)^E.i(I);return new a(v,this.h^E.h)};function O(E){const g=E.g.length+1,v=[];for(let I=0;I<g;I++)v[I]=E.i(I)<<1|E.i(I-1)>>>31;return new a(v,E.h)}function j(E,g){const v=g>>5;g%=32;const I=E.g.length-v,C=[];for(let k=0;k<I;k++)C[k]=g>0?E.i(k+v)>>>g|E.i(k+v+1)<<32-g:E.i(k+v);return new a(C,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Zy=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,Fn=a}).apply(typeof Ep<"u"?Ep:typeof self<"u"?self:typeof window<"u"?window:{});var No=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e_,ss,t_,Yo,dc,n_,r_,i_;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof No=="object"&&No];for(var u=0;u<o.length;++u){var d=o[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(o,u){if(u)e:{var d=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var x=o[p];if(!(x in d))break e;d=d[x]}o=o[o.length-1],p=d[o],u=u(p),u!=p&&u!=null&&e(d,o,{configurable:!0,writable:!0,value:u})}}i("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(o){return o||function(u){var d=[],p;for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&d.push([p,u[p]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function c(o,u,d){return o.call.apply(o.bind,arguments)}function h(o,u,d){return h=c,h.apply(null,arguments)}function f(o,u){var d=Array.prototype.slice.call(arguments,1);return function(){var p=d.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function y(o,u){function d(){}d.prototype=u.prototype,o.Z=u.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(p,x,V){for(var z=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)z[Z-2]=arguments[Z];return u.prototype[x].apply(p,z)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function P(o){const u=o.length;if(u>0){const d=Array(u);for(let p=0;p<u;p++)d[p]=o[p];return d}return[]}function R(o,u){for(let p=1;p<arguments.length;p++){const x=arguments[p];var d=typeof x;if(d=d!="object"?d:x?Array.isArray(x)?"array":d:"null",d=="array"||d=="object"&&typeof x.length=="number"){d=o.length||0;const V=x.length||0;o.length=d+V;for(let z=0;z<V;z++)o[d+z]=x[z]}else o.push(x)}}class N{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return this.h>0?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function M(o){a.setTimeout(()=>{throw o},0)}function m(){var o=E;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class w{constructor(){this.h=this.g=null}add(u,d){const p=A.get();p.set(u,d),this.h?this.h.next=p:this.g=p,this.h=p}}var A=new N(()=>new D,o=>o.reset());class D{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let O,j=!1,E=new w,g=()=>{const o=Promise.resolve(void 0);O=()=>{o.then(v)}};function v(){for(var o;o=m();){try{o.h.call(o.g)}catch(d){M(d)}var u=A;u.j(o),u.h<100&&(u.h++,o.next=u.g,u.g=o)}j=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,u),a.removeEventListener("test",d,u)}catch{}return o}();function T(o){return/^[\s\xa0]*$/.test(o)}function Be(o,u){C.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,u)}y(Be,C),Be.prototype.init=function(o,u){const d=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget,u||(d=="mouseover"?u=o.fromElement:d=="mouseout"&&(u=o.toElement)),this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Xt="closure_listenable_"+(Math.random()*1e6|0),Pi=0;function ki(o,u,d,p,x){this.listener=o,this.proxy=null,this.src=u,this.type=d,this.capture=!!p,this.ha=x,this.key=++Pi,this.da=this.fa=!1}function B(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Q(o,u,d){for(const p in o)u.call(d,o[p],p,o)}function J(o,u){for(const d in o)u.call(void 0,o[d],d,o)}function pe(o){const u={};for(const d in o)u[d]=o[d];return u}const Se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zn(o,u){let d,p;for(let x=1;x<arguments.length;x++){p=arguments[x];for(d in p)o[d]=p[d];for(let V=0;V<Se.length;V++)d=Se[V],Object.prototype.hasOwnProperty.call(p,d)&&(o[d]=p[d])}}function wt(o){this.src=o,this.g={},this.h=0}wt.prototype.add=function(o,u,d,p,x){const V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);const z=kt(o,u,p,x);return z>-1?(u=o[z],d||(u.fa=!1)):(u=new ki(u,this.src,V,!!p,x),u.fa=d,o.push(u)),u};function er(o,u){const d=u.type;if(d in o.g){var p=o.g[d],x=Array.prototype.indexOf.call(p,u,void 0),V;(V=x>=0)&&Array.prototype.splice.call(p,x,1),V&&(B(u),o.g[d].length==0&&(delete o.g[d],o.h--))}}function kt(o,u,d,p){for(let x=0;x<o.length;++x){const V=o[x];if(!V.da&&V.listener==u&&V.capture==!!d&&V.ha==p)return x}return-1}var dn="closure_lm_"+(Math.random()*1e6|0),cl={};function ed(o,u,d,p,x){if(Array.isArray(u)){for(let V=0;V<u.length;V++)ed(o,u[V],d,p,x);return null}return d=rd(d),o&&o[Xt]?o.J(u,d,l(p)?!!p.capture:!1,x):hv(o,u,d,!1,p,x)}function hv(o,u,d,p,x,V){if(!u)throw Error("Invalid event type");const z=l(x)?!!x.capture:!!x;let Z=dl(o);if(Z||(o[dn]=Z=new wt(o)),d=Z.add(u,d,p,z,V),d.proxy)return d;if(p=dv(),d.proxy=p,p.src=o,p.listener=d,o.addEventListener)k||(x=z),x===void 0&&(x=!1),o.addEventListener(u.toString(),p,x);else if(o.attachEvent)o.attachEvent(nd(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return d}function dv(){function o(d){return u.call(o.src,o.listener,d)}const u=fv;return o}function td(o,u,d,p,x){if(Array.isArray(u))for(var V=0;V<u.length;V++)td(o,u[V],d,p,x);else p=l(p)?!!p.capture:!!p,d=rd(d),o&&o[Xt]?(o=o.i,V=String(u).toString(),V in o.g&&(u=o.g[V],d=kt(u,d,p,x),d>-1&&(B(u[d]),Array.prototype.splice.call(u,d,1),u.length==0&&(delete o.g[V],o.h--)))):o&&(o=dl(o))&&(u=o.g[u.toString()],o=-1,u&&(o=kt(u,d,p,x)),(d=o>-1?u[o]:null)&&hl(d))}function hl(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[Xt])er(u.i,o);else{var d=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(d,p,o.capture):u.detachEvent?u.detachEvent(nd(d),p):u.addListener&&u.removeListener&&u.removeListener(p),(d=dl(u))?(er(d,o),d.h==0&&(d.src=null,u[dn]=null)):B(o)}}}function nd(o){return o in cl?cl[o]:cl[o]="on"+o}function fv(o,u){if(o.da)o=!0;else{u=new Be(u,this);const d=o.listener,p=o.ha||o.src;o.fa&&hl(o),o=d.call(p,u)}return o}function dl(o){return o=o[dn],o instanceof wt?o:null}var fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function rd(o){return typeof o=="function"?o:(o[fl]||(o[fl]=function(u){return o.handleEvent(u)}),o[fl])}function Ke(){I.call(this),this.i=new wt(this),this.M=this,this.G=null}y(Ke,I),Ke.prototype[Xt]=!0,Ke.prototype.removeEventListener=function(o,u,d,p){td(this,o,u,d,p)};function tt(o,u){var d,p=o.G;if(p)for(d=[];p;p=p.G)d.push(p);if(o=o.M,p=u.type||u,typeof u=="string")u=new C(u,o);else if(u instanceof C)u.target=u.target||o;else{var x=u;u=new C(p,o),Zn(u,x)}x=!0;let V,z;if(d)for(z=d.length-1;z>=0;z--)V=u.g=d[z],x=to(V,p,!0,u)&&x;if(V=u.g=o,x=to(V,p,!0,u)&&x,x=to(V,p,!1,u)&&x,d)for(z=0;z<d.length;z++)V=u.g=d[z],x=to(V,p,!1,u)&&x}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var o=this.i;for(const u in o.g){const d=o.g[u];for(let p=0;p<d.length;p++)B(d[p]);delete o.g[u],o.h--}}this.G=null},Ke.prototype.J=function(o,u,d,p){return this.i.add(String(o),u,!1,d,p)},Ke.prototype.K=function(o,u,d,p){return this.i.add(String(o),u,!0,d,p)};function to(o,u,d,p){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();let x=!0;for(let V=0;V<u.length;++V){const z=u[V];if(z&&!z.da&&z.capture==d){const Z=z.listener,Ve=z.ha||z.src;z.fa&&er(o.i,z),x=Z.call(Ve,p)!==!1&&x}}return x&&!p.defaultPrevented}function pv(o,u){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(u)>2147483647?-1:a.setTimeout(o,u||0)}function id(o){o.g=pv(()=>{o.g=null,o.i&&(o.i=!1,id(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class mv extends I{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:id(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(o){I.call(this),this.h=o,this.g={}}y(xi,I);var sd=[];function od(o){Q(o.g,function(u,d){this.g.hasOwnProperty(d)&&hl(u)},o),o.g={}}xi.prototype.N=function(){xi.Z.N.call(this),od(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pl=a.JSON.stringify,gv=a.JSON.parse,yv=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function ad(){}function ld(){}var Ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ml(){C.call(this,"d")}y(ml,C);function gl(){C.call(this,"c")}y(gl,C);var tr={},ud=null;function no(){return ud=ud||new Ke}tr.Ia="serverreachability";function cd(o){C.call(this,tr.Ia,o)}y(cd,C);function Vi(o){const u=no();tt(u,new cd(u))}tr.STAT_EVENT="statevent";function hd(o,u){C.call(this,tr.STAT_EVENT,o),this.stat=u}y(hd,C);function nt(o){const u=no();tt(u,new hd(u,o))}tr.Ja="timingevent";function dd(o,u){C.call(this,tr.Ja,o),this.size=u}y(dd,C);function Di(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},u)}function Li(){this.g=!0}Li.prototype.ua=function(){this.g=!1};function _v(o,u,d,p,x,V){o.info(function(){if(o.g)if(V){var z="",Z=V.split("&");for(let le=0;le<Z.length;le++){var Ve=Z[le].split("=");if(Ve.length>1){const be=Ve[0];Ve=Ve[1];const jt=be.split("_");z=jt.length>=2&&jt[1]=="type"?z+(be+"="+Ve+"&"):z+(be+"=redacted&")}}}else z=null;else z=V;return"XMLHTTP REQ ("+p+") [attempt "+x+"]: "+u+`
`+d+`
`+z})}function vv(o,u,d,p,x,V,z){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+x+"]: "+u+`
`+d+`
`+V+" "+z})}function kr(o,u,d,p){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+wv(o,d)+(p?" "+p:"")})}function Ev(o,u){o.info(function(){return"TIMEOUT: "+u})}Li.prototype.info=function(){};function wv(o,u){if(!o.g)return u;if(!u)return null;try{const V=JSON.parse(u);if(V){for(o=0;o<V.length;o++)if(Array.isArray(V[o])){var d=V[o];if(!(d.length<2)){var p=d[1];if(Array.isArray(p)&&!(p.length<1)){var x=p[0];if(x!="noop"&&x!="stop"&&x!="close")for(let z=1;z<p.length;z++)p[z]=""}}}}return pl(V)}catch{return u}}var ro={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pd;function yl(){}y(yl,ad),yl.prototype.g=function(){return new XMLHttpRequest},pd=new yl;function Mi(o){return encodeURIComponent(String(o))}function Tv(o){var u=1;o=o.split(":");const d=[];for(;u>0&&o.length;)d.push(o.shift()),u--;return o.length&&d.push(o.join(":")),d}function fn(o,u,d,p){this.j=o,this.i=u,this.l=d,this.S=p||1,this.V=new xi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new md}function md(){this.i=null,this.g="",this.h=!1}var gd={},_l={};function vl(o,u,d){o.M=1,o.A=so(bt(u)),o.u=d,o.R=!0,yd(o,null)}function yd(o,u){o.F=Date.now(),io(o),o.B=bt(o.A);var d=o.B,p=o.S;Array.isArray(p)||(p=[String(p)]),xd(d.i,"t",p),o.C=0,d=o.j.L,o.h=new md,o.g=Wd(o.j,d?u:null,!o.u),o.P>0&&(o.O=new mv(h(o.Y,o,o.g),o.P)),u=o.V,d=o.g,p=o.ba;var x="readystatechange";Array.isArray(x)||(x&&(sd[0]=x.toString()),x=sd);for(let V=0;V<x.length;V++){const z=ed(d,x[V],p||u.handleEvent,!1,u.h||u);if(!z)break;u.g[z.key]=z}u=o.J?pe(o.J):{},o.u?(o.v||(o.v="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,u)):(o.v="GET",o.g.ea(o.B,o.v,null,u)),Vi(),_v(o.i,o.v,o.B,o.l,o.S,o.u)}fn.prototype.ba=function(o){o=o.target;const u=this.O;u&&gn(o)==3?u.j():this.Y(o)},fn.prototype.Y=function(o){try{if(o==this.g)e:{const Z=gn(this.g),Ve=this.g.ya(),le=this.g.ca();if(!(Z<3)&&(Z!=3||this.g&&(this.h.h||this.g.la()||bd(this.g)))){this.K||Z!=4||Ve==7||(Ve==8||le<=0?Vi(3):Vi(2)),El(this);var u=this.g.ca();this.X=u;var d=Sv(this);if(this.o=u==200,vv(this.i,this.v,this.B,this.l,this.S,Z,u),this.o){if(this.U&&!this.L){t:{if(this.g){var p,x=this.g;if((p=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(p)){var V=p;break t}}V=null}if(o=V)kr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wl(this,o);else{this.o=!1,this.m=3,nt(12),nr(this),Oi(this);break e}}if(this.R){o=!0;let be;for(;!this.K&&this.C<d.length;)if(be=Iv(this,d),be==_l){Z==4&&(this.m=4,nt(14),o=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(be==gd){this.m=4,nt(15),kr(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else kr(this.i,this.l,be,null),wl(this,be);if(_d(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Z!=4||d.length!=0||this.h.h||(this.m=1,nt(16),o=!1),this.o=this.o&&o,!o)kr(this.i,this.l,d,"[Invalid Chunked Response]"),nr(this),Oi(this);else if(d.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),kl(z),z.P=!0,nt(11))}}else kr(this.i,this.l,d,null),wl(this,d);Z==4&&nr(this),this.o&&!this.K&&(Z==4?qd(this.j,this):(this.o=!1,io(this)))}else jv(this.g),u==400&&d.indexOf("Unknown SID")>0?(this.m=3,nt(12)):(this.m=0,nt(13)),nr(this),Oi(this)}}}catch{}finally{}};function Sv(o){if(!_d(o))return o.g.la();const u=bd(o.g);if(u==="")return"";let d="";const p=u.length,x=gn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return nr(o),Oi(o),"";o.h.i=new a.TextDecoder}for(let V=0;V<p;V++)o.h.h=!0,d+=o.h.i.decode(u[V],{stream:!(x&&V==p-1)});return u.length=0,o.h.g+=d,o.C=0,o.h.g}function _d(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function Iv(o,u){var d=o.C,p=u.indexOf(`
`,d);return p==-1?_l:(d=Number(u.substring(d,p)),isNaN(d)?gd:(p+=1,p+d>u.length?_l:(u=u.slice(p,p+d),o.C=p+d,u)))}fn.prototype.cancel=function(){this.K=!0,nr(this)};function io(o){o.T=Date.now()+o.H,vd(o,o.H)}function vd(o,u){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Di(h(o.aa,o),u)}function El(o){o.D&&(a.clearTimeout(o.D),o.D=null)}fn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Ev(this.i,this.B),this.M!=2&&(Vi(),nt(17)),nr(this),this.m=2,Oi(this)):vd(this,this.T-o)};function Oi(o){o.j.I==0||o.K||qd(o.j,o)}function nr(o){El(o);var u=o.O;u&&typeof u.dispose=="function"&&u.dispose(),o.O=null,od(o.V),o.g&&(u=o.g,o.g=null,u.abort(),u.dispose())}function wl(o,u){try{var d=o.j;if(d.I!=0&&(d.g==o||Tl(d.h,o))){if(!o.L&&Tl(d.h,o)&&d.I==3){try{var p=d.Ba.g.parse(u)}catch{p=null}if(Array.isArray(p)&&p.length==3){var x=p;if(x[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)co(d),lo(d);else break e;Pl(d),nt(18)}}else d.xa=x[1],0<d.xa-d.K&&x[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=Di(h(d.Va,d),6e3));Td(d.h)<=1&&d.ta&&(d.ta=void 0)}else ir(d,11)}else if((o.L||d.g==o)&&co(d),!T(u))for(x=d.Ba.g.parse(u),u=0;u<x.length;u++){let le=x[u];const be=le[0];if(!(be<=d.K))if(d.K=be,le=le[1],d.I==2)if(le[0]=="c"){d.M=le[1],d.ba=le[2];const jt=le[3];jt!=null&&(d.ka=jt,d.j.info("VER="+d.ka));const sr=le[4];sr!=null&&(d.za=sr,d.j.info("SVER="+d.za));const yn=le[5];yn!=null&&typeof yn=="number"&&yn>0&&(p=1.5*yn,d.O=p,d.j.info("backChannelRequestTimeoutMs_="+p)),p=d;const _n=o.g;if(_n){const fo=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fo){var V=p.h;V.g||fo.indexOf("spdy")==-1&&fo.indexOf("quic")==-1&&fo.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Sl(V,V.h),V.h=null))}if(p.G){const xl=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;xl&&(p.wa=xl,ce(p.J,p.G,xl))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),p=d;var z=o;if(p.na=Kd(p,p.L?p.ba:null,p.W),z.L){Sd(p.h,z);var Z=z,Ve=p.O;Ve&&(Z.H=Ve),Z.D&&(El(Z),io(Z)),p.g=z}else Ud(p);d.i.length>0&&uo(d)}else le[0]!="stop"&&le[0]!="close"||ir(d,7);else d.I==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?ir(d,7):Rl(d):le[0]!="noop"&&d.l&&d.l.qa(le),d.A=0)}}Vi(4)}catch{}}var Cv=class{constructor(o,u){this.g=o,this.map=u}};function Ed(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wd(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Td(o){return o.h?1:o.g?o.g.size:0}function Tl(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function Sl(o,u){o.g?o.g.add(u):o.h=u}function Sd(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}Ed.prototype.cancel=function(){if(this.i=Id(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Id(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const d of o.g.values())u=u.concat(d.G);return u}return P(o.i)}var Cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Av(o,u){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const p=o[d].indexOf("=");let x,V=null;p>=0?(x=o[d].substring(0,p),V=o[d].substring(p+1)):x=o[d],u(x,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function pn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let u;o instanceof pn?(this.l=o.l,bi(this,o.j),this.o=o.o,this.g=o.g,ji(this,o.u),this.h=o.h,Il(this,Nd(o.i)),this.m=o.m):o&&(u=String(o).match(Cd))?(this.l=!1,bi(this,u[1]||"",!0),this.o=Fi(u[2]||""),this.g=Fi(u[3]||"",!0),ji(this,u[4]),this.h=Fi(u[5]||"",!0),Il(this,u[6]||"",!0),this.m=Fi(u[7]||"")):(this.l=!1,this.i=new Bi(null,this.l))}pn.prototype.toString=function(){const o=[];var u=this.j;u&&o.push(zi(u,Ad,!0),":");var d=this.g;return(d||u=="file")&&(o.push("//"),(u=this.o)&&o.push(zi(u,Ad,!0),"@"),o.push(Mi(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(zi(d,d.charAt(0)=="/"?kv:Pv,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",zi(d,Nv)),o.join("")},pn.prototype.resolve=function(o){const u=bt(this);let d=!!o.j;d?bi(u,o.j):d=!!o.o,d?u.o=o.o:d=!!o.g,d?u.g=o.g:d=o.u!=null;var p=o.h;if(d)ji(u,o.u);else if(d=!!o.h){if(p.charAt(0)!="/")if(this.g&&!this.h)p="/"+p;else{var x=u.h.lastIndexOf("/");x!=-1&&(p=u.h.slice(0,x+1)+p)}if(x=p,x==".."||x==".")p="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){p=x.lastIndexOf("/",0)==0,x=x.split("/");const V=[];for(let z=0;z<x.length;){const Z=x[z++];Z=="."?p&&z==x.length&&V.push(""):Z==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),p&&z==x.length&&V.push("")):(V.push(Z),p=!0)}p=V.join("/")}else p=x}return d?u.h=p:d=o.i.toString()!=="",d?Il(u,Nd(o.i)):d=!!o.m,d&&(u.m=o.m),u};function bt(o){return new pn(o)}function bi(o,u,d){o.j=d?Fi(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function ji(o,u){if(u){if(u=Number(u),isNaN(u)||u<0)throw Error("Bad port number "+u);o.u=u}else o.u=null}function Il(o,u,d){u instanceof Bi?(o.i=u,Vv(o.i,o.l)):(d||(u=zi(u,xv)),o.i=new Bi(u,o.l))}function ce(o,u,d){o.i.set(u,d)}function so(o){return ce(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Fi(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function zi(o,u,d){return typeof o=="string"?(o=encodeURI(o).replace(u,Rv),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Rv(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ad=/[#\/\?@]/g,Pv=/[#\?:]/g,kv=/[#\?]/g,xv=/[#\?@]/g,Nv=/#/g;function Bi(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function rr(o){o.g||(o.g=new Map,o.h=0,o.i&&Av(o.i,function(u,d){o.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}t=Bi.prototype,t.add=function(o,u){rr(this),this.i=null,o=xr(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(u),this.h+=1,this};function Rd(o,u){rr(o),u=xr(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Pd(o,u){return rr(o),u=xr(o,u),o.g.has(u)}t.forEach=function(o,u){rr(this),this.g.forEach(function(d,p){d.forEach(function(x){o.call(u,x,p,this)},this)},this)};function kd(o,u){rr(o);let d=[];if(typeof u=="string")Pd(o,u)&&(d=d.concat(o.g.get(xr(o,u))));else for(o=Array.from(o.g.values()),u=0;u<o.length;u++)d=d.concat(o[u]);return d}t.set=function(o,u){return rr(this),this.i=null,o=xr(this,o),Pd(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},t.get=function(o,u){return o?(o=kd(this,o),o.length>0?String(o[0]):u):u};function xd(o,u,d){Rd(o,u),d.length>0&&(o.i=null,o.g.set(xr(o,u),P(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(let p=0;p<u.length;p++){var d=u[p];const x=Mi(d);d=kd(this,d);for(let V=0;V<d.length;V++){let z=x;d[V]!==""&&(z+="="+Mi(d[V])),o.push(z)}}return this.i=o.join("&")};function Nd(o){const u=new Bi;return u.i=o.i,o.g&&(u.g=new Map(o.g),u.h=o.h),u}function xr(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Vv(o,u){u&&!o.j&&(rr(o),o.i=null,o.g.forEach(function(d,p){const x=p.toLowerCase();p!=x&&(Rd(this,p),xd(this,x,d))},o)),o.j=u}function Dv(o,u){const d=new Li;if(a.Image){const p=new Image;p.onload=f(mn,d,"TestLoadImage: loaded",!0,u,p),p.onerror=f(mn,d,"TestLoadImage: error",!1,u,p),p.onabort=f(mn,d,"TestLoadImage: abort",!1,u,p),p.ontimeout=f(mn,d,"TestLoadImage: timeout",!1,u,p),a.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else u(!1)}function Lv(o,u){const d=new Li,p=new AbortController,x=setTimeout(()=>{p.abort(),mn(d,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:p.signal}).then(V=>{clearTimeout(x),V.ok?mn(d,"TestPingServer: ok",!0,u):mn(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(x),mn(d,"TestPingServer: error",!1,u)})}function mn(o,u,d,p,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),p(d)}catch{}}function Mv(){this.g=new yv}function Cl(o){this.i=o.Sb||null,this.h=o.ab||!1}y(Cl,ad),Cl.prototype.g=function(){return new oo(this.i,this.h)};function oo(o,u){Ke.call(this),this.H=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(oo,Ke),t=oo.prototype,t.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=u,this.readyState=1,$i(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const u={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(u.body=o),(this.H||a).fetch(new Request(this.D,u)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ui(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vd(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vd(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.B.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Ui(this):$i(this),this.readyState==3&&Vd(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,Ui(this))},t.Na=function(o){this.g&&(this.response=o,Ui(this))},t.ga=function(){this.g&&Ui(this)};function Ui(o){o.readyState=4,o.l=null,o.j=null,o.B=null,$i(o)}t.setRequestHeader=function(o,u){this.A.append(o,u)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=u.next();return o.join(`\r
`)};function $i(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Dd(o){let u="";return Q(o,function(d,p){u+=p,u+=":",u+=d,u+=`\r
`}),u}function Al(o,u,d){e:{for(p in d){var p=!1;break e}p=!0}p||(d=Dd(d),typeof o=="string"?d!=null&&Mi(d):ce(o,u,d))}function we(o){Ke.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(we,Ke);var Ov=/^https?$/i,bv=["POST","PUT"];t=we.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,u,d,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pd.g(),this.g.onreadystatechange=_(h(this.Ca,this));try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(V){Ld(this,V);return}if(o=d||"",d=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var x in p)d.set(x,p[x]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const V of p.keys())d.set(V,p.get(V));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),x=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(bv,u,void 0)>=0)||p||x||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of d)this.g.setRequestHeader(V,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(V){Ld(this,V)}};function Ld(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.o=5,Md(o),ao(o)}function Md(o){o.A||(o.A=!0,tt(o,"complete"),tt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,tt(this,"complete"),tt(this,"abort"),ao(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ao(this,!0)),we.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Od(this):this.Xa())},t.Xa=function(){Od(this)};function Od(o){if(o.h&&typeof s<"u"){if(o.v&&gn(o)==4)setTimeout(o.Ca.bind(o),0);else if(tt(o,"readystatechange"),gn(o)==4){o.h=!1;try{const V=o.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var d;if(!(d=u)){var p;if(p=V===0){let z=String(o.D).match(Cd)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),p=!Ov.test(z?z.toLowerCase():"")}d=p}if(d)tt(o,"complete"),tt(o,"success");else{o.o=6;try{var x=gn(o)>2?o.g.statusText:""}catch{x=""}o.l=x+" ["+o.ca()+"]",Md(o)}}finally{ao(o)}}}}function ao(o,u){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,u||tt(o,"ready");try{d.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function gn(o){return o.g?o.g.readyState:0}t.ca=function(){try{return gn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),gv(u)}};function bd(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function jv(o){const u={};o=(o.g&&gn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(T(o[p]))continue;var d=Tv(o[p]);const x=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=u[x]||[];u[x]=V,V.push(d)}J(u,function(p){return p.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(o,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||u}function jd(o){this.za=0,this.i=[],this.j=new Li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,o),this.Za=qi("retryDelaySeedMs",1e4,o),this.Ta=qi("forwardChannelMaxRetries",2,o),this.va=qi("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Ed(o&&o.concurrentRequestLimit),this.Ba=new Mv,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=jd.prototype,t.ka=8,t.I=1,t.connect=function(o,u,d,p){nt(0),this.W=o,this.H=u||{},d&&p!==void 0&&(this.H.OSID=d,this.H.OAID=p),this.F=this.X,this.J=Kd(this,null,this.W),uo(this)};function Rl(o){if(Fd(o),o.I==3){var u=o.V++,d=bt(o.J);if(ce(d,"SID",o.M),ce(d,"RID",u),ce(d,"TYPE","terminate"),Hi(o,d),u=new fn(o,o.j,u),u.M=2,u.A=so(bt(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(u.A.toString(),"")}catch{}!d&&a.Image&&(new Image().src=u.A,d=!0),d||(u.g=Wd(u.j,null),u.g.ea(u.A)),u.F=Date.now(),io(u)}Gd(o)}function lo(o){o.g&&(kl(o),o.g.cancel(),o.g=null)}function Fd(o){lo(o),o.v&&(a.clearTimeout(o.v),o.v=null),co(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function uo(o){if(!wd(o.h)&&!o.m){o.m=!0;var u=o.Ea;O||g(),j||(O(),j=!0),E.add(u,o),o.D=0}}function Fv(o,u){return Td(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=u.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Di(h(o.Ea,o,u),Hd(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const x=new fn(this,this.j,o);let V=this.o;if(this.U&&(V?(V=pe(V),Zn(V,this.U)):V=this.U),this.u!==null||this.R||(x.J=V,V=null),this.S)e:{for(var u=0,d=0;d<this.i.length;d++){t:{var p=this.i[d];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(u+=p,u>4096){u=d;break e}if(u===4096||d===this.i.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=Bd(this,x,u),d=bt(this.J),ce(d,"RID",o),ce(d,"CVER",22),this.G&&ce(d,"X-HTTP-Session-Id",this.G),Hi(this,d),V&&(this.R?u="headers="+Mi(Dd(V))+"&"+u:this.u&&Al(d,this.u,V)),Sl(this.h,x),this.Ra&&ce(d,"TYPE","init"),this.S?(ce(d,"$req",u),ce(d,"SID","null"),x.U=!0,vl(x,d,null)):vl(x,d,u),this.I=2}}else this.I==3&&(o?zd(this,o):this.i.length==0||wd(this.h)||zd(this))};function zd(o,u){var d;u?d=u.l:d=o.V++;const p=bt(o.J);ce(p,"SID",o.M),ce(p,"RID",d),ce(p,"AID",o.K),Hi(o,p),o.u&&o.o&&Al(p,o.u,o.o),d=new fn(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),u&&(o.i=u.G.concat(o.i)),u=Bd(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Sl(o.h,d),vl(d,p,u)}function Hi(o,u){o.H&&Q(o.H,function(d,p){ce(u,p,d)}),o.l&&Q({},function(d,p){ce(u,p,d)})}function Bd(o,u,d){d=Math.min(o.i.length,d);const p=o.l?h(o.l.Ka,o.l,o):null;e:{var x=o.i;let Z=-1;for(;;){const Ve=["count="+d];Z==-1?d>0?(Z=x[0].g,Ve.push("ofs="+Z)):Z=0:Ve.push("ofs="+Z);let le=!0;for(let be=0;be<d;be++){var V=x[be].g;const jt=x[be].map;if(V-=Z,V<0)Z=Math.max(0,x[be].g-100),le=!1;else try{V="req"+V+"_"||"";try{var z=jt instanceof Map?jt:Object.entries(jt);for(const[sr,yn]of z){let _n=yn;l(yn)&&(_n=pl(yn)),Ve.push(V+sr+"="+encodeURIComponent(_n))}}catch(sr){throw Ve.push(V+"type="+encodeURIComponent("_badmap")),sr}}catch{p&&p(jt)}}if(le){z=Ve.join("&");break e}}z=void 0}return o=o.i.splice(0,d),u.G=o,z}function Ud(o){if(!o.g&&!o.v){o.Y=1;var u=o.Da;O||g(),j||(O(),j=!0),E.add(u,o),o.A=0}}function Pl(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Di(h(o.Da,o),Hd(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,$d(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Di(h(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nt(10),lo(this),$d(this))};function kl(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function $d(o){o.g=new fn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var u=bt(o.na);ce(u,"RID","rpc"),ce(u,"SID",o.M),ce(u,"AID",o.K),ce(u,"CI",o.F?"0":"1"),!o.F&&o.ia&&ce(u,"TO",o.ia),ce(u,"TYPE","xmlhttp"),Hi(o,u),o.u&&o.o&&Al(u,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=so(bt(u)),d.u=null,d.R=!0,yd(d,o)}t.Va=function(){this.C!=null&&(this.C=null,lo(this),Pl(this),nt(19))};function co(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function qd(o,u){var d=null;if(o.g==u){co(o),kl(o),o.g=null;var p=2}else if(Tl(o.h,u))d=u.G,Sd(o.h,u),p=1;else return;if(o.I!=0){if(u.o)if(p==1){d=u.u?u.u.length:0,u=Date.now()-u.F;var x=o.D;p=no(),tt(p,new dd(p,d)),uo(o)}else Ud(o);else if(x=u.m,x==3||x==0&&u.X>0||!(p==1&&Fv(o,u)||p==2&&Pl(o)))switch(d&&d.length>0&&(u=o.h,u.i=u.i.concat(d)),x){case 1:ir(o,5);break;case 4:ir(o,10);break;case 3:ir(o,6);break;default:ir(o,2)}}}function Hd(o,u){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*u}function ir(o,u){if(o.j.info("Error code "+u),u==2){var d=h(o.bb,o),p=o.Ua;const x=!p;p=new pn(p||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bi(p,"https"),so(p),x?Dv(p.toString(),d):Lv(p.toString(),d)}else nt(2);o.I=0,o.l&&o.l.pa(u),Gd(o),Fd(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Gd(o){if(o.I=0,o.ja=[],o.l){const u=Id(o.h);(u.length!=0||o.i.length!=0)&&(R(o.ja,u),R(o.ja,o.i),o.h.i.length=0,P(o.i),o.i.length=0),o.l.oa()}}function Kd(o,u,d){var p=d instanceof pn?bt(d):new pn(d);if(p.g!="")u&&(p.g=u+"."+p.g),ji(p,p.u);else{var x=a.location;p=x.protocol,u=u?u+"."+x.hostname:x.hostname,x=+x.port;const V=new pn(null);p&&bi(V,p),u&&(V.g=u),x&&ji(V,x),d&&(V.h=d),p=V}return d=o.G,u=o.wa,d&&u&&ce(p,d,u),ce(p,"VER",o.ka),Hi(o,p),p}function Wd(o,u,d){if(u&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Aa&&!o.ma?new we(new Cl({ab:d})):new we(o.ma),u.Fa(o.L),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qd(){}t=Qd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ho(){}ho.prototype.g=function(o,u){return new pt(o,u)};function pt(o,u){Ke.call(this),this.g=new jd(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.sa&&(o?o["X-WebChannel-Client-Profile"]=u.sa:o={"X-WebChannel-Client-Profile":u.sa}),this.g.U=o,(o=u&&u.Qb)&&!T(o)&&(this.g.u=o),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!T(u)&&(this.g.G=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Nr(this)}y(pt,Ke),pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pt.prototype.close=function(){Rl(this.g)},pt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=pl(o),o=d);u.i.push(new Cv(u.Ya++,o)),u.I==3&&uo(u)},pt.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,pt.Z.N.call(this)};function Yd(o){ml.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(const d in u){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}y(Yd,ml);function Xd(){gl.call(this),this.status=1}y(Xd,gl);function Nr(o){this.g=o}y(Nr,Qd),Nr.prototype.ra=function(){tt(this.g,"a")},Nr.prototype.qa=function(o){tt(this.g,new Yd(o))},Nr.prototype.pa=function(o){tt(this.g,new Xd)},Nr.prototype.oa=function(){tt(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,pt.prototype.send=pt.prototype.o,pt.prototype.open=pt.prototype.m,pt.prototype.close=pt.prototype.close,i_=function(){return new ho},r_=function(){return no()},n_=tr,dc={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ro.NO_ERROR=0,ro.TIMEOUT=8,ro.HTTP_ERROR=6,Yo=ro,fd.COMPLETE="complete",t_=fd,ld.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,ss=ld,we.prototype.listenOnce=we.prototype.K,we.prototype.getLastError=we.prototype.Ha,we.prototype.getLastErrorCode=we.prototype.ya,we.prototype.getStatus=we.prototype.ca,we.prototype.getResponseJson=we.prototype.La,we.prototype.getResponseText=we.prototype.la,we.prototype.send=we.prototype.ea,we.prototype.setWithCredentials=we.prototype.Fa,e_=we}).apply(typeof No<"u"?No:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ci="12.9.0";function rT(t){Ci=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Ky("@firebase/firestore");function Dr(){return Ir.logLevel}function U(t,...e){if(Ir.logLevel<=re.DEBUG){const n=e.map(Dh);Ir.debug(`Firestore (${Ci}): ${t}`,...n)}}function cn(t,...e){if(Ir.logLevel<=re.ERROR){const n=e.map(Dh);Ir.error(`Firestore (${Ci}): ${t}`,...n)}}function Cr(t,...e){if(Ir.logLevel<=re.WARN){const n=e.map(Dh);Ir.warn(`Firestore (${Ci}): ${t}`,...n)}}function Dh(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,s_(t,r,n)}function s_(t,e,n){let r=`FIRESTORE (${Ci}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cn(r),new Error(r)}function ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||s_(e,i,r)}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}}class sT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oT{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new o_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class aT{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class lT{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new aT(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uT{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Uw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);const r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,U("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=cT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function fc(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return au(i)===au(s)?te(i,s):au(i)?1:-1}return te(t.length,e.length)}const hT=55296,dT=57343;function au(t){const e=t.charCodeAt(0);return e>=hT&&e<=dT}function mi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="__name__";class Ut{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ut.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ut?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ut.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return te(e.length,n.length)}static compareSegments(e,n){const r=Ut.isNumericId(e),i=Ut.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ut.extractNumericId(e).compare(Ut.extractNumericId(n)):fc(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fn.fromString(e.substring(4,e.length-2))}}class ye extends Ut{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const fT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends Ut{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return fT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tp}static keyField(){return new it([Tp])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new G(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new G(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(ye.fromString(e))}static fromName(e){return new W(ye.fromString(e).popFirst(5))}static empty(){return new W(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e,n){if(!n)throw new G(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mT(t,e,n,r){if(e===!0&&r===!0)throw new G(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sp(t){if(W.isDocumentKey(t))throw new G(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function pc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yT(t);throw new G(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ys(t,e){if(!gT(t))throw new G(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new G(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=-62135596800,Cp=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Cp);return new ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ip)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cp}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ys(e,ke._jsonSchema))return new ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ip;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ke._jsonSchemaVersion="firestore/timestamp/1.0",ke._jsonSchema={type:Ne("string",ke._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{static fromTimestamp(e){return new Y(e)}static min(){return new Y(new ke(0,0))}static max(){return new Y(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=-1;function _T(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new qn(i,W.empty(),e)}function vT(t){return new qn(t.readTime,t.key,Bs)}class qn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qn(Y.min(),W.empty(),Bs)}static max(){return new qn(Y.max(),W.empty(),Bs)}}function ET(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==wT)throw t;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(f=>{a[h]=f,++l,l===s&&r(a)},f=>i(f))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ST(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ai(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Za.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=-1;function el(t){return t==null}function mc(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="";function CT(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ap(e)),e=AT(t.get(n),e);return Ap(e)}function AT(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case l_:n+="";break;default:n+=s}}return n}function Ap(t){return t+l_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.comparator=e,this.root=n||$e.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$e.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vo(this.root,e,this.comparator,!0)}}class Vo{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $e{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??$e.RED,this.left=i??$e.EMPTY,this.right=s??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new $e(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new $e(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pp(this.data.getIterator())}getIteratorFrom(e){return new Pp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oe(this.comparator);return n.data=e,n}}class Pp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Oe(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new u_("Invalid base64 string: "+s):s}}(e);return new Ge(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Ge(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const PT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hn(t){if(ve(!!t,39018),typeof t=="string"){let e=0;const n=PT.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ie(t.seconds),nanos:Ie(t.nanos)}}function Ie(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gn(t){return typeof t=="string"?Ge.fromBase64String(t):Ge.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="server_timestamp",h_="__type__",d_="__previous_value__",f_="__local_write_time__";function Lh(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[h_])==null?void 0:r.stringValue)===c_}function tl(t){const e=t.mapValue.fields[d_];return Lh(e)?tl(e):e}function Us(t){const e=Hn(t.mapValue.fields[f_].timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,r,i,s,a,l,c,h,f,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=f,this.apiKey=y}}const ka="(default)";class $s{constructor(e,n){this.projectId=e,this.database=n||ka}static empty(){return new $s("","")}get isDefaultDatabase(){return this.database===ka}isEqual(e){return e instanceof $s&&e.projectId===this.projectId&&e.database===this.database}}function xT(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new G(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $s(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="__type__",VT="__max__",Do={mapValue:{}},DT="__vector__",gc="value";function Kn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lh(t)?4:MT(t)?9007199254740991:LT(t)?10:11:X(28295,{value:t})}function Qt(t,e){if(t===e)return!0;const n=Kn(t);if(n!==Kn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Us(t).isEqual(Us(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Hn(i.timestampValue),l=Hn(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Gn(i.bytesValue).isEqual(Gn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ie(i.geoPointValue.latitude)===Ie(s.geoPointValue.latitude)&&Ie(i.geoPointValue.longitude)===Ie(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ie(i.integerValue)===Ie(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Ie(i.doubleValue),l=Ie(s.doubleValue);return a===l?mc(a)===mc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return mi(t.arrayValue.values||[],e.arrayValue.values||[],Qt);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Rp(a)!==Rp(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Qt(a[c],l[c])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function qs(t,e){return(t.values||[]).find(n=>Qt(n,e))!==void 0}function gi(t,e){if(t===e)return 0;const n=Kn(t),r=Kn(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ie(s.integerValue||s.doubleValue),c=Ie(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return kp(t.timestampValue,e.timestampValue);case 4:return kp(Us(t),Us(e));case 5:return fc(t.stringValue,e.stringValue);case 6:return function(s,a){const l=Gn(s),c=Gn(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=te(l[h],c[h]);if(f!==0)return f}return te(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=te(Ie(s.latitude),Ie(a.latitude));return l!==0?l:te(Ie(s.longitude),Ie(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xp(t.arrayValue,e.arrayValue);case 10:return function(s,a){var _,P,R,N;const l=s.fields||{},c=a.fields||{},h=(_=l[gc])==null?void 0:_.arrayValue,f=(P=c[gc])==null?void 0:P.arrayValue,y=te(((R=h==null?void 0:h.values)==null?void 0:R.length)||0,((N=f==null?void 0:f.values)==null?void 0:N.length)||0);return y!==0?y:xp(h,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Do.mapValue&&a===Do.mapValue)return 0;if(s===Do.mapValue)return 1;if(a===Do.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=a.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let y=0;y<c.length&&y<f.length;++y){const _=fc(c[y],f[y]);if(_!==0)return _;const P=gi(l[c[y]],h[f[y]]);if(P!==0)return P}return te(c.length,f.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function kp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return te(t,e);const n=Hn(t),r=Hn(e),i=te(n.seconds,r.seconds);return i!==0?i:te(n.nanos,r.nanos)}function xp(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=gi(n[i],r[i]);if(s)return s}return te(n.length,r.length)}function yi(t){return yc(t)}function yc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=yc(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${yc(n.fields[a])}`;return i+"}"}(t.mapValue):X(61005,{value:t})}function Xo(t){switch(Kn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tl(t);return e?16+Xo(e):16;case 5:return 2*t.stringValue.length;case 6:return Gn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Xo(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Xs(r.fields,(s,a)=>{i+=s.length+Xo(a)}),i}(t.mapValue);default:throw X(13486,{value:t})}}function _c(t){return!!t&&"integerValue"in t}function Mh(t){return!!t&&"arrayValue"in t}function Np(t){return!!t&&"nullValue"in t}function Vp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lu(t){return!!t&&"mapValue"in t}function LT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NT])==null?void 0:r.stringValue)===DT}function _s(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_s(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_s(t.arrayValue.values[n]);return e}return{...t}}function MT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_s(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=_s(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());lu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(_s(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Ze(e,0,Y.min(),Y.min(),Y.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ze(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new Ze(e,2,n,Y.min(),Y.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new Ze(e,3,n,Y.min(),Y.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.position=e,this.inclusive=n}}function Dp(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=W.comparator(W.fromName(a.referenceValue),n.key):r=gi(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n="asc"){this.field=e,this.dir=n}}function OT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{}class Le extends p_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jT(e,n,r):n==="array-contains"?new BT(e,r):n==="in"?new UT(e,r):n==="not-in"?new $T(e,r):n==="array-contains-any"?new qT(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FT(e,r):new zT(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gi(n,this.value)):n!==null&&Kn(this.value)===Kn(n)&&this.matchesComparison(gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yt extends p_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yt(e,n)}matches(e){return m_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m_(t){return t.op==="and"}function g_(t){return bT(t)&&m_(t)}function bT(t){for(const e of t.filters)if(e instanceof Yt)return!1;return!0}function vc(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+yi(t.value);if(g_(t))return t.filters.map(e=>vc(e)).join(",");{const e=t.filters.map(n=>vc(n)).join(",");return`${t.op}(${e})`}}function y_(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&Qt(r.value,i.value)}(t,e):t instanceof Yt?function(r,i){return i instanceof Yt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&y_(a,i.filters[l]),!0):!1}(t,e):void X(19439)}function __(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${yi(n.value)}`}(t):t instanceof Yt?function(n){return n.op.toString()+" {"+n.getFilters().map(__).join(" ,")+"}"}(t):"Filter"}class jT extends Le{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class FT extends Le{constructor(e,n){super(e,"in",n),this.keys=v_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zT extends Le{constructor(e,n){super(e,"not-in",n),this.keys=v_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function v_(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class BT extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mh(n)&&qs(n.arrayValue,this.value)}}class UT extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qs(this.value.arrayValue,n)}}class $T extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qs(this.value.arrayValue,n)}}class qT extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function Mp(t,e=null,n=[],r=[],i=null,s=null,a=null){return new HT(t,e,n,r,i,s,a)}function Oh(t){const e=ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),el(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yi(r)).join(",")),e.Te=n}return e.Te}function bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OT(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lp(t.startAt,e.startAt)&&Lp(t.endAt,e.endAt)}function Ec(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function GT(t,e,n,r,i,s,a,l){return new nl(t,e,n,r,i,s,a,l)}function E_(t){return new nl(t)}function Op(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KT(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function WT(t){return t.collectionGroup!==null}function vs(t){const e=ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Oe(it.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Na(s,r))}),n.has(it.keyField().canonicalString())||e.Ie.push(new Na(it.keyField(),r))}return e.Ie}function Wt(t){const e=ie(t);return e.Ee||(e.Ee=QT(e,vs(t))),e.Ee}function QT(t,e){if(t.limitType==="F")return Mp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Na(i.field,s)});const n=t.endAt?new xa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xa(t.startAt.position,t.startAt.inclusive):null;return Mp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wc(t,e,n){return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rl(t,e){return bh(Wt(t),Wt(e))&&t.limitType===e.limitType}function w_(t){return`${Oh(Wt(t))}|lt:${t.limitType}`}function Lr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>__(i)).join(", ")}]`),el(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yi(i)).join(",")),`Target(${r})`}(Wt(t))}; limitType=${t.limitType})`}function il(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):W.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of vs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const h=Dp(a,l,c);return a.inclusive?h<=0:h<0}(r.startAt,vs(r),i)||r.endAt&&!function(a,l,c){const h=Dp(a,l,c);return a.inclusive?h>=0:h>0}(r.endAt,vs(r),i))}(t,e)}function YT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T_(t){return(e,n)=>{let r=!1;for(const i of vs(t)){const s=XT(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function XT(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(s,a,l){const c=a.data.field(s),h=l.data.field(s);return c!==null&&h!==null?gi(c,h):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Ae(W.comparator);function Wn(){return JT}const S_=new Ae(W.comparator);function os(...t){let e=S_;for(const n of t)e=e.insert(n.key,n);return e}function ZT(t){let e=S_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fr(){return Es()}function I_(){return Es()}function Es(){return new Pr(t=>t.toString(),(t,e)=>t.isEqual(e))}const eS=new Oe(W.comparator);function se(...t){let e=eS;for(const n of t)e=e.add(n);return e}const tS=new Oe(te);function nS(){return tS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function iS(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this._=void 0}}function sS(t,e,n){return t instanceof Tc?function(i,s){const a={fields:{[h_]:{stringValue:c_},[f_]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Lh(s)&&(s=tl(s)),s&&(a.fields[d_]=s),{mapValue:a}}(n,e):t instanceof Va?C_(t,e):t instanceof Da?A_(t,e):function(i,s){const a=aS(i,s),l=bp(a)+bp(i.Ae);return _c(a)&&_c(i.Ae)?iS(l):rS(i.serializer,l)}(t,e)}function oS(t,e,n){return t instanceof Va?C_(t,e):t instanceof Da?A_(t,e):n}function aS(t,e){return t instanceof Sc?function(r){return _c(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Tc extends sl{}class Va extends sl{constructor(e){super(),this.elements=e}}function C_(t,e){const n=R_(e);for(const r of t.elements)n.some(i=>Qt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Da extends sl{constructor(e){super(),this.elements=e}}function A_(t,e){let n=R_(e);for(const r of t.elements)n=n.filter(i=>!Qt(i,r));return{arrayValue:{values:n}}}class Sc extends sl{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function bp(t){return Ie(t.integerValue||t.doubleValue)}function R_(t){return Mh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lS(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Va&&i instanceof Va||r instanceof Da&&i instanceof Da?mi(r.elements,i.elements,Qt):r instanceof Sc&&i instanceof Sc?Qt(r.Ae,i.Ae):r instanceof Tc&&i instanceof Tc}(t.transform,e.transform)}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jh{}function P_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cS(t.key,yr.none()):new Fh(t.key,t.data,yr.none());{const n=t.data,r=qt.empty();let i=new Oe(it.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ol(t.key,r,new Rn(i.toArray()),yr.none())}}function uS(t,e,n){t instanceof Fh?function(i,s,a){const l=i.value.clone(),c=Fp(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ol?function(i,s,a){if(!Jo(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Fp(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(k_(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function ws(t,e,n,r){return t instanceof Fh?function(s,a,l,c){if(!Jo(s.precondition,a))return l;const h=s.value.clone(),f=zp(s.fieldTransforms,c,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ol?function(s,a,l,c){if(!Jo(s.precondition,a))return l;const h=zp(s.fieldTransforms,c,a),f=a.data;return f.setAll(k_(s)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(s,a,l){return Jo(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function jp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mi(r,i,(s,a)=>lS(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fh extends jh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ol extends jh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function k_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Fp(t,e,n){const r=new Map;ve(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,oS(a,l,n[i]))}return r}function zp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,sS(s,a,e))}return r}class cS extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uS(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ws(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ws(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=I_();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=P_(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&mi(this.mutations,e.mutations,(n,r)=>jp(n,r))&&mi(this.baseMutations,e.baseMutations,(n,r)=>jp(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,ne;function x_(t){if(t===void 0)return cn("GRPC error has no .code"),F.UNKNOWN;switch(t){case Pe.OK:return F.OK;case Pe.CANCELLED:return F.CANCELLED;case Pe.UNKNOWN:return F.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return F.INTERNAL;case Pe.UNAVAILABLE:return F.UNAVAILABLE;case Pe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Pe.NOT_FOUND:return F.NOT_FOUND;case Pe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Pe.ABORTED:return F.ABORTED;case Pe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Pe.DATA_LOSS:return F.DATA_LOSS;default:return X(39323,{code:t})}}(ne=Pe||(Pe={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new Fn([4294967295,4294967295],0);function Bp(t){const e=pS().encode(t),n=new Zy;return n.update(e),new Uint8Array(n.digest())}function Up(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fn([n,r],0),new Fn([i,s],0)]}class zh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new as(`Invalid padding: ${n}`);if(r<0)throw new as(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new as(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new as(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fn.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Fn.fromNumber(r)));return i.compare(mS)===1&&(i=new Fn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Bp(e),[r,i]=Up(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new zh(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=Bp(e),[r,i]=Up(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class as extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Js.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new al(Y.min(),i,new Ae(te),Wn(),se())}}class Js{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Js(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class N_{constructor(e,n){this.targetId=e,this.Ce=n}}class V_{constructor(e,n,r=Ge.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $p{constructor(){this.ve=0,this.Fe=qp(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=se(),n=se(),r=se();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X(38017,{changeType:s})}}),new Js(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=qp()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class gS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wn(),this.He=Lo(),this.Je=Lo(),this.Ze=new Ae(te)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Ec(s))if(r===0){const a=new W(s.path);this.et(n,a,Ze.newNoDocument(a,Y.min()))}else ve(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=Gn(r).toUint8Array()}catch(c){if(c instanceof u_)return Cr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new zh(a,i,s)}catch(c){return Cr(c instanceof as?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&Ec(l.target)){const c=new W(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Ze.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.Ke())}});let r=se();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new al(e,n,this.Ze,this.je,r);return this.je=Wn(),this.He=Lo(),this.Je=Lo(),this.Ze=new Ae(te),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new $p,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Oe(te),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Oe(te),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $p),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lo(){return new Ae(W.comparator)}function qp(){return new Ae(W.comparator)}const yS={asc:"ASCENDING",desc:"DESCENDING"},_S={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vS={and:"AND",or:"OR"};class ES{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ic(t,e){return t.useProto3Json||el(e)?e:{value:e}}function wS(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ni(t){return ve(!!t,49232),Y.fromTimestamp(function(n){const r=Hn(n);return new ke(r.seconds,r.nanos)}(t))}function SS(t,e){return Cc(t,e).canonicalString()}function Cc(t,e){const n=function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function D_(t){const e=ye.fromString(t);return ve(j_(e),10190,{key:e.toString()}),e}function uu(t,e){const n=D_(e);if(n.get(1)!==t.databaseId.projectId)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(M_(n))}function L_(t,e){return SS(t.databaseId,e)}function IS(t){const e=D_(t);return e.length===4?ye.emptyPath():M_(e)}function Hp(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function M_(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function CS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:X(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(ve(f===void 0||typeof f=="string",58123),Ge.fromBase64String(f||"")):(ve(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ge.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const f=h.code===void 0?F.UNKNOWN:x_(h.code);return new G(f,h.message||"")}(a);n=new V_(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=uu(t,r.document.name),s=ni(r.document.updateTime),a=r.document.createTime?ni(r.document.createTime):Y.min(),l=new qt({mapValue:{fields:r.document.fields}}),c=Ze.newFoundDocument(i,s,a,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Zo(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=uu(t,r.document),s=r.readTime?ni(r.readTime):Y.min(),a=Ze.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Zo([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=uu(t,r.document),s=r.removedTargetIds||[];n=new Zo([],s,i,null)}else{if(!("filter"in e))return X(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new fS(i,s),l=r.targetId;n=new N_(l,a)}}return n}function AS(t,e){return{documents:[L_(t,e.path)]}}function RS(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L_(t,i);const s=function(h){if(h.length!==0)return b_(Yt.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(f=>function(_){return{field:Mr(_.field),direction:xS(_.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Ic(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:i}}function PS(t){let e=IS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(y){const _=O_(y);return _ instanceof Yt&&g_(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(y){return y.map(_=>function(R){return new Na(Or(R.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(_))}(n.orderBy));let l=null;n.limit&&(l=function(y){let _;return _=typeof y=="object"?y.value:y,el(_)?null:_}(n.limit));let c=null;n.startAt&&(c=function(y){const _=!!y.before,P=y.values||[];return new xa(P,_)}(n.startAt));let h=null;return n.endAt&&(h=function(y){const _=!y.before,P=y.values||[];return new xa(P,_)}(n.endAt)),GT(e,i,a,s,l,"F",c,h)}function kS(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function O_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Or(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Or(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Or(n.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Or(n.unaryFilter.field);return Le.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return Le.create(Or(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yt.create(n.compositeFilter.filters.map(r=>O_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function xS(t){return yS[t]}function NS(t){return _S[t]}function VS(t){return vS[t]}function Mr(t){return{fieldPath:t.canonicalString()}}function Or(t){return it.fromServerFormat(t.fieldPath)}function b_(t){return t instanceof Le?function(n){if(n.op==="=="){if(Vp(n.value))return{unaryFilter:{field:Mr(n.field),op:"IS_NAN"}};if(Np(n.value))return{unaryFilter:{field:Mr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vp(n.value))return{unaryFilter:{field:Mr(n.field),op:"IS_NOT_NAN"}};if(Np(n.value))return{unaryFilter:{field:Mr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mr(n.field),op:NS(n.op),value:n.value}}}(t):t instanceof Yt?function(n){const r=n.getFilters().map(i=>b_(i));return r.length===1?r[0]:{compositeFilter:{op:VS(n.op),filters:r}}}(t):X(54877,{filter:t})}function j_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,i,s=Y.min(),a=Y.min(),l=Ge.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Pn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.yt=e}}function LS(t){const e=PS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.Sn=new OS}addToCollectionParentIndex(e,n){return this.Sn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(qn.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(qn.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class OS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Oe(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Oe(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F_=41943040;class lt{static withCacheSize(e){return new lt(e,lt.DEFAULT_COLLECTION_PERCENTILE,lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lt.DEFAULT_COLLECTION_PERCENTILE=10,lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lt.DEFAULT=new lt(F_,lt.DEFAULT_COLLECTION_PERCENTILE,lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lt.DISABLED=new lt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _i(0)}static ar(){return new _i(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="LruGarbageCollector",bS=1048576;function Wp([t,e],[n,r]){const i=te(t,n);return i===0?te(e,r):i}class jS{constructor(e){this.Pr=e,this.buffer=new Oe(Wp),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Wp(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FS{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){U(Kp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ai(n)?U(Kp,"Ignoring IndexedDB error during garbage collection: ",n):await Ja(n)}await this.Ar(3e5)})}}class zS{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Za.ce);const r=new jS(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(Gp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gp):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,a,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,l=Date.now(),this.removeTargets(e,r,n))).next(y=>(s=y,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(h=Date.now(),Dr()<=re.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${y} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}}function BS(t,e){return new zS(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.changes=new Pr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ws(r.mutation,i,Rn.empty(),ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=fr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=os();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=fr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=Wn();const a=Es(),l=function(){return Es()}();return n.forEach((c,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof ol)?s=s.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),ws(f.mutation,h,f.mutation.getFieldMask(),ke.now())):a.set(h.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,f)=>a.set(h,f)),n.forEach((h,f)=>l.set(h,new $S(f,a.get(h)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Es();let i=new Ae((a,l)=>a-l),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let f=r.get(c)||Rn.empty();f=l.applyToLocalView(h,f),r.set(c,f);const y=(i.get(l.batchId)||se()).add(c);i=i.insert(l.batchId,y)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,y=I_();f.forEach(_=>{if(!s.has(_)){const P=P_(n.get(_),r.get(_));P!==null&&y.set(_,P),s=s.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,y))}return L.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return KT(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(fr());let l=Bs,c=s;return a.next(h=>L.forEach(h,(f,y)=>(l<y.largestBatchId&&(l=y.largestBatchId),s.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{c=c.insert(f,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,se())).next(f=>({batchId:l,changes:ZT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=os();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=os();return this.indexManager.getCollectionParents(e,s).next(l=>L.forEach(l,c=>{const h=function(y,_){return new nl(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((y,_)=>{a=a.insert(y,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,Ze.newInvalidDocument(f)))});let l=os();return a.forEach((c,h)=>{const f=s.get(c);f!==void 0&&ws(f.mutation,h,Rn.empty(),ke.now()),il(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return L.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ni(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:LS(i.bundledQuery),readTime:ni(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.overlays=new Ae(W.comparator),this.Lr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=fr(),s=n.length+1,a=new W(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ae((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=fr(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=fr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return L.resolve(l)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new dS(n,r));let s=this.Lr.get(n);s===void 0&&(s=se(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.kr=new Oe(je.Kr),this.qr=new Oe(je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new je(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new je(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new W(new ye([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.qr.forEachInRange([r,i],a=>{this.Wr(a),s.push(a.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new W(new ye([])),r=new je(n,e),i=new je(n,e+1);let s=se();return this.qr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new je(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class je{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return W.comparator(e.key,n.key)||te(e.Hr,n.Hr)}static Ur(e,n){return te(e.Hr,n.Hr)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Oe(je.Kr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new hS(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Jr=this.Jr.add(new je(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?IT:this.Yn-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],a=>{const l=this.Zr(a.Hr);s.push(l)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Oe(te);return n.forEach(i=>{const s=new je(i,0),a=new je(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],l=>{r=r.add(l.Hr)})}),L.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;W.isDocumentKey(s)||(s=s.child(""));const a=new je(new W(s),0);let l=new Oe(te);return this.Jr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.Hr)),!0)},a),L.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return L.forEach(n.mutations,i=>{const s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new je(n,0),i=this.Jr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.ti=e,this.docs=function(){return new Ae(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ze.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Wn();const a=n.path,l=new W(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||ET(vT(f),r)<=0||(i.has(f.key)||il(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X(9500)}ni(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YS(this)}getSize(e){return L.resolve(this.size)}}class YS extends US{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.persistence=e,this.ri=new Pr(n=>Oh(n),bh),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.ii=0,this.si=new Bh,this.targetCount=0,this.oi=_i._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),L.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new _i(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.lr(n),L.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this._i={},this.overlays={},this.ai=new Za(0),this.ui=!1,this.ui=!0,this.ci=new KS,this.referenceDelegate=e(this),this.li=new XS(this),this.indexManager=new MS,this.remoteDocumentCache=function(i){return new QS(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new DS(n),this.Pi=new HS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new WS(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new JS(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(s=>this.referenceDelegate.Ii(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return L.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class JS extends TT{constructor(e){super(),this.currentSequenceNumber=e}}class Uh{constructor(e){this.persistence=e,this.Ri=new Bh,this.Ai=null}static Vi(e){return new Uh(e)}get di(){if(this.Ai)return this.Ai;throw X(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,r=>{const i=W.fromPath(r);return this.mi(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class La{constructor(e,n){this.persistence=e,this.fi=new Pr(r=>CT(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=BS(this,n)}static Vi(e,n){return new La(e,n)}Ti(){}Ii(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return L.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(s=>s?L.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,a=>this.wr(e,a,n).next(l=>{l||(r++,s.removeEntry(a,Y.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),L.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xo(e.data.value)),n}wr(e,n,r){return L.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $h(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return FE()?8:ST(bE())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ps(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new ZS;return this.ys(e,n,a).next(l=>{if(s.result=l,this.As)return this.ws(e,n,a,l.size)})}).next(()=>s.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Dr()<=re.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Lr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Dr()<=re.DEBUG&&U("QueryEngine","Query:",Lr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Dr()<=re.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Lr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wt(n))):L.resolve())}gs(e,n){if(Op(n))return L.resolve(null);let r=Wt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wc(n,null,"F"),r=Wt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=se(...s);return this.fs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.bs(n,l);return this.Ss(n,h,a,c.readTime)?this.gs(e,wc(n,null,"F")):this.Ds(e,h,n,c)}))})))}ps(e,n,r,i){return Op(n)||i.isEqual(Y.min())?L.resolve(null):this.fs.getDocuments(e,r).next(s=>{const a=this.bs(n,s);return this.Ss(n,a,r,i)?L.resolve(null):(Dr()<=re.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lr(n)),this.Ds(e,a,n,_T(i,Bs)).next(l=>l))})}bs(e,n){let r=new Oe(T_(e));return n.forEach((i,s)=>{il(e,s)&&(r=r.add(s))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Dr()<=re.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Lr(n)),this.fs.getDocumentsMatchingQuery(e,n,qn.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="LocalStore",tI=3e8;class nI{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Ae(te),this.Fs=new Pr(s=>Oh(s),bh),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function rI(t,e,n,r){return new nI(t,e,n,r)}async function B_(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let c=se();for(const h of i){a.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(h=>({Ns:h,removedBatchIds:a,addedBatchIds:l}))})})}function U_(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function iI(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const l=[];e.targetChanges.forEach((f,y)=>{const _=i.get(y);if(!_)return;l.push(n.li.removeMatchingKeys(s,f.removedDocuments,y).next(()=>n.li.addMatchingKeys(s,f.addedDocuments,y)));let P=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?P=P.withResumeToken(Ge.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):f.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(f.resumeToken,r)),i=i.insert(y,P),function(N,M,m){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=tI?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(_,P,f)&&l.push(n.li.updateTargetData(s,P))});let c=Wn(),h=se();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(sI(s,a,e.documentUpdates).next(f=>{c=f.Bs,h=f.Ls})),!r.isEqual(Y.min())){const f=n.li.getLastRemoteSnapshotVersion(s).next(y=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return L.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.vs=i,s))}function sI(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Wn();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Y.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):U(qh,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{Bs:a,Ls:i}})}function oI(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.li.allocateTargetId(r).next(a=>(i=new Pn(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Ac(t,e,n){const r=ie(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Ai(a))throw a;U(qh,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function Qp(t,e,n){const r=ie(t);let i=Y.min(),s=se();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,f){const y=ie(c),_=y.Fs.get(f);return _!==void 0?L.resolve(y.vs.get(_)):y.li.getTargetData(h,f)}(r,a,Wt(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Y.min(),n?s:se())).next(l=>(aI(r,YT(e),l),{documents:l,ks:s})))}function aI(t,e,n){let r=t.Ms.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ms.set(e,r)}class Yp{constructor(){this.activeTargetIds=nS()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lI{constructor(){this.vo=new Yp,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Yp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="ConnectivityMonitor";class Jp{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){U(Xp,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){U(Xp,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo=null;function Rc(){return Mo===null?Mo=function(){return 268435456+Math.round(2147483648*Math.random())}():Mo++,"0x"+Mo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu="RestConnection",cI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class hI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===ka?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const a=Rc(),l=this.Qo(e,n.toUriEncodedString());U(cu,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,s);const{host:h}=new URL(l),f=Nh(h);return this.zo(e,l,c,r,f).then(y=>(U(cu,`Received RPC '${e}' ${a}: `,y),y),y=>{throw Cr(cu,`RPC '${e}' ${a} failed with error: `,y,"url: ",l,"request:",r),y})}jo(e,n,r,i,s,a){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ci}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Qo(e,n){const r=cI[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection",es=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class ri extends hI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ri.c_){const e=r_();es(e,n_.STAT_EVENT,n=>{n.stat===dc.PROXY?U(Ye,"STAT_EVENT: detected buffering proxy"):n.stat===dc.NOPROXY&&U(Ye,"STAT_EVENT: detected no buffering proxy")}),ri.c_=!0}}zo(e,n,r,i,s){const a=Rc();return new Promise((l,c)=>{const h=new e_;h.setWithCredentials(!0),h.listenOnce(t_.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Yo.NO_ERROR:const y=h.getResponseJson();U(Ye,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),l(y);break;case Yo.TIMEOUT:U(Ye,`RPC '${e}' ${a} timed out`),c(new G(F.DEADLINE_EXCEEDED,"Request time out"));break;case Yo.HTTP_ERROR:const _=h.getStatus();if(U(Ye,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let P=h.getResponseJson();Array.isArray(P)&&(P=P[0]);const R=P==null?void 0:P.error;if(R&&R.status&&R.message){const N=function(m){const w=m.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(R.status);c(new G(N,R.message))}else c(new G(F.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new G(F.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{U(Ye,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);U(Ye,`RPC '${e}' ${a} sending request:`,i),h.send(n,"POST",f,r,15)})}T_(e,n,r){const i=Rc(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");U(Ye,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=a.createWebChannel(h,l);this.I_(f);let y=!1,_=!1;const P=new dI({Ho:R=>{_?U(Ye,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(U(Ye,`Opening RPC '${e}' stream ${i} transport.`),f.open(),y=!0),U(Ye,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},Jo:()=>f.close()});return es(f,ss.EventType.OPEN,()=>{_||(U(Ye,`RPC '${e}' stream ${i} transport opened.`),P.i_())}),es(f,ss.EventType.CLOSE,()=>{_||(_=!0,U(Ye,`RPC '${e}' stream ${i} transport closed`),P.o_(),this.E_(f))}),es(f,ss.EventType.ERROR,R=>{_||(_=!0,Cr(Ye,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),P.o_(new G(F.UNAVAILABLE,"The operation could not be completed")))}),es(f,ss.EventType.MESSAGE,R=>{var N;if(!_){const M=R.data[0];ve(!!M,16349);const m=M,w=(m==null?void 0:m.error)||((N=m[0])==null?void 0:N.error);if(w){U(Ye,`RPC '${e}' stream ${i} received error:`,w);const A=w.status;let D=function(E){const g=Pe[E];if(g!==void 0)return x_(g)}(A),O=w.message;A==="NOT_FOUND"&&O.includes("database")&&O.includes("does not exist")&&O.includes(this.databaseId.database)&&Cr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=F.INTERNAL,O="Unknown error status: "+A+" with message "+w.message),_=!0,P.o_(new G(D,O)),f.close()}else U(Ye,`RPC '${e}' stream ${i} received:`,M),P.__(M)}}),ri.u_(),setTimeout(()=>{P.s_()},0),P}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return i_()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){return new ri(t)}function hu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){return new ES(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri.c_=!1;class q_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="PersistentStream";class pI{constructor(e,n,r,i,s,a,l,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new q_(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(cn(n.toString()),cn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new G(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return U(Zp,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(U(Zp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mI extends pI{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=CS(this.serializer,e),r=function(s){if(!("targetChange"in s))return Y.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Y.min():a.readTime?ni(a.readTime):Y.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Hp(this.serializer),n.addTarget=function(s,a){let l;const c=a.target;if(l=Ec(c)?{documents:AS(s,c)}:{query:RS(s,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=TS(s,a.resumeToken);const h=Ic(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(Y.min())>0){l.readTime=wS(s,a.snapshotVersion.toTimestamp());const h=Ic(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=kS(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Hp(this.serializer),n.removeTarget=e,this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{}class yI extends gI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,Cc(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(F.UNKNOWN,s.toString())})}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.jo(e,Cc(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(F.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function _I(t,e,n,r){return new yI(t,e,n,r)}class vI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cn(n),this.aa=!1):U("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="RemoteStore";class EI{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(a=>{r.enqueueAndForget(async()=>{eo(this)&&(U(vi,"Restarting streams for network reachability change."),await async function(c){const h=ie(c);h.Ea.add(4),await Zs(h),h.Va.set("Unknown"),h.Ea.delete(4),await ll(h)}(this))})}),this.Va=new vI(r,i)}}async function ll(t){if(eo(t))for(const e of t.Ra)await e(!0)}async function Zs(t){for(const e of t.Ra)await e(!1)}function H_(t,e){const n=ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wh(n)?Kh(n):Ri(n).O_()&&Gh(n,e))}function Hh(t,e){const n=ie(t),r=Ri(n);n.Ia.delete(e),r.O_()&&G_(n,e),n.Ia.size===0&&(r.O_()?r.L_():eo(n)&&n.Va.set("Unknown"))}function Gh(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ri(t).Z_(e)}function G_(t,e){t.da.$e(e),Ri(t).X_(e)}function Kh(t){t.da=new gS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ri(t).start(),t.Va.ua()}function Wh(t){return eo(t)&&!Ri(t).x_()&&t.Ia.size>0}function eo(t){return ie(t).Ea.size===0}function K_(t){t.da=void 0}async function wI(t){t.Va.set("Online")}async function TI(t){t.Ia.forEach((e,n)=>{Gh(t,e)})}async function SI(t,e){K_(t),Wh(t)?(t.Va.ha(e),Kh(t)):t.Va.set("Unknown")}async function II(t,e,n){if(t.Va.set("Online"),e instanceof V_&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.da.removeTarget(l))}(t,e)}catch(r){U(vi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await em(t,r)}else if(e instanceof Zo?t.da.Xe(e):e instanceof N_?t.da.st(e):t.da.tt(e),!n.isEqual(Y.min()))try{const r=await U_(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.da.Tt(a);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(h);f&&s.Ia.set(h,f.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,h)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(Ge.EMPTY_BYTE_STRING,f.snapshotVersion)),G_(s,c);const y=new Pn(f.target,c,h,f.sequenceNumber);Gh(s,y)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){U(vi,"Failed to raise snapshot:",r),await em(t,r)}}async function em(t,e,n){if(!Ai(e))throw e;t.Ea.add(1),await Zs(t),t.Va.set("Offline"),n||(n=()=>U_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U(vi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ll(t)})}async function tm(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),U(vi,"RemoteStore received new credentials");const r=eo(n);n.Ea.add(3),await Zs(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ll(n)}async function CI(t,e){const n=ie(t);e?(n.Ea.delete(2),await ll(n)):e||(n.Ea.add(2),await Zs(n),n.Va.set("Unknown"))}function Ri(t){return t.ma||(t.ma=function(n,r,i){const s=ie(n);return s.sa(),new mI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:wI.bind(null,t),Yo:TI.bind(null,t),t_:SI.bind(null,t),J_:II.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Wh(t)?Kh(t):t.Va.set("Unknown")):(await t.ma.stop(),K_(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new Qh(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W_(t,e){if(cn("AsyncQueue",`${e}: ${t}`),Ai(t))return new G(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{static emptySet(e){return new ii(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=os(),this.sortedSet=new Ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ii)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ii;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.ga=new Ae(W.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):X(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ei{constructor(e,n,r,i,s,a,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ei(e,n,ii.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class RI{constructor(){this.queries=rm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ie(n),s=i.queries;i.queries=rm(),s.forEach((a,l)=>{for(const c of l.ba)c.onError(r)})})(this,new G(F.ABORTED,"Firestore shutting down"))}}function rm(){return new Pr(t=>w_(t),rl)}async function PI(t,e){const n=ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new AI,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=W_(a,`Initialization of query '${Lr(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Yh(n)}async function kI(t,e){const n=ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.ba.indexOf(e);a>=0&&(s.ba.splice(a,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xI(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.ba)l.Fa(i)&&(r=!0);a.wa=i}}r&&Yh(n)}function NI(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function Yh(t){t.Ca.forEach(e=>{e.next()})}var Pc,im;(im=Pc||(Pc={})).Ma="default",im.Cache="cache";class VI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ei(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ei.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this.key=e}}class Y_{constructor(e){this.key=e}}class DI{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=se(),this.mutatedKeys=se(),this.eu=T_(e),this.tu=new ii(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new nm,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,y)=>{const _=i.get(f),P=il(this.query,y)?y:null,R=!!_&&this.mutatedKeys.has(_.key),N=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let M=!1;_&&P?_.data.isEqual(P.data)?R!==N&&(r.track({type:3,doc:P}),M=!0):this.su(_,P)||(r.track({type:2,doc:P}),M=!0,(c&&this.eu(P,c)>0||h&&this.eu(P,h)<0)&&(l=!0)):!_&&P?(r.track({type:0,doc:P}),M=!0):_&&!P&&(r.track({type:1,doc:_}),M=!0,(c||h)&&(l=!0)),M&&(P?(a=a.add(P),s=N?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Ss:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,y)=>function(P,R){const N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Vt:M})}};return N(P)-N(R)}(f.type,y.type)||this.eu(f.doc,y.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,h=c!==this.Xa;return this.Xa=c,a.length!==0||h?{snapshot:new Ei(this.query,e.tu,s,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nm,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=se(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Y_(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Q_(r))}),n}cu(e){this.Za=e.ks,this.Ya=se();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ei.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Xh="SyncEngine";class LI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MI{constructor(e){this.key=e,this.hu=!1}}class OI{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Pr(l=>w_(l),rl),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ae(W.comparator),this.Au=new Map,this.Vu=new Bh,this.du={},this.mu=new Map,this.fu=_i.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bI(t,e,n=!0){const r=tv(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await X_(r,e,n,!0),i}async function jI(t,e){const n=tv(t);await X_(n,e,!0,!1)}async function X_(t,e,n,r){const i=await oI(t.localStore,Wt(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await FI(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&H_(t.remoteStore,i),l}async function FI(t,e,n,r,i){t.pu=(y,_,P)=>async function(N,M,m,w){let A=M.view.ru(m);A.Ss&&(A=await Qp(N.localStore,M.query,!1).then(({documents:E})=>M.view.ru(E,A)));const D=w&&w.targetChanges.get(M.targetId),O=w&&w.targetMismatches.get(M.targetId)!=null,j=M.view.applyChanges(A,N.isPrimaryClient,D,O);return om(N,M.targetId,j.au),j.snapshot}(t,y,_,P);const s=await Qp(t.localStore,e,!0),a=new DI(e,s.ks),l=a.ru(s.documents),c=Js.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=a.applyChanges(l,t.isPrimaryClient,c);om(t,n,h.au);const f=new LI(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function zI(t,e,n){const r=ie(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!rl(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ac(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Hh(r.remoteStore,i.targetId),kc(r,i.targetId)}).catch(Ja)):(kc(r,i.targetId),await Ac(r.localStore,i.targetId,!0))}async function BI(t,e){const n=ie(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hh(n.remoteStore,r.targetId))}async function J_(t,e){const n=ie(t);try{const r=await iI(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?ve(a.hu,14607):i.removedDocuments.size>0&&(ve(a.hu,42227),a.hu=!1))}),await ev(n,r,e)}catch(r){await Ja(r)}}function sm(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=ie(a);c.onlineState=l;let h=!1;c.queries.forEach((f,y)=>{for(const _ of y.ba)_.va(l)&&(h=!0)}),h&&Yh(c)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UI(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Ae(W.comparator);a=a.insert(s,Ze.newNoDocument(s,Y.min()));const l=se().add(s),c=new al(Y.min(),new Map,new Ae(te),a,l);await J_(r,c),r.Ru=r.Ru.remove(s),r.Au.delete(e),Jh(r)}else await Ac(r.localStore,e,!1).then(()=>kc(r,e,n)).catch(Ja)}function kc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||Z_(t,r)})}function Z_(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Hh(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Jh(t))}function om(t,e,n){for(const r of n)r instanceof Q_?(t.Vu.addReference(r.key,e),$I(t,r)):r instanceof Y_?(U(Xh,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||Z_(t,r.key)):X(19791,{wu:r})}function $I(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(U(Xh,"New document in limbo: "+n),t.Eu.add(r),Jh(t))}function Jh(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new W(ye.fromString(e)),r=t.fu.next();t.Au.set(r,new MI(n)),t.Ru=t.Ru.insert(n,r),H_(t.remoteStore,new Pn(Wt(E_(n.path)),r,"TargetPurposeLimboResolution",Za.ce))}}async function ev(t,e,n){const r=ie(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const y=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,y?"current":"not-current")}if(h){i.push(h);const y=$h.Es(c.targetId,h);s.push(y)}}))}),await Promise.all(a),r.Pu.J_(i),await async function(c,h){const f=ie(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>L.forEach(h,_=>L.forEach(_.Ts,P=>f.persistence.referenceDelegate.addReference(y,_.targetId,P)).next(()=>L.forEach(_.Is,P=>f.persistence.referenceDelegate.removeReference(y,_.targetId,P)))))}catch(y){if(!Ai(y))throw y;U(qh,"Failed to update sequence numbers: "+y)}for(const y of h){const _=y.targetId;if(!y.fromCache){const P=f.vs.get(_),R=P.snapshotVersion,N=P.withLastLimboFreeSnapshotVersion(R);f.vs=f.vs.insert(_,N)}}}(r.localStore,s))}async function qI(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){U(Xh,"User change. New user:",e.toKey());const r=await B_(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(c=>{c.reject(new G(F.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ev(n,r.Ns)}}function HI(t,e){const n=ie(t),r=n.Au.get(e);if(r&&r.hu)return se().add(r.key);{let i=se();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}function tv(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UI.bind(null,e),e.Pu.J_=xI.bind(null,e.eventManager),e.Pu.yu=NI.bind(null,e.eventManager),e}class Ma{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$_(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return rI(this.persistence,new eI,e.initialUser,this.serializer)}Cu(e){return new z_(Uh.Vi,this.serializer)}Du(e){return new lI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ma.provider={build:()=>new Ma};class GI extends Ma{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ve(this.persistence.referenceDelegate instanceof La,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FS(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?lt.withCacheSize(this.cacheSizeBytes):lt.DEFAULT;return new z_(r=>La.Vi(r,n),this.serializer)}}class xc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qI.bind(null,this.syncEngine),await CI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RI}()}createDatastore(e){const n=$_(e.databaseInfo.databaseId),r=fI(e.databaseInfo);return _I(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new EI(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>sm(this.syncEngine,n,0),function(){return Jp.v()?new Jp:new uI}())}createSyncEngine(e,n){return function(i,s,a,l,c,h,f){const y=new OI(i,s,a,l,c,h);return f&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ie(i);U(vi,"RemoteStore shutting down."),s.Ea.add(5),await Zs(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}xc.provider={build:()=>new xc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="FirestoreClient";class WI{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Xe.UNAUTHENTICATED,this.clientId=a_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{U(Qn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(U(Qn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=W_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function du(t,e){t.asyncQueue.verifyOperationInProgress(),U(Qn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await B_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function am(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QI(t);U(Qn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tm(e.remoteStore,i)),t._onlineComponents=e}async function QI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U(Qn,"Using user provided OfflineComponentProvider");try{await du(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Cr("Error using user provided cache. Falling back to memory cache: "+n),await du(t,new Ma)}}else U(Qn,"Using default OfflineComponentProvider"),await du(t,new GI(void 0));return t._offlineComponents}async function YI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U(Qn,"Using user provided OnlineComponentProvider"),await am(t,t._uninitializedComponentsProvider._online)):(U(Qn,"Using default OnlineComponentProvider"),await am(t,new xc))),t._onlineComponents}async function XI(t){const e=await YI(t),n=e.eventManager;return n.onListen=bI.bind(null,e.syncEngine),n.onUnlisten=zI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BI.bind(null,e.syncEngine),n}function JI(t,e,n={}){const r=new gr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,h){const f=new KI({next:_=>{f.Nu(),a.enqueueAndForget(()=>kI(s,y)),_.fromCache&&c.source==="server"?h.reject(new G(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),y=new VI(l,f,{includeMetadataChanges:!0,Ka:!0});return PI(s,y)}(await XI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="ComponentProvider",lm=new Map;function e2(t,e,n,r,i){return new kT(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,nv(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="firestore.googleapis.com",um=!0;class cm{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rv,this.ssl=um}else this.host=e.host,this.ssl=e.ssl??um;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bS)throw new G(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nv(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iT;switch(r.type){case"firstParty":return new lT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lm.get(n);r&&(U(ZI,"Removing Datastore"),lm.delete(n),r.terminate())}(this),Promise.resolve()}}function t2(t,e,n,r={}){var h;t=pc(t,Zh);const i=Nh(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(VE(`https://${l}`),OE("Firestore",!0)),s.host!==rv&&s.host!==l&&Cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!Aa(c,a)&&(t._setSettings(c),r.mockUserToken)){let f,y;if(typeof r.mockUserToken=="string")f=r.mockUserToken,y=Xe.MOCK_USER;else{f=DE(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new G(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Xe(_)}t._authCredentials=new sT(new o_(f,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ul(this.firestore,e,this._query)}}class Ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ys(n,Ct._jsonSchema))return new Ct(e,r||null,new W(ye.fromString(n.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Ne("string",Ct._jsonSchemaVersion),referencePath:Ne("string")};class si extends ul{constructor(e,n,r){super(e,n,E_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new W(e))}withConverter(e){return new si(this.firestore,e,this._path)}}function Nc(t,e,...n){if(t=Gy(t),pT("collection","path",e),t instanceof Zh){const r=ye.fromString(e,...n);return Sp(r),new si(t,null,r)}{if(!(t instanceof Ct||t instanceof si))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return Sp(r),new si(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="AsyncQueue";class dm{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new q_(this,"async_queue_retry"),this._c=()=>{const r=hu();r&&U(hm,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=hu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new gr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ai(e))throw e;U(hm,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,cn("INTERNAL UNHANDLED ERROR: ",fm(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Qh.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&X(47125,{Pc:fm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fm(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class iv extends Zh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dm,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dm(e),this._firestoreClient=void 0,await e}}}function n2(t,e){const n=Gw(),r=ka,i=Bw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=xE("firestore");s&&t2(i,...s)}return i}function r2(t){if(t._terminated)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i2(t),t._firestoreClient}function i2(t){var r,i,s,a;const e=t._freezeSettings(),n=e2(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new WI(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ht(Ge.fromBase64String(e))}catch(n){throw new G(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ht(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ht._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ys(e,Ht._jsonSchema))return Ht.fromBase64String(e.bytes)}}Ht._jsonSchemaVersion="firestore/bytes/1.0",Ht._jsonSchema={type:Ne("string",Ht._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zn._jsonSchemaVersion}}static fromJSON(e){if(Ys(e,zn._jsonSchema))return new zn(e.latitude,e.longitude)}}zn._jsonSchemaVersion="firestore/geoPoint/1.0",zn._jsonSchema={type:Ne("string",zn._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Bn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ys(e,Bn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Bn(e.vectorValues);throw new G(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bn._jsonSchemaVersion="firestore/vectorValue/1.0",Bn._jsonSchema={type:Ne("string",Bn._jsonSchemaVersion),vectorValues:Ne("object")};function ov(t,e,n){if((e=Gy(e))instanceof sv)return e._internalPath;if(typeof e=="string")return o2(t,e);throw Vc("Field path arguments must be of type string or ",t)}const s2=new RegExp("[~\\*/\\[\\]]");function o2(t,e,n){if(e.search(s2)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new sv(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Vc(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let a="";return new G(F.INVALID_ARGUMENT,s+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{convertValue(e,n="none"){switch(Kn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ie(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[gc].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>Ie(a.doubleValue));return new Bn(n)}convertGeoPoint(e){return new zn(Ie(e.latitude),Ie(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Us(e));default:return null}}convertTimestamp(e){const n=Hn(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);ve(j_(r),9688,{name:e});const i=new $s(r.get(1),r.get(3)),s=new W(r.popFirst(5));return i.isEqual(n)||cn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2 extends a2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ht(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}const pm="@firebase/firestore",mm="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ov("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u2 extends av{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oi extends av{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ea(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ov("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oi._jsonSchemaVersion="firestore/documentSnapshot/1.0",oi._jsonSchema={type:Ne("string",oi._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class ea extends oi{data(e={}){return super.data(e)}}class ai{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ea(this._firestore,this._userDataWriter,r.key,r,new Oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new ea(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Oo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new ea(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Oo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:h2(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ai._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=a_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function h2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai._jsonSchemaVersion="firestore/querySnapshot/1.0",ai._jsonSchema={type:Ne("string",ai._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};function Dc(t){t=pc(t,ul);const e=pc(t.firestore,iv),n=r2(e),r=new l2(e);return c2(t._query),JI(n,t._query).then(i=>new ai(e,r,t,i))}(function(e,n=!0){rT(Hw),Pa(new Fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new iv(new oT(r.getProvider("auth-internal")),new uT(a,r.getProvider("app-check-internal")),xT(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ti(pm,mm,e),ti(pm,mm,"esm2020")})();var d2="firebase",f2="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(d2,f2,"app");const p2={apiKey:"AIzaSyCXuCYhEXFt3dB05bASImbmg0TV6zKxisA",authDomain:"karting-bna.firebaseapp.com",projectId:"karting-bna",storageBucket:"karting-bna.firebasestorage.app",messagingSenderId:"7580245941",appId:"1:7580245941:web:beea85ce9f53c539b383fc"};function m2(){return"karting-bna".trim()!==""}let _r=null;if(m2())try{Yy(p2),_r=n2()}catch{_r=null}const gm=[{id:"c4",nombre:"Ezequiel",apellido:"Salvemini",equipo:"Red Bull",puntos:0,datos:{numero:10,peso:90}},{id:"c10",nombre:"Ezequiel",apellido:"Barany",equipo:"Red Bull",puntos:0,datos:{numero:3,peso:85}},{id:"c9",nombre:"Fabian",apellido:"Manquez",equipo:"Red Bull",puntos:0,datos:{numero:18,peso:80}},{id:"c15",nombre:"Ignacio",apellido:"Rueda",equipo:"Red Bull",puntos:0,datos:{numero:14,peso:78}},{id:"c17",nombre:"Fernando",apellido:"Longo",equipo:"Red Bull",puntos:0,datos:{numero:77}},{id:"c3",nombre:"Diego",apellido:"Fernandez",equipo:"Aston Martin",puntos:0,datos:{numero:22,peso:96}},{id:"c7",nombre:"Alejandro",apellido:"Lafuente",equipo:"Aston Martin",puntos:0,datos:{numero:23,peso:90}},{id:"c5",nombre:"Matias",apellido:"Amado",equipo:"Aston Martin",puntos:0,datos:{numero:17,peso:70}},{id:"c18",nombre:"Mariano",apellido:"Balia",equipo:"Aston Martin",puntos:0,datos:{numero:12,peso:87}},{id:"c19",nombre:"Martin",apellido:"Lombardo",equipo:"Aston Martin",puntos:0,datos:{numero:81,peso:70}},{id:"c1",nombre:"Martin",apellido:"Pena",equipo:"Alpine",puntos:0,datos:{numero:71,peso:81},frase:"Les voy a tener que romper el orto"},{id:"c8",nombre:"Pablo",apellido:"Carbonell",equipo:"Alpine",puntos:0,datos:{numero:2,peso:60}},{id:"c20",nombre:"Javier",apellido:"Boero",equipo:"Alpine",puntos:0,datos:{numero:43,peso:103}},{id:"c14",nombre:"Leandro",apellido:"Quinteros",equipo:"Alpine",puntos:0,datos:{numero:30,peso:75}},{id:"c21",nombre:"Angel",apellido:"Nupieri",equipo:"Alpine",puntos:0,datos:{numero:35,peso:80}},{id:"c2",nombre:"Ezequiel",apellido:"Garcia",equipo:"Ferrari",puntos:0,datos:{numero:25,peso:82},frase:"El segundo es el primero de los perdedores"},{id:"c22",nombre:"German",apellido:"Panunzio",equipo:"Ferrari",puntos:0,datos:{numero:7,peso:75}},{id:"c6",nombre:"Federico",apellido:"Di Paola",equipo:"Ferrari",puntos:0,datos:{numero:8,peso:84}},{id:"c23",nombre:"Federico",apellido:"Mammana",equipo:"Ferrari",puntos:0,datos:{numero:13,peso:93}},{id:"c24",nombre:"German",apellido:"Estrada",equipo:"Ferrari",puntos:0,datos:{numero:47,peso:70}},{id:"c16",nombre:"Sebastian",apellido:"Egozcue",equipo:"McLaren",puntos:0,datos:{numero:5,peso:78}},{id:"c12",nombre:"Raul",apellido:"Palavecino",equipo:"McLaren",puntos:0,datos:{numero:29,peso:91}},{id:"c25",nombre:"Roberto",apellido:"Piombi",equipo:"McLaren",puntos:0,datos:{numero:20,peso:100}},{id:"c26",nombre:"Manuel",apellido:"Cavallero",equipo:"McLaren",puntos:0,datos:{numero:16}},{id:"c27",nombre:"Andres",apellido:"soto",equipo:"McLaren",puntos:0,datos:{numero:27}},{id:"c28",nombre:"Lucas",apellido:"Lo faro",equipo:"Mercedes",puntos:0,datos:{numero:99,peso:90}},{id:"c29",nombre:"Marcelo",apellido:"Souto",equipo:"Mercedes",puntos:0,datos:{numero:24}},{id:"c30",nombre:"Mauro",apellido:"Martini",equipo:"Mercedes",puntos:0,datos:{numero:78}},{id:"c31",nombre:"Matias",apellido:"Duclos",equipo:"Mercedes",puntos:0,datos:{numero:9}}];function g2(){const[t,e]=K.useState([]),[n,r]=K.useState(!0),[i,s]=K.useState(null);return K.useEffect(()=>{if(!_r){e(gm),r(!1);return}let a=!1;return r(!0),s(null),Dc(Nc(_r,"pilotos")).then(l=>{if(a)return;const c=[];l.forEach(h=>{const f=h.data();c.push({id:h.id,nombre:typeof f.nombre=="string"?f.nombre:"",apellido:typeof f.apellido=="string"?f.apellido:void 0,equipo:typeof f.equipo=="string"?f.equipo:void 0,foto:typeof f.foto=="string"?f.foto:void 0,frase:typeof f.frase=="string"?f.frase:void 0,puntos:typeof f.puntos=="number"?f.puntos:void 0,datos:f.datos&&typeof f.datos=="object"?f.datos:void 0})}),e(c)}).catch(l=>{a||(s(l instanceof Error?l.message:"Error al cargar pilotos"),e(gm))}).finally(()=>{a||r(!1)}),()=>{a=!0}},[]),{pilotos:t,loading:n,error:i}}const ym=[{posicion:"1",puntos:40},{posicion:"2",puntos:35},{posicion:"3",puntos:30},{posicion:"4",puntos:25},{posicion:"5",puntos:22},{posicion:"6",puntos:20},{posicion:"7",puntos:18},{posicion:"8",puntos:16},{posicion:"9",puntos:14},{posicion:"10",puntos:12},{posicion:"11",puntos:10},{posicion:"12",puntos:9},{posicion:"13",puntos:8},{posicion:"14",puntos:7},{posicion:"15",puntos:6}],_m=` 2 puntos por adelantamiento en pista (lmite de 10 puntos por carrera)
 1 punto por adelantamiento a rezagados
 2 puntos por pole position
 1 punto por mantener la posicin con respecto a la de largada
 2 puntos por vuelta ms rpida`,vm=[{id:"t1",nombre:"Copa BNA 2025",estado:"concluido",lugar:"Kartdromo Internacional de Buenos Aires - Oscar y Juan Glvez",reglas:["Categora nica, $50000 valor de la inscripcin, 1 vuelta de reconocimiento, 3 vueltas de clasificacin, 20 vueltas de carrera"],puntajesTabla:ym,puntajesAdicionales:_m,resultados:[{id:"c1",nombre:"Martin",apellido:"Pena",equipo:"Alpine",puntos:71},{id:"c2",nombre:"Ezequiel",apellido:"Garcia",equipo:"Ferrari",puntos:62},{id:"c3",nombre:"Diego",apellido:"Fernandez",equipo:"Aston Martin",puntos:55},{id:"c4",nombre:"Ezequiel",apellido:"Salvemini",equipo:"Red Bull",puntos:50},{id:"c5",nombre:"Matias",apellido:"Amado",equipo:"Aston Martin",puntos:61},{id:"c6",nombre:"Federico",apellido:"Di Paola",equipo:"Ferrari",puntos:42},{id:"c7",nombre:"Alejandro",apellido:"Lafuente",equipo:"Aston Martin",puntos:30},{id:"c8",nombre:"Pablo",apellido:"Carbonell",equipo:"Alpine",puntos:26},{id:"c9",nombre:"Fabian",apellido:"Manquez",equipo:"Red Bull",puntos:18},{id:"c10",nombre:"Ezequiel",apellido:"Barany",equipo:"Red Bull",puntos:15},{id:"c11",nombre:"Tomas",apellido:"Ardnt",equipo:"McLaren",puntos:15},{id:"c12",nombre:"Raul",apellido:"Palavecino",equipo:"McLaren",puntos:15},{id:"c13",nombre:"Javier",apellido:"Boero",equipo:"Alpine",puntos:13},{id:"c14",nombre:"German",apellido:"Panunzio",equipo:"Ferrari",puntos:7},{id:"c15",nombre:"Leandro",apellido:"Quinteros",equipo:"X",puntos:4}],carreras:[{id:"1",nombre:"nica",fecha:"2025-12-18",lugar:"Kartdromo Internacional de Buenos Aires - Oscar y Juan Glvez",corredores:[{id:"c1",nombre:"Martin Pena",datos:{mejorTiempo:41.455,karting:6,vueltas:20,ordenLargada:5}},{id:"c2",nombre:"Ezequiel Garcia",datos:{mejorTiempo:41.085,karting:16,vueltas:20,ordenLargada:3}},{id:"c3",nombre:"Diego Fernandez",datos:{mejorTiempo:41.408,karting:22,vueltas:20,ordenLargada:4}},{id:"c4",nombre:"Ezequiel Salvemini",datos:{mejorTiempo:41.043,karting:10,vueltas:20,ordenLargada:2}},{id:"c5",nombre:"Matias Amado",datos:{mejorTiempo:42.653,karting:17,vueltas:20,ordenLargada:13}},{id:"c6",nombre:"Federico Di Paola",datos:{mejorTiempo:42.673,karting:15,vueltas:19,ordenLargada:11}},{id:"c7",nombre:"Alejandro Lafuente",datos:{mejorTiempo:43.05,karting:18,vueltas:19,ordenLargada:6}},{id:"c16",nombre:"Sebastian Egozcue",datos:{mejorTiempo:43.728,karting:5,vueltas:19,ordenLargada:9}},{id:"c8",nombre:"Pablo Carbonell",datos:{mejorTiempo:42.949,karting:3,vueltas:19,ordenLargada:7}},{id:"c9",nombre:"Fabian Manquez",datos:{mejorTiempo:45.544,karting:4,vueltas:18,ordenLargada:10}},{id:"c10",nombre:"Ezequiel Barany",datos:{mejorTiempo:43.497,karting:1,vueltas:18,ordenLargada:1}},{id:"c11",nombre:"Tomas Ardnt",datos:{mejorTiempo:45.016,karting:8,vueltas:18,ordenLargada:12}},{id:"c12",nombre:"Raul Palavecino",datos:{mejorTiempo:45.726,karting:19,vueltas:18,ordenLargada:14}},{id:"c20",nombre:"Javier Boero",datos:{mejorTiempo:48.291,karting:12,vueltas:17,ordenLargada:16}},{id:"c13",nombre:"German Panunzio",datos:{mejorTiempo:48.785,karting:21,vueltas:16,ordenLargada:15}},{id:"c14",nombre:"Leandro Quinteros",datos:{mejorTiempo:46.773,karting:2,vueltas:16,ordenLargada:8}}]}]},{id:"t2",nombre:"Copa BNA 2026",estado:"en_progreso",lugar:"Sedes rotativas (ver cada fecha)",reglas:["Cuatro fechas. Suma de puntos define el campen.","Clasificacin por tiempo. Carrera sprint 20 vueltas.","Corredores con mejor vuelta por fecha suman 1 punto extra."],puntajesTabla:ym,puntajesAdicionales:_m,resultados:[{id:"c5",nombre:"Luis",apellido:"Rodrguez",equipo:"Equipo Norte",puntos:72},{id:"c6",nombre:"Laura",apellido:"Fernndez",equipo:"Equipo Norte",puntos:68},{id:"c7",nombre:"Diego",apellido:"Snchez",equipo:"Kart Sur",puntos:55},{id:"c8",nombre:"Valentina",apellido:"Torres",equipo:"Kart Sur",puntos:52},{id:"c9",nombre:"Martn",apellido:"Gmez",equipo:"BNA Racing",puntos:48},{id:"c10",nombre:"Sofa",apellido:"Ruiz",equipo:"BNA Racing",puntos:45},{id:"c11",nombre:"Andrs",apellido:"Daz",equipo:"Kart Club",puntos:40},{id:"c12",nombre:"Camila",apellido:"Lpez",equipo:"Kart Club",puntos:38},{id:"c13",nombre:"Federico",apellido:"Castro",equipo:"Equipo Central",puntos:65},{id:"c14",nombre:"Luca",apellido:"Morales",equipo:"Equipo Central",puntos:60},{id:"c15",nombre:"Joaqun",apellido:"Romero",equipo:"Equipo Norte",puntos:42},{id:"c16",nombre:"Elena",apellido:"Vega",equipo:"Kart Sur",puntos:36},{id:"c17",nombre:"Ricardo",apellido:"Mndez",equipo:"Sin equipo",puntos:0}],carreras:[{id:"2",nombre:"Night Race",fecha:"2025-12-18",lugar:"Kartdromo Internacional de Buenos Aires - Oscar y Juan Glvez",series:[{nombre:"Serie 1",horario:"21:30"},{nombre:"Serie 2",horario:"22:30"}],corredores:[]},{id:"3",nombre:"Grilla Invertida",fecha:"a definir",lugar:"Kartdromo Sur",detalle:"Hora de probar si los mejores son los ms veloces. Todas las posiciones obtenidas en la Night Race sern el inverso de su posicin de largada en esta carrera.",corredores:[]},{id:"4",nombre:"Sentido Antihorario",fecha:"a definir",lugar:"Kartdromo Internacional de Buenos Aires - Oscar y Juan Glvez",corredores:[]},{id:"5",nombre:"Final",fecha:"a definir",lugar:"Kartdromo Internacional de Buenos Aires - Oscar y Juan Glvez",mostrarEstrella:!0,detalle:"Sern los 10 pilotos ms veloces de las instancias anteriores y los 5 pilotos del equipo con ms puntos.",corredores:[]}]}];function y2(t,e){return{id:t,nombre:typeof e.nombre=="string"?e.nombre:"",apellido:typeof e.apellido=="string"?e.apellido:void 0,equipo:typeof e.equipo=="string"?e.equipo:void 0,puntos:typeof e.puntos=="number"?e.puntos:void 0,datos:e.datos&&typeof e.datos=="object"?e.datos:void 0}}function _2(t,e){const n=[],r=e.corredores;Array.isArray(r)&&r.forEach(s=>{if(s&&typeof s=="object"&&typeof s.id=="string"){const a=s;n.push({id:a.id,nombre:typeof a.nombre=="string"?a.nombre:"",datos:a.datos&&typeof a.datos=="object"?a.datos:void 0})}});let i;return Array.isArray(e.series)&&(i=e.series.filter(s=>s&&typeof s=="object"&&typeof s.nombre=="string").map(s=>({nombre:s.nombre,horario:typeof s.horario=="string"?s.horario:""})),i.length===0&&(i=void 0)),{id:t,nombre:typeof e.nombre=="string"?e.nombre:"",fecha:typeof e.fecha=="string"?e.fecha:"",lugar:typeof e.lugar=="string"?e.lugar:void 0,mostrarEstrella:e.mostrarEstrella===!0,series:i,detalle:typeof e.detalle=="string"?e.detalle:void 0,corredores:n}}function v2(){const[t,e]=K.useState([]),[n,r]=K.useState(!0),[i,s]=K.useState(null);return K.useEffect(()=>{if(!_r){e(vm),r(!1);return}let a=!1;return r(!0),s(null),Dc(Nc(_r,"torneos")).then(async l=>{if(a)return;const c=[];for(const h of l.docs){const f=h.data(),y=await Dc(Nc(_r,"torneos",h.id,"carreras")),_=[];y.forEach(N=>{_.push(_2(N.id,N.data()))}),_.sort((N,M)=>N.fecha.localeCompare(M.fecha));let P;Array.isArray(f.resultados)&&(P=f.resultados.filter(N=>N&&typeof N=="object").map(N=>y2(N.id??"",N)));let R;Array.isArray(f.puntajesTabla)&&(R=f.puntajesTabla.filter(N=>N&&typeof N=="object"&&typeof N.posicion=="string").map(N=>({posicion:N.posicion,puntos:typeof N.puntos=="number"?N.puntos:0})),R.length===0&&(R=void 0)),c.push({id:h.id,nombre:typeof f.nombre=="string"?f.nombre:"",estado:f.estado==="concluido"||f.estado==="en_progreso"?f.estado:void 0,lugar:typeof f.lugar=="string"?f.lugar:void 0,reglas:Array.isArray(f.reglas)?f.reglas.filter(N=>typeof N=="string"):void 0,puntajesTabla:R,puntajesAdicionales:typeof f.puntajesAdicionales=="string"?f.puntajesAdicionales:void 0,resultados:P,carreras:_})}e(c)}).catch(l=>{a||(s(l instanceof Error?l.message:"Error al cargar torneos"),e(vm))}).finally(()=>{a||r(!1)}),()=>{a=!0}},[]),{torneos:t,loading:n,error:i}}const lv=K.createContext(null);function E2({children:t}){const{pilotos:e,loading:n,error:r}=g2(),{torneos:i,loading:s,error:a}=v2(),h={pilotos:e,torneos:i,loading:n||s,error:r??a};return S.jsx(lv.Provider,{value:h,children:t})}function uv(){const t=K.useContext(lv);if(!t)throw new Error("useData debe usarse dentro de DataProvider");return t}const w2="_section_r4r2b_1",T2="_lista_r4r2b_9",S2="_boton_r4r2b_21",I2="_botonActivo_r4r2b_61 _boton_r4r2b_21",C2="_nombre_r4r2b_85",A2="_meta_r4r2b_95",R2="_estado_r4r2b_111",P2="_cantidad_r4r2b_119",En={section:w2,lista:T2,boton:S2,botonActivo:I2,nombre:C2,meta:A2,estado:R2,cantidad:P2};function k2({torneos:t,torneoSeleccionadoId:e,onSeleccionar:n}){return S.jsxs("section",{className:En.section,children:[S.jsx("h2",{children:"Torneos"}),S.jsx("ul",{className:En.lista,children:t.map(r=>S.jsx("li",{children:S.jsxs("button",{type:"button",className:e===r.id?En.botonActivo:En.boton,onClick:()=>n(r),children:[S.jsx("span",{className:En.nombre,children:r.nombre}),S.jsxs("div",{className:En.meta,children:[r.estado&&S.jsx("span",{className:En.estado,children:r.estado==="concluido"?"Concluido":"En Progreso"}),S.jsxs("span",{className:En.cantidad,children:[r.carreras.length," ",r.carreras.length===1?"carrera":"carreras"]})]})]})},r.id))})]})}const x2="_section_17aoy_1",N2="_tituloCarrera_17aoy_15",V2="_estrellaDorada_17aoy_29",D2="_placeholder_17aoy_39",L2="_fecha_17aoy_51",M2="_lugar_17aoy_53",O2="_series_17aoy_73",b2="_serieItem_17aoy_81",j2="_detalle_17aoy_93",F2="_subtitulo_17aoy_107",z2="_toggleSelect_17aoy_121",B2="_toggleSelectLabel_17aoy_135",U2="_toggleSelectNative_17aoy_147",$2="_tablaWrapper_17aoy_191",q2="_tabla_17aoy_191",H2="_th_17aoy_215",G2="_thKarting_17aoy_241",K2="_thVueltas_17aoy_243",W2="_thOrdenLargada_17aoy_245",Q2="_thElo_17aoy_247",Y2="_thOrdenable_17aoy_255",X2="_thIndicador_17aoy_301",J2="_thMobile_17aoy_311",Z2="_thTiempo_17aoy_327",eC="_tdTiempo_17aoy_329",tC="_tdVueltas_17aoy_333",nC="_tdOrdenLargada_17aoy_337",rC="_tdElo_17aoy_341",iC="_tdKarting_17aoy_349",sC="_thDesktop_17aoy_427",oC="_tdPosicion_17aoy_453",aC="_tdNombre_17aoy_465",lC="_fila_17aoy_479",uC="_diffPosicionMejora_17aoy_547",cC="_diffPosicionPerdida_17aoy_561",hC="_eloDeltaSuma_17aoy_623",dC="_eloDeltaResta_17aoy_635",fC="_nombreCorto_17aoy_647",pC="_nombreCompleto_17aoy_657",mC="_tiempoMejor_17aoy_687",gC="_tiempoResto_17aoy_697",yC="_diferenciaTiempo_17aoy_705",_C="_posicion_17aoy_717",vC="_tdVacio_17aoy_729",H={section:x2,tituloCarrera:N2,estrellaDorada:V2,placeholder:D2,fecha:L2,lugar:M2,series:O2,serieItem:b2,detalle:j2,subtitulo:F2,toggleSelect:z2,toggleSelectLabel:B2,toggleSelectNative:U2,tablaWrapper:$2,tabla:q2,th:H2,thKarting:G2,thVueltas:K2,thOrdenLargada:W2,thElo:Q2,thOrdenable:Y2,thIndicador:X2,thMobile:J2,thTiempo:Z2,tdTiempo:eC,tdVueltas:tC,tdOrdenLargada:nC,tdElo:rC,tdKarting:iC,thDesktop:sC,tdPosicion:oC,tdNombre:aC,fila:lC,diffPosicionMejora:uC,diffPosicionPerdida:cC,eloDeltaSuma:hC,eloDeltaResta:dC,nombreCorto:fC,nombreCompleto:pC,tiempoMejor:mC,tiempoResto:gC,diferenciaTiempo:yC,posicion:_C,tdVacio:vC},Em=/[bcdfghjklmnpqrstvwxyz]/i;function EC(t){if(t.length===0)return t;const e=t.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),n=[];for(let l=0;l<e.length;l++)e[l].match(/[aeiou]/i)&&n.push(l);if(n.length<3||t.toLowerCase()==="diego")return t;const r=n[1],i=t[r+1],s=t[r+2],a=i&&Em.test(i)&&s&&Em.test(s)?r+2:r+1;return t.slice(0,a)}function wC(t){const e=t.trim().split(/\s+/);if(e.length<2)return t;const n=e[0],r=e[e.length-1][0];return`${EC(n)} ${r}.`}function fu(t){if(!t.datos||typeof t.datos!="object"||!("mejorTiempo"in t.datos))return null;const e=t.datos.mejorTiempo;return typeof e=="number"?e:null}function pu(t){if(!t.datos||typeof t.datos!="object"||!("ordenLargada"in t.datos))return null;const e=t.datos.ordenLargada;return typeof e=="number"?e:null}function TC({torneo:t,carrera:e}){const[n,r]=K.useState("asc"),[i,s]=K.useState("posicion"),[a,l]=K.useState("mejorTiempo"),c=!!e&&e.corredores.length===0&&(t==null?void 0:t.nombre)==="Copa BNA 2026";if(!e)return S.jsx("section",{className:H.section,children:S.jsx("p",{className:H.placeholder,children:"Seleccion una carrera para ver los corredores."})});const h=K.useMemo(()=>{const m=[...e.corredores];return i==="mejorTiempo"?m.sort((w,A)=>{const D=fu(w)??1/0,O=fu(A)??1/0;return D-O}):i==="ordenLargada"?m.sort((w,A)=>{const D=pu(w)??1/0,O=pu(A)??1/0;return n==="asc"?D-O:O-D}):n==="desc"?m.reverse():m},[e.corredores,n,i]),f=()=>{s("posicion"),r(m=>m==="asc"?"desc":"asc")},y=()=>{s("mejorTiempo")},_=()=>{s("ordenLargada"),r(m=>m==="asc"?"desc":"asc")},P=i==="mejorTiempo"&&h[0]?fu(h[0]):null,R=m=>{const w=e.corredores.findIndex(A=>A.id===m.id);return w>=0?w+1:""},N=m=>900+(m<=8?9-m:8-m),M=i==="ordenLargada"?n==="asc"?"ascending":"descending":void 0;return S.jsxs("section",{className:H.section,children:[S.jsxs("h2",{className:H.tituloCarrera,children:[e.mostrarEstrella&&S.jsx("span",{className:H.estrellaDorada,"aria-hidden":!0,children:""}),e.nombre]}),S.jsxs("p",{className:H.fecha,children:["Fecha: ",e.fecha]}),e.lugar&&S.jsxs("p",{className:H.lugar,children:["Lugar: ",e.lugar]}),e.series&&e.series.length>0&&S.jsx("div",{className:H.series,children:e.series.map(m=>S.jsxs("p",{className:H.serieItem,children:[m.nombre," : ",m.horario]},m.nombre))}),e.detalle&&S.jsx("p",{className:H.detalle,children:e.detalle}),S.jsx("h3",{className:H.subtitulo,children:"Corredores"}),(e.corredores.some(m=>m.datos&&typeof m.datos=="object"&&"karting"in m.datos)||e.corredores.some(m=>m.datos&&typeof m.datos=="object"&&"vueltas"in m.datos)||e.corredores.some(m=>m.datos&&typeof m.datos=="object"&&"ordenLargada"in m.datos)||e.corredores.length>0||c)&&S.jsxs("div",{className:H.toggleSelect,children:[S.jsx("label",{htmlFor:"columna-movil-select",className:H.toggleSelectLabel,children:"Ver columna:"}),S.jsxs("select",{id:"columna-movil-select",value:a,onChange:m=>l(m.target.value),className:H.toggleSelectNative,"aria-label":"Elegir columna a mostrar",children:[(e.corredores.some(m=>m.datos&&typeof m.datos=="object"&&"karting"in m.datos)||c)&&S.jsx("option",{value:"karting",children:"Karting"}),S.jsx("option",{value:"mejorTiempo",children:"Mejor tiempo"}),(e.corredores.some(m=>m.datos&&typeof m.datos=="object"&&"vueltas"in m.datos)||c)&&S.jsx("option",{value:"vueltas",children:"Vueltas"}),(e.corredores.some(m=>m.datos&&typeof m.datos=="object"&&"ordenLargada"in m.datos)||c)&&S.jsx("option",{value:"ordenLargada",children:"Orden largada"}),S.jsx("option",{value:"elo",children:"Elo"})]})]}),S.jsx("div",{className:H.tablaWrapper,"data-columna-movil":e.corredores.some(m=>m.datos&&typeof m.datos=="object"&&"karting"in m.datos)||e.corredores.some(m=>m.datos&&typeof m.datos=="object"&&"vueltas"in m.datos)||e.corredores.some(m=>m.datos&&typeof m.datos=="object"&&"ordenLargada"in m.datos)||e.corredores.length>0||c?a:void 0,children:S.jsxs("table",{className:H.tabla,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{className:H.th,children:S.jsxs("button",{type:"button",className:H.thOrdenable,onClick:f,"aria-sort":i==="posicion"?n==="asc"?"ascending":"descending":void 0,children:[S.jsx("span",{className:H.thDesktop,children:"Posicin"}),S.jsx("span",{className:H.thMobile,children:"Pos"}),S.jsx("span",{className:H.thIndicador,"aria-hidden":!0,children:i==="posicion"?n==="asc"?" ":" ":""})]})}),S.jsx("th",{className:H.th,children:"Nombre"}),(e.corredores.some(m=>m.datos&&typeof m.datos=="object"&&"karting"in m.datos)||c)&&S.jsx("th",{className:`${H.th} ${H.thKarting}`,children:"Karting"}),(e.corredores.some(m=>m.datos&&typeof m.datos=="object"&&"vueltas"in m.datos)||c)&&S.jsx("th",{className:`${H.th} ${H.thVueltas}`,children:"Vueltas"}),(e.corredores.some(m=>m.datos&&typeof m.datos=="object"&&"ordenLargada"in m.datos)||c)&&S.jsx("th",{className:`${H.th} ${H.thOrdenLargada}`,children:S.jsxs("button",{type:"button",className:H.thOrdenable,onClick:_,"aria-sort":M,title:"Ordenar por orden de largada",children:["Orden largada",i==="ordenLargada"&&S.jsx("span",{className:H.thIndicador,"aria-hidden":!0,children:n==="asc"?" ":" "})]})}),S.jsx("th",{className:`${H.th} ${H.thTiempo}`,children:S.jsxs("button",{type:"button",className:H.thOrdenable,onClick:y,"aria-sort":i==="mejorTiempo"?"ascending":void 0,title:"Ordenar por mejor tiempo (menor arriba)",children:["Mejor Tiempo",i==="mejorTiempo"&&S.jsx("span",{className:H.thIndicador,"aria-hidden":!0,children:" "})]})}),S.jsx("th",{className:`${H.th} ${H.thElo}`,children:"Elo"})]})}),S.jsx("tbody",{children:c&&h.length===0?S.jsx("tr",{children:S.jsx("td",{colSpan:7,className:H.tdVacio,children:"An no se corri"})}):h.map((m,w)=>{const A=R(m),D=e.corredores.findIndex(v=>v.id===m.id)+1,O=i==="ordenLargada"?pu(m):null,j=i==="ordenLargada"&&O!=null&&D>=1?O-D:null,E=m.datos&&typeof m.datos=="object"&&"mejorTiempo"in m.datos?m.datos.mejorTiempo:void 0,g=i==="mejorTiempo"&&P!=null&&E!=null?E-P:null;return S.jsxs("tr",{className:H.fila,children:[S.jsx("td",{className:H.tdPosicion,children:S.jsx("span",{className:H.posicion,children:A})}),S.jsxs("td",{className:H.tdNombre,children:[S.jsx("span",{className:H.nombreCompleto,children:m.nombre}),S.jsx("span",{className:H.nombreCorto,children:wC(m.nombre)})]}),(e.corredores.some(v=>v.datos&&typeof v.datos=="object"&&"karting"in v.datos)||c)&&S.jsx("td",{className:H.tdKarting,children:m.datos&&typeof m.datos=="object"&&"karting"in m.datos&&typeof m.datos.karting=="number"?m.datos.karting:""}),(e.corredores.some(v=>v.datos&&typeof v.datos=="object"&&"vueltas"in v.datos)||c)&&S.jsx("td",{className:H.tdVueltas,children:m.datos&&typeof m.datos=="object"&&"vueltas"in m.datos&&typeof m.datos.vueltas=="number"?m.datos.vueltas:""}),(e.corredores.some(v=>v.datos&&typeof v.datos=="object"&&"ordenLargada"in v.datos)||c)&&S.jsxs("td",{className:H.tdOrdenLargada,children:[i==="ordenLargada"&&j!=null&&j!==0&&S.jsxs("span",{className:j>0?H.diffPosicionMejora:H.diffPosicionPerdida,children:[j>0?`+${j}`:j," "]}),m.datos&&typeof m.datos=="object"&&"ordenLargada"in m.datos&&typeof m.datos.ordenLargada=="number"?m.datos.ordenLargada:""]}),S.jsxs("td",{className:i==="mejorTiempo"&&w===0?`${H.tdTiempo} ${H.tiempoMejor}`:i==="mejorTiempo"?`${H.tdTiempo} ${H.tiempoResto}`:H.tdTiempo,children:[i==="mejorTiempo"&&w>=1&&g!=null&&S.jsxs("span",{className:H.diferenciaTiempo,children:["+",g.toFixed(3)," "]}),E!=null?`${E.toFixed(3)} s`:""]}),S.jsx("td",{className:H.tdElo,children:D>=1?S.jsxs(S.Fragment,{children:[D<=8?S.jsxs("span",{className:H.eloDeltaSuma,children:["+",9-D," "]}):S.jsxs("span",{className:H.eloDeltaResta,children:[8-D," "]}),N(D)]}):""})]},m.id)})})]})})]})}const SC="_section_1q6bu_1",IC="_lista_1q6bu_9",CC="_itemCarrera_1q6bu_21",AC="_detalleWrapper_1q6bu_33",RC="_boton_1q6bu_49",PC="_botonActivo_1q6bu_89 _boton_1q6bu_49",kC="_botonExpandido_1q6bu_113",xC="_nombre_1q6bu_121",NC="_estrellaDorada_1q6bu_137",VC="_fecha_1q6bu_147",zt={section:SC,lista:IC,itemCarrera:CC,detalleWrapper:AC,boton:RC,botonActivo:PC,botonExpandido:kC,nombre:xC,estrellaDorada:NC,fecha:VC};function DC({torneo:t,carreras:e,carreraSeleccionadaId:n,onSeleccionar:r}){return S.jsxs("section",{className:zt.section,children:[S.jsx("h2",{children:"Carreras"}),S.jsx("ul",{className:zt.lista,children:e.map(i=>S.jsxs("li",{className:zt.itemCarrera,children:[S.jsxs("button",{type:"button",className:n===i.id?`${zt.botonActivo} ${zt.botonExpandido}`:zt.boton,onClick:()=>r(i),children:[S.jsxs("span",{className:zt.nombre,children:[i.mostrarEstrella&&S.jsx("span",{className:zt.estrellaDorada,"aria-hidden":!0,children:""}),i.nombre]}),S.jsx("span",{className:zt.fecha,children:i.fecha})]}),n===i.id&&S.jsx("div",{className:zt.detalleWrapper,children:S.jsx(TC,{torneo:t,carrera:i})})]},i.id))})]})}const LC="_section_1lpep_1",MC="_botonTitulo_1lpep_17",OC="_chevron_1lpep_57",bC="_contenido_1lpep_75",jC="_bloque_1lpep_85",FC="_subtitulo_1lpep_101",zC="_texto_1lpep_115",BC="_textoPuntajes_1lpep_117",UC="_lista_1lpep_139",$C="_itemLista_1lpep_149",qC="_tablaWrapper_1lpep_171",HC="_tabla_1lpep_171",GC="_th_1lpep_193",KC="_td_1lpep_195",WC="_filaOro_1lpep_227",QC="_filaPlata_1lpep_239",YC="_filaBronce_1lpep_251",he={section:LC,botonTitulo:MC,chevron:OC,contenido:bC,bloque:jC,subtitulo:FC,texto:zC,textoPuntajes:BC,lista:UC,itemLista:$C,tablaWrapper:qC,tabla:HC,th:GC,td:KC,filaOro:WC,filaPlata:QC,filaBronce:YC};function XC({torneo:t}){var i;const[e,n]=K.useState(!1);return!t||!(t.lugar||t.reglas&&t.reglas.length>0||t.puntajesTabla&&t.puntajesTabla.length>0||t.puntajesAdicionales&&t.puntajesAdicionales.trim()!=="")?null:S.jsxs("section",{className:he.section,children:[S.jsxs("button",{type:"button",className:he.botonTitulo,onClick:()=>n(s=>!s),"aria-expanded":e,children:[S.jsx("span",{children:"Detalles del torneo"}),S.jsx("span",{className:he.chevron,"aria-hidden":!0,children:e?"":""})]}),e&&S.jsxs("div",{className:he.contenido,children:[t.lugar&&S.jsxs("div",{className:he.bloque,children:[S.jsx("h3",{className:he.subtitulo,children:"Lugar"}),S.jsx("p",{className:he.texto,children:t.lugar})]}),t.reglas&&t.reglas.length>0&&S.jsxs("div",{className:he.bloque,children:[S.jsx("h3",{className:he.subtitulo,children:"Reglas"}),S.jsx("ul",{className:he.lista,children:t.reglas.map((s,a)=>S.jsx("li",{className:he.itemLista,children:s},a))})]}),(((i=t.puntajesTabla)==null?void 0:i.length)??0)>0&&S.jsxs("div",{className:he.bloque,children:[S.jsx("h3",{className:he.subtitulo,children:"Puntos"}),S.jsx("div",{className:he.tablaWrapper,children:S.jsxs("table",{className:he.tabla,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{className:he.th,children:"Posicin"}),S.jsx("th",{className:he.th,children:"Puntos"})]})}),S.jsx("tbody",{children:t.puntajesTabla.map((s,a)=>S.jsxs("tr",{className:a===0?he.filaOro:a===1?he.filaPlata:a===2?he.filaBronce:void 0,children:[S.jsx("td",{className:he.td,children:s.posicion}),S.jsx("td",{className:he.td,children:s.puntos})]},a))})]})})]}),t.puntajesAdicionales&&t.puntajesAdicionales.trim()!==""&&S.jsxs("div",{className:he.bloque,children:[S.jsx("h3",{className:he.subtitulo,children:"Puntos adicionales"}),S.jsx("p",{className:he.textoPuntajes,children:t.puntajesAdicionales})]})]})]})}const JC="_section_1dwh3_1",ZC="_lista_1dwh3_9",eA="_itemResultados_1dwh3_21",tA="_botonCabecera_1dwh3_35",nA="_itemTitulo_1dwh3_73",rA="_chevron_1dwh3_83",iA="_chevronAbierto_1dwh3_85",sA="_tablaWrapper_1dwh3_105",oA="_tabla_1dwh3_105",aA="_th_1dwh3_133",lA="_td_1dwh3_135",uA="_tdPuntos_1dwh3_137",cA="_filaOro_1dwh3_163",hA="_filaPlata_1dwh3_183",dA="_filaBronce_1dwh3_203",Re={section:JC,lista:ZC,itemResultados:eA,botonCabecera:tA,itemTitulo:nA,chevron:rA,chevronAbierto:iA,tablaWrapper:sA,tabla:oA,th:aA,td:lA,tdPuntos:uA,filaOro:cA,filaPlata:hA,filaBronce:dA};function fA({torneo:t}){const[e,n]=K.useState(!1),r=(t==null?void 0:t.estado)==="en_progreso",i=(t==null?void 0:t.resultados)!=null&&t.resultados.length>0;if(!t||!i&&!r)return null;const s=r,a=s?"Resultados Parciales":"Resultados finales",l=s?[]:t.resultados??[];return S.jsxs("section",{className:Re.section,children:[S.jsx("h2",{children:"Resultados"}),S.jsx("ul",{className:Re.lista,children:S.jsx("li",{children:S.jsxs("div",{className:Re.itemResultados,children:[S.jsxs("button",{type:"button",className:Re.botonCabecera,onClick:()=>n(c=>!c),"aria-expanded":e,"aria-controls":"resultados-finales-tabla",children:[S.jsx("span",{className:Re.itemTitulo,children:a}),S.jsx("span",{className:e?Re.chevronAbierto:Re.chevron,children:""})]}),e&&S.jsx("div",{id:"resultados-finales-tabla",className:Re.tablaWrapper,children:S.jsxs("table",{className:Re.tabla,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{className:Re.th,children:"Nombre"}),S.jsx("th",{className:Re.th,children:"Apellido"}),S.jsx("th",{className:Re.th,children:"Equipo"}),S.jsx("th",{className:Re.th,children:"Puntos"})]})}),S.jsx("tbody",{children:l.map((c,h)=>S.jsxs("tr",{className:h===0?Re.filaOro:h===1?Re.filaPlata:h===2?Re.filaBronce:void 0,children:[S.jsx("td",{className:Re.td,children:c.nombre}),S.jsx("td",{className:Re.td,children:c.apellido??""}),S.jsx("td",{className:Re.td,children:c.equipo??""}),S.jsx("td",{className:Re.tdPuntos,children:c.puntos??""})]},c.id))})]})})]})})})]})}const pA="_section_6qtcg_1",mA="_botonTitulo_6qtcg_17",gA="_titulo_6qtcg_57",yA="_chevron_6qtcg_69",_A="_chevronAbierto_6qtcg_71",vA="_lista_6qtcg_91",EA="_item_6qtcg_109",wA="_itemFila_6qtcg_133",TA="_itemContenidoExpandido_6qtcg_151",SA="_itemRedBull_6qtcg_177",IA="_itemAstonMartin_6qtcg_189",CA="_itemFerrari_6qtcg_201",AA="_itemMcLaren_6qtcg_213",RA="_itemContenido_6qtcg_151",PA="_nombre_6qtcg_223",kA="_dato_6qtcg_225",xA="_datoLabel_6qtcg_227",NA="_itemMercedes_6qtcg_237",VA="_itemAlpine_6qtcg_279",DA="_itemExpandido_6qtcg_327",LA="_itemChevron_6qtcg_333",MA="_logoWrap_6qtcg_387",OA="_logoEscuderia_6qtcg_407",bA="_fotoRostro_6qtcg_427",jA="_itemContenidoNombreYFoto_6qtcg_467",FA="_itemContenidoIzq_6qtcg_485",zA="_itemContenidoDer_6qtcg_509",BA="_datoFrase_6qtcg_553",UA="_datoFraseValor_6qtcg_571",$A="_escuderia_6qtcg_603",q={section:pA,botonTitulo:mA,titulo:gA,chevron:yA,chevronAbierto:_A,lista:vA,item:EA,itemFila:wA,itemContenidoExpandido:TA,itemRedBull:SA,itemAstonMartin:IA,itemFerrari:CA,itemMcLaren:AA,itemContenido:RA,nombre:PA,dato:kA,datoLabel:xA,itemMercedes:NA,itemAlpine:VA,itemExpandido:DA,itemChevron:LA,logoWrap:MA,logoEscuderia:OA,fotoRostro:bA,itemContenidoNombreYFoto:jA,itemContenidoIzq:FA,itemContenidoDer:zA,datoFrase:BA,datoFraseValor:UA,escuderia:$A},wm="(max-width: 768px)";function qA(){const[t,e]=K.useState(()=>typeof window<"u"&&window.matchMedia(wm).matches);return K.useEffect(()=>{const n=window.matchMedia(wm),r=()=>e(n.matches);return n.addEventListener("change",r),()=>n.removeEventListener("change",r)},[]),t}function HA(t){return[t.nombre,t.apellido].filter(Boolean).join(" ")}function or(t){return"https://raw.githubusercontent.com/egarcia91/F1-BNA-web/main/public"+(t.startsWith("/")?t:`/${t}`)}function GA(t){return t.foto?t.foto.startsWith("/")?t.foto:`/${t.foto}`:`/pilotos/${[t.nombre,t.apellido].filter(Boolean).join(" ").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}.jpg`}function Tm(t){const e=t.datos&&typeof t.datos=="object"&&"numero"in t.datos?t.datos.numero:void 0;return e!=null?String(e):""}function Sm(t){const e=t.datos&&typeof t.datos=="object"&&"peso"in t.datos?t.datos.peso:void 0;return e!=null?`${e} kg`:""}function KA(t){const e=new Map;for(const n of t)for(const r of n.carreras)for(const i of r.corredores){const s=i.id;e.set(s,(e.get(s)??0)+1)}return e}function WA(t){const e=new Map;for(const n of t)for(const r of n.carreras)r.corredores.forEach((i,s)=>{const a=s+1,l=i.id,c=e.get(l);(c===void 0||a<c)&&e.set(l,a)});return e}const Lc=900;function QA(t){return t<=8?9-t:8-t}function YA(t){const e=new Map;for(const n of t)for(const r of n.carreras)r.corredores.forEach((i,s)=>{const a=s+1,l=QA(a),c=i.id;e.set(c,(e.get(c)??Lc)+l)});return e}function XA(){const{pilotos:t,torneos:e}=uv(),[n,r]=K.useState(!1),[i,s]=K.useState(new Set),[a,l]=K.useState(null),c=qA(),h=K.useMemo(()=>KA(e),[e]),f=K.useMemo(()=>WA(e),[e]),y=K.useMemo(()=>YA(e),[e]),_=R=>{l(N=>N===R?null:R)},P=R=>{s(N=>new Set(N).add(R))};return S.jsxs("section",{className:q.section,children:[S.jsxs("button",{type:"button",className:q.botonTitulo,onClick:()=>r(R=>!R),"aria-expanded":n,"aria-controls":"seccion-pilotos-lista",children:[S.jsx("span",{className:q.titulo,children:"Pilotos"}),S.jsx("span",{className:n?q.chevronAbierto:q.chevron,children:""})]}),n&&S.jsx("ul",{id:"seccion-pilotos-lista",className:q.lista,children:t.map(R=>{const N=R.equipo==="Red Bull"?`${q.item} ${q.itemRedBull}`:R.equipo==="Aston Martin"?`${q.item} ${q.itemAstonMartin}`:R.equipo==="Alpine"?`${q.item} ${q.itemAlpine}`:R.equipo==="Ferrari"?`${q.item} ${q.itemFerrari}`:R.equipo==="McLaren"?`${q.item} ${q.itemMcLaren}`:R.equipo==="Mercedes"?`${q.item} ${q.itemMercedes}`:q.item,M=a===R.id;return S.jsxs("li",{className:`${N} ${M?q.itemExpandido:""}`,onClick:()=>_(R.id),role:"button",tabIndex:0,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),_(R.id))},"aria-expanded":M,children:[S.jsxs("div",{className:q.itemFila,children:[S.jsxs("div",{className:q.logoWrap,children:[R.equipo==="Red Bull"&&S.jsx("img",{src:or("/redbull.png"),alt:"",className:q.logoEscuderia}),R.equipo==="Aston Martin"&&S.jsx("img",{src:or("/astonmartin.png"),alt:"",className:q.logoEscuderia}),R.equipo==="Alpine"&&S.jsx("img",{src:or("/alpine.png"),alt:"",className:q.logoEscuderia}),R.equipo==="Ferrari"&&S.jsx("img",{src:or("/ferrari.png"),alt:"",className:q.logoEscuderia}),R.equipo==="McLaren"&&S.jsx("img",{src:or("/mclaren.png"),alt:"",className:q.logoEscuderia}),R.equipo==="Mercedes"&&S.jsx("img",{src:or("/mercedesbenz.png"),alt:"",className:q.logoEscuderia})]}),S.jsxs("div",{className:q.itemContenido,children:[S.jsxs("div",{className:q.itemContenidoNombreYFoto,children:[S.jsxs("div",{className:q.itemContenidoIzq,children:[S.jsx("span",{className:q.nombre,children:HA(R)}),R.equipo!=="Red Bull"&&R.equipo!=="Aston Martin"&&R.equipo!=="Alpine"&&R.equipo!=="Ferrari"&&R.equipo!=="McLaren"&&R.equipo!=="Mercedes"&&S.jsx("span",{className:q.escuderia,children:R.equipo??""})]}),!i.has(R.id)&&S.jsx("img",{src:or(GA(R)),alt:"",className:q.fotoRostro,onError:()=>P(R.id)})]}),S.jsx("span",{className:q.itemChevron,"aria-hidden":!0,children:M?"":""}),!c&&S.jsxs("div",{className:q.itemContenidoDer,children:[S.jsxs("span",{className:q.dato,children:[S.jsx("span",{className:q.datoLabel,children:"N"})," ",Tm(R)]}),S.jsx("span",{className:q.dato,children:Sm(R)}),S.jsxs("span",{className:q.dato,children:[S.jsx("span",{className:q.datoLabel,children:"Carreras"})," ",h.get(R.id)??0]}),S.jsxs("span",{className:q.dato,children:[S.jsx("span",{className:q.datoLabel,children:"Mejor Puesto"})," ",f.has(R.id)?f.get(R.id):""]}),S.jsxs("span",{className:q.dato,children:[S.jsx("span",{className:q.datoLabel,children:"Elo"})," ",y.get(R.id)??Lc]}),R.frase&&S.jsxs("span",{className:q.datoFrase,children:[S.jsx("span",{className:q.datoLabel,children:"Frase"})," ",S.jsx("span",{className:q.datoFraseValor,children:R.frase})]})]})]})]}),c&&S.jsxs("div",{className:q.itemContenidoExpandido,"aria-hidden":!M,children:[S.jsxs("span",{className:q.dato,children:[S.jsx("span",{className:q.datoLabel,children:"N"})," ",Tm(R)]}),S.jsx("span",{className:q.dato,children:Sm(R)}),S.jsxs("span",{className:q.dato,children:[S.jsx("span",{className:q.datoLabel,children:"Carreras"})," ",h.get(R.id)??0]}),S.jsxs("span",{className:q.dato,children:[S.jsx("span",{className:q.datoLabel,children:"Mejor Puesto"})," ",f.has(R.id)?f.get(R.id):""]}),S.jsxs("span",{className:q.dato,children:[S.jsx("span",{className:q.datoLabel,children:"Elo"})," ",y.get(R.id)??Lc]}),R.frase&&S.jsxs("span",{className:q.datoFrase,children:[S.jsx("span",{className:q.datoLabel,children:"Frase"})," ",S.jsx("span",{className:q.datoFraseValor,children:R.frase})]})]})]},R.id)})})]})}const JA="_wrapper_zpjvf_1",ZA="_card_zpjvf_17",eR="_titulo_zpjvf_37",tR="_subtitulo_zpjvf_59",nR="_avisoConfig_zpjvf_73",rR="_botonGoogle_zpjvf_109",iR="_botonInvitado_zpjvf_153",sR="_iconoGoogle_zpjvf_197",Zt={wrapper:JA,card:ZA,titulo:eR,subtitulo:tR,avisoConfig:nR,botonGoogle:rR,botonInvitado:iR,iconoGoogle:sR},Im="551412953843-h3vbpfge7kh9qbphongd7j60kh4j78u3.apps.googleusercontent.com".trim();function cv(){return S.jsxs("svg",{className:Zt.iconoGoogle,viewBox:"0 0 24 24","aria-hidden":!0,children:[S.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),S.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),S.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),S.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}function oR(){const{login:t}=kh(),e=yE({onSuccess:n=>{fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${n.access_token}`}}).then(r=>r.json()).then(r=>{var s;const i={email:r.email??"",name:r.name??((s=r.email)==null?void 0:s.split("@")[0])??"Usuario",picture:r.picture};i.email&&t(i)}).catch(()=>{})},onError:()=>{},flow:"implicit"});return S.jsxs("button",{type:"button",onClick:()=>e(),className:Zt.botonGoogle,"aria-label":"Iniciar sesin con Google",children:[S.jsx(cv,{}),"Continuar con Google"]})}function aR(){const{loginAsGuest:t}=kh();return S.jsx("div",{className:Zt.wrapper,children:S.jsxs("div",{className:Zt.card,children:[S.jsx("h1",{className:Zt.titulo,children:"Karting BNA"}),S.jsx("p",{className:Zt.subtitulo,children:"Inici sesin con tu cuenta de Google para acceder"}),!Im&&S.jsxs("p",{className:Zt.avisoConfig,children:["Configur ",S.jsx("code",{children:"VITE_GOOGLE_CLIENT_ID"})," en un archivo ",S.jsx("code",{children:".env"})," en la raz del proyecto (copi ",S.jsx("code",{children:".env.example"})," y peg tu Client ID). Reinici ",S.jsx("code",{children:"npm run dev"})," despus."]}),Im?S.jsx(oR,{}):S.jsxs("button",{type:"button",className:Zt.botonGoogle,disabled:!0,children:[S.jsx(cv,{}),"Continuar con Google"]}),S.jsx("button",{type:"button",onClick:t,className:Zt.botonInvitado,"aria-label":"Continuar sin iniciar sesin",children:"Continuar sin iniciar sesin"})]})})}function lR(){const{user:t,isLoading:e,logout:n}=kh(),{torneos:r,loading:i,error:s}=uv(),[a,l]=K.useState(null),[c,h]=K.useState(null),f=(a==null?void 0:a.carreras)??[],y=M=>{h(m=>(m==null?void 0:m.id)===M.id?null:M)},_=new Date(2026,2,5),P=new Date;P.setHours(0,0,0,0),_.setHours(0,0,0,0);const R=_.getTime()-P.getTime(),N=Math.max(0,Math.ceil(R/(1e3*60*60*24)));return e?S.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"var(--f1-text-muted)"},children:"Cargando"}):t?i?S.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"var(--f1-text-muted)"},children:"Cargando datos"}):s?S.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"var(--f1-red)"},children:s}):S.jsxs(S.Fragment,{children:[S.jsxs("header",{className:"headerTitulo",children:[S.jsxs("div",{children:[S.jsx("h1",{children:"Karting BNA"}),S.jsxs("span",{className:"headerUsuario",children:[t.name,S.jsx("button",{type:"button",onClick:n,className:"headerCerrarSesion",title:t.email?"Cerrar sesin":"Iniciar sesin",children:t.email?"Salir":"Login"})]})]}),S.jsxs("span",{className:"cartelProximaCarrera",children:["Faltan ",N," das"]})]}),S.jsx(XA,{}),S.jsx(k2,{torneos:r,torneoSeleccionadoId:(a==null?void 0:a.id)??null,onSeleccionar:M=>{l(M),h(null)}}),a&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"torneoStickyBar","aria-live":"polite",children:[a.nombre,c&&` - ${c.nombre}`]}),S.jsx(DC,{torneo:a,carreras:f,carreraSeleccionadaId:(c==null?void 0:c.id)??null,onSeleccionar:y}),S.jsx(fA,{torneo:a}),S.jsx(XC,{torneo:a})]})]}):S.jsx(aR,{})}const Cm="551412953843-h3vbpfge7kh9qbphongd7j60kh4j78u3.apps.googleusercontent.com".trim(),Am=S.jsx(K.StrictMode,{children:S.jsx(vE,{children:S.jsx(E2,{children:S.jsx(lR,{})})})});Fy(document.getElementById("root")).render(Cm?S.jsx(mE,{clientId:Cm,children:Am}):Am);
